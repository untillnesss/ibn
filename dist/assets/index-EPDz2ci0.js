const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-sNRfuB36.js","assets/AboutView-CSIvawM9.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ui(a){const e=Object.create(null);for(const t of a.split(","))e[t]=1;return t=>t in e}const ke={},Mt=[],tt=()=>{},Yo=()=>!1,Cn=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&(a.charCodeAt(2)>122||a.charCodeAt(2)<97),hi=a=>a.startsWith("onUpdate:"),Pe=Object.assign,pi=(a,e)=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)},Xo=Object.prototype.hasOwnProperty,_e=(a,e)=>Xo.call(a,e),le=Array.isArray,Yt=a=>In(a)==="[object Map]",Wo=a=>In(a)==="[object Set]",de=a=>typeof a=="function",Ee=a=>typeof a=="string",Ct=a=>typeof a=="symbol",Ae=a=>a!==null&&typeof a=="object",Ir=a=>(Ae(a)||de(a))&&de(a.then)&&de(a.catch),Go=Object.prototype.toString,In=a=>Go.call(a),Ko=a=>In(a).slice(8,-1),Jo=a=>In(a)==="[object Object]",gi=a=>Ee(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,Xt=ui(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),An=a=>{const e=Object.create(null);return t=>e[t]||(e[t]=a(t))},Zo=/-(\w)/g,mt=An(a=>a.replace(Zo,(e,t)=>t?t.toUpperCase():"")),Qo=/\B([A-Z])/g,It=An(a=>a.replace(Qo,"-$1").toLowerCase()),Ar=An(a=>a.charAt(0).toUpperCase()+a.slice(1)),Tn=An(a=>a?`on${Ar(a)}`:""),gt=(a,e)=>!Object.is(a,e),Bn=(a,...e)=>{for(let t=0;t<a.length;t++)a[t](...e)},Nr=(a,e,t,n=!1)=>{Object.defineProperty(a,e,{configurable:!0,enumerable:!1,writable:n,value:t})},ea=a=>{const e=parseFloat(a);return isNaN(e)?a:e};let Pi;const Nn=()=>Pi||(Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mi(a){if(le(a)){const e={};for(let t=0;t<a.length;t++){const n=a[t],i=Ee(n)?ra(n):mi(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(Ee(a)||Ae(a))return a}const ta=/;(?![^(]*\))/g,na=/:([^]+)/,ia=/\/\*[^]*?\*\//g;function ra(a){const e={};return a.replace(ia,"").split(ta).forEach(t=>{if(t){const n=t.split(na);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function vi(a){let e="";if(Ee(a))e=a;else if(le(a))for(let t=0;t<a.length;t++){const n=vi(a[t]);n&&(e+=n+" ")}else if(Ae(a))for(const t in a)a[t]&&(e+=t+" ");return e.trim()}const oa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aa=ui(oa);function Er(a){return!!a||a===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class sa{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=je;try{return je=this,e()}finally{je=t}}}on(){je=this}off(){je=this.parent}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function la(){return je}let Se;const zn=new WeakSet;class Lr{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zn.has(this)&&(zn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Or(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ui(this),Rr(this);const e=Se,t=Ge;Se=this,Ge=!0;try{return this.fn()}finally{Pr(this),Se=e,Ge=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xi(e);this.deps=this.depsTail=void 0,Ui(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jn(this)&&this.run()}get dirty(){return Jn(this)}}let Mr=0,Wt,Gt;function Or(a,e=!1){if(a.flags|=8,e){a.next=Gt,Gt=a;return}a.next=Wt,Wt=a}function bi(){Mr++}function yi(){if(--Mr>0)return;if(Gt){let e=Gt;for(Gt=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let a;for(;Wt;){let e=Wt;for(Wt=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){a||(a=n)}e=t}}if(a)throw a}function Rr(a){for(let e=a.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Pr(a){let e,t=a.depsTail,n=t;for(;n;){const i=n.prevDep;n.version===-1?(n===t&&(t=i),xi(n),da(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}a.deps=e,a.depsTail=t}function Jn(a){for(let e=a.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ur(e.dep.computed)||e.dep.version!==e.version))return!0;return!!a._dirty}function Ur(a){if(a.flags&4&&!(a.flags&16)||(a.flags&=-17,a.globalVersion===tn))return;a.globalVersion=tn;const e=a.dep;if(a.flags|=2,e.version>0&&!a.isSSR&&a.deps&&!Jn(a)){a.flags&=-3;return}const t=Se,n=Ge;Se=a,Ge=!0;try{Rr(a);const i=a.fn(a._value);(e.version===0||gt(i,a._value))&&(a._value=i,e.version++)}catch(i){throw e.version++,i}finally{Se=t,Ge=n,Pr(a),a.flags&=-3}}function xi(a,e=!1){const{dep:t,prevSub:n,nextSub:i}=a;if(n&&(n.nextSub=i,a.prevSub=void 0),i&&(i.prevSub=n,a.nextSub=void 0),t.subs===a&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)xi(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function da(a){const{prevDep:e,nextDep:t}=a;e&&(e.nextDep=t,a.prevDep=void 0),t&&(t.prevDep=e,a.nextDep=void 0)}let Ge=!0;const Tr=[];function vt(){Tr.push(Ge),Ge=!1}function bt(){const a=Tr.pop();Ge=a===void 0?!0:a}function Ui(a){const{cleanup:e}=a;if(a.cleanup=void 0,e){const t=Se;Se=void 0;try{e()}finally{Se=t}}}let tn=0;class ca{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _i{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Se||!Ge||Se===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Se)t=this.activeLink=new ca(Se,this),Se.deps?(t.prevDep=Se.depsTail,Se.depsTail.nextDep=t,Se.depsTail=t):Se.deps=Se.depsTail=t,Br(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=Se.depsTail,t.nextDep=void 0,Se.depsTail.nextDep=t,Se.depsTail=t,Se.deps===t&&(Se.deps=n)}return t}trigger(e){this.version++,tn++,this.notify(e)}notify(e){bi();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{yi()}}}function Br(a){if(a.dep.sc++,a.sub.flags&4){const e=a.dep.computed;if(e&&!a.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Br(n)}const t=a.dep.subs;t!==a&&(a.prevSub=t,t&&(t.nextSub=a)),a.dep.subs=a}}const Zn=new WeakMap,St=Symbol(""),Qn=Symbol(""),nn=Symbol("");function Oe(a,e,t){if(Ge&&Se){let n=Zn.get(a);n||Zn.set(a,n=new Map);let i=n.get(t);i||(n.set(t,i=new _i),i.map=n,i.key=t),i.track()}}function at(a,e,t,n,i,r){const o=Zn.get(a);if(!o){tn++;return}const s=l=>{l&&l.trigger()};if(bi(),e==="clear")o.forEach(s);else{const l=le(a),c=l&&gi(t);if(l&&t==="length"){const d=Number(n);o.forEach((u,f)=>{(f==="length"||f===nn||!Ct(f)&&f>=d)&&s(u)})}else switch((t!==void 0||o.has(void 0))&&s(o.get(t)),c&&s(o.get(nn)),e){case"add":l?c&&s(o.get("length")):(s(o.get(St)),Yt(a)&&s(o.get(Qn)));break;case"delete":l||(s(o.get(St)),Yt(a)&&s(o.get(Qn)));break;case"set":Yt(a)&&s(o.get(St));break}}yi()}function Nt(a){const e=xe(a);return e===a?e:(Oe(e,"iterate",nn),Ke(a)?e:e.map(Be))}function wi(a){return Oe(a=xe(a),"iterate",nn),a}const fa={__proto__:null,[Symbol.iterator](){return Hn(this,Symbol.iterator,Be)},concat(...a){return Nt(this).concat(...a.map(e=>le(e)?Nt(e):e))},entries(){return Hn(this,"entries",a=>(a[1]=Be(a[1]),a))},every(a,e){return it(this,"every",a,e,void 0,arguments)},filter(a,e){return it(this,"filter",a,e,t=>t.map(Be),arguments)},find(a,e){return it(this,"find",a,e,Be,arguments)},findIndex(a,e){return it(this,"findIndex",a,e,void 0,arguments)},findLast(a,e){return it(this,"findLast",a,e,Be,arguments)},findLastIndex(a,e){return it(this,"findLastIndex",a,e,void 0,arguments)},forEach(a,e){return it(this,"forEach",a,e,void 0,arguments)},includes(...a){return $n(this,"includes",a)},indexOf(...a){return $n(this,"indexOf",a)},join(a){return Nt(this).join(a)},lastIndexOf(...a){return $n(this,"lastIndexOf",a)},map(a,e){return it(this,"map",a,e,void 0,arguments)},pop(){return Dt(this,"pop")},push(...a){return Dt(this,"push",a)},reduce(a,...e){return Ti(this,"reduce",a,e)},reduceRight(a,...e){return Ti(this,"reduceRight",a,e)},shift(){return Dt(this,"shift")},some(a,e){return it(this,"some",a,e,void 0,arguments)},splice(...a){return Dt(this,"splice",a)},toReversed(){return Nt(this).toReversed()},toSorted(a){return Nt(this).toSorted(a)},toSpliced(...a){return Nt(this).toSpliced(...a)},unshift(...a){return Dt(this,"unshift",a)},values(){return Hn(this,"values",Be)}};function Hn(a,e,t){const n=wi(a),i=n[e]();return n!==a&&!Ke(a)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=t(r.value)),r}),i}const ua=Array.prototype;function it(a,e,t,n,i,r){const o=wi(a),s=o!==a&&!Ke(a),l=o[e];if(l!==ua[e]){const u=l.apply(a,r);return s?Be(u):u}let c=t;o!==a&&(s?c=function(u,f){return t.call(this,Be(u),f,a)}:t.length>2&&(c=function(u,f){return t.call(this,u,f,a)}));const d=l.call(o,c,n);return s&&i?i(d):d}function Ti(a,e,t,n){const i=wi(a);let r=t;return i!==a&&(Ke(a)?t.length>3&&(r=function(o,s,l){return t.call(this,o,s,l,a)}):r=function(o,s,l){return t.call(this,o,Be(s),l,a)}),i[e](r,...n)}function $n(a,e,t){const n=xe(a);Oe(n,"iterate",nn);const i=n[e](...t);return(i===-1||i===!1)&&Ci(t[0])?(t[0]=xe(t[0]),n[e](...t)):i}function Dt(a,e,t=[]){vt(),bi();const n=xe(a)[e].apply(a,t);return yi(),bt(),n}const ha=ui("__proto__,__v_isRef,__isVue"),zr=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(Ct));function pa(a){Ct(a)||(a=String(a));const e=xe(this);return Oe(e,"has",a),e.hasOwnProperty(a)}class Hr{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return r;if(t==="__v_raw")return n===(i?r?ka:Fr:r?jr:Dr).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=le(e);if(!i){let l;if(o&&(l=fa[t]))return l;if(t==="hasOwnProperty")return pa}const s=Reflect.get(e,t,Re(e)?e:n);return(Ct(t)?zr.has(t):ha(t))||(i||Oe(e,"get",t),r)?s:Re(s)?o&&gi(t)?s:s.value:Ae(s)?i?qr(s):En(s):s}}class $r extends Hr{constructor(e=!1){super(!1,e)}set(e,t,n,i){let r=e[t];if(!this._isShallow){const l=kt(r);if(!Ke(n)&&!kt(n)&&(r=xe(r),n=xe(n)),!le(e)&&Re(r)&&!Re(n))return l?!1:(r.value=n,!0)}const o=le(e)&&gi(t)?Number(t)<e.length:_e(e,t),s=Reflect.set(e,t,n,Re(e)?e:i);return e===xe(i)&&(o?gt(n,r)&&at(e,"set",t,n):at(e,"add",t,n)),s}deleteProperty(e,t){const n=_e(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&at(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return(!Ct(t)||!zr.has(t))&&Oe(e,"has",t),n}ownKeys(e){return Oe(e,"iterate",le(e)?"length":St),Reflect.ownKeys(e)}}class ga extends Hr{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ma=new $r,va=new ga,ba=new $r(!0);const ei=a=>a,un=a=>Reflect.getPrototypeOf(a);function ya(a,e,t){return function(...n){const i=this.__v_raw,r=xe(i),o=Yt(r),s=a==="entries"||a===Symbol.iterator&&o,l=a==="keys"&&o,c=i[a](...n),d=t?ei:e?ti:Be;return!e&&Oe(r,"iterate",l?Qn:St),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:s?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function hn(a){return function(...e){return a==="delete"?!1:a==="clear"?void 0:this}}function xa(a,e){const t={get(i){const r=this.__v_raw,o=xe(r),s=xe(i);a||(gt(i,s)&&Oe(o,"get",i),Oe(o,"get",s));const{has:l}=un(o),c=e?ei:a?ti:Be;if(l.call(o,i))return c(r.get(i));if(l.call(o,s))return c(r.get(s));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!a&&Oe(xe(i),"iterate",St),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=xe(r),s=xe(i);return a||(gt(i,s)&&Oe(o,"has",i),Oe(o,"has",s)),i===s?r.has(i):r.has(i)||r.has(s)},forEach(i,r){const o=this,s=o.__v_raw,l=xe(s),c=e?ei:a?ti:Be;return!a&&Oe(l,"iterate",St),s.forEach((d,u)=>i.call(r,c(d),c(u),o))}};return Pe(t,a?{add:hn("add"),set:hn("set"),delete:hn("delete"),clear:hn("clear")}:{add(i){!e&&!Ke(i)&&!kt(i)&&(i=xe(i));const r=xe(this);return un(r).has.call(r,i)||(r.add(i),at(r,"add",i,i)),this},set(i,r){!e&&!Ke(r)&&!kt(r)&&(r=xe(r));const o=xe(this),{has:s,get:l}=un(o);let c=s.call(o,i);c||(i=xe(i),c=s.call(o,i));const d=l.call(o,i);return o.set(i,r),c?gt(r,d)&&at(o,"set",i,r):at(o,"add",i,r),this},delete(i){const r=xe(this),{has:o,get:s}=un(r);let l=o.call(r,i);l||(i=xe(i),l=o.call(r,i)),s&&s.call(r,i);const c=r.delete(i);return l&&at(r,"delete",i,void 0),c},clear(){const i=xe(this),r=i.size!==0,o=i.clear();return r&&at(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ya(i,a,e)}),t}function Si(a,e){const t=xa(a,e);return(n,i,r)=>i==="__v_isReactive"?!a:i==="__v_isReadonly"?a:i==="__v_raw"?n:Reflect.get(_e(t,i)&&i in n?t:n,i,r)}const _a={get:Si(!1,!1)},wa={get:Si(!1,!0)},Sa={get:Si(!0,!1)};const Dr=new WeakMap,jr=new WeakMap,Fr=new WeakMap,ka=new WeakMap;function Ca(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ia(a){return a.__v_skip||!Object.isExtensible(a)?0:Ca(Ko(a))}function En(a){return kt(a)?a:ki(a,!1,ma,_a,Dr)}function Vr(a){return ki(a,!1,ba,wa,jr)}function qr(a){return ki(a,!0,va,Sa,Fr)}function ki(a,e,t,n,i){if(!Ae(a)||a.__v_raw&&!(e&&a.__v_isReactive))return a;const r=i.get(a);if(r)return r;const o=Ia(a);if(o===0)return a;const s=new Proxy(a,o===2?n:t);return i.set(a,s),s}function Kt(a){return kt(a)?Kt(a.__v_raw):!!(a&&a.__v_isReactive)}function kt(a){return!!(a&&a.__v_isReadonly)}function Ke(a){return!!(a&&a.__v_isShallow)}function Ci(a){return a?!!a.__v_raw:!1}function xe(a){const e=a&&a.__v_raw;return e?xe(e):a}function Aa(a){return!_e(a,"__v_skip")&&Object.isExtensible(a)&&Nr(a,"__v_skip",!0),a}const Be=a=>Ae(a)?En(a):a,ti=a=>Ae(a)?qr(a):a;function Re(a){return a?a.__v_isRef===!0:!1}function Na(a){return Yr(a,!1)}function Ea(a){return Yr(a,!0)}function Yr(a,e){return Re(a)?a:new La(a,e)}class La{constructor(e,t){this.dep=new _i,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:xe(e),this._value=t?e:Be(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Ke(e)||kt(e);e=n?e:xe(e),gt(e,t)&&(this._rawValue=e,this._value=n?e:Be(e),this.dep.trigger())}}function Ot(a){return Re(a)?a.value:a}const Ma={get:(a,e,t)=>e==="__v_raw"?a:Ot(Reflect.get(a,e,t)),set:(a,e,t,n)=>{const i=a[e];return Re(i)&&!Re(t)?(i.value=t,!0):Reflect.set(a,e,t,n)}};function Xr(a){return Kt(a)?a:new Proxy(a,Ma)}class Oa{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new _i(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=tn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return Or(this,!0),!0}get value(){const e=this.dep.track();return Ur(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ra(a,e,t=!1){let n,i;return de(a)?n=a:(n=a.get,i=a.set),new Oa(n,i,t)}const pn={},yn=new WeakMap;let wt;function Pa(a,e=!1,t=wt){if(t){let n=yn.get(t);n||yn.set(t,n=[]),n.push(a)}}function Ua(a,e,t=ke){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:s,call:l}=t,c=x=>i?x:Ke(x)||i===!1||i===0?pt(x,1):pt(x);let d,u,f,h,p=!1,g=!1;if(Re(a)?(u=()=>a.value,p=Ke(a)):Kt(a)?(u=()=>c(a),p=!0):le(a)?(g=!0,p=a.some(x=>Kt(x)||Ke(x)),u=()=>a.map(x=>{if(Re(x))return x.value;if(Kt(x))return c(x);if(de(x))return l?l(x,2):x()})):de(a)?e?u=l?()=>l(a,2):a:u=()=>{if(f){vt();try{f()}finally{bt()}}const x=wt;wt=d;try{return l?l(a,3,[h]):a(h)}finally{wt=x}}:u=tt,e&&i){const x=u,y=i===!0?1/0:i;u=()=>pt(x(),y)}const v=la(),_=()=>{d.stop(),v&&v.active&&pi(v.effects,d)};if(r&&e){const x=e;e=(...y)=>{x(...y),_()}}let w=g?new Array(a.length).fill(pn):pn;const m=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const y=d.run();if(i||p||(g?y.some((b,C)=>gt(b,w[C])):gt(y,w))){f&&f();const b=wt;wt=d;try{const C=[y,w===pn?void 0:g&&w[0]===pn?[]:w,h];l?l(e,3,C):e(...C),w=y}finally{wt=b}}}else d.run()};return s&&s(m),d=new Lr(u),d.scheduler=o?()=>o(m,!1):m,h=x=>Pa(x,!1,d),f=d.onStop=()=>{const x=yn.get(d);if(x){if(l)l(x,4);else for(const y of x)y();yn.delete(d)}},e?n?m(!0):w=d.run():o?o(m.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function pt(a,e=1/0,t){if(e<=0||!Ae(a)||a.__v_skip||(t=t||new Set,t.has(a)))return a;if(t.add(a),e--,Re(a))pt(a.value,e,t);else if(le(a))for(let n=0;n<a.length;n++)pt(a[n],e,t);else if(Wo(a)||Yt(a))a.forEach(n=>{pt(n,e,t)});else if(Jo(a)){for(const n in a)pt(a[n],e,t);for(const n of Object.getOwnPropertySymbols(a))Object.prototype.propertyIsEnumerable.call(a,n)&&pt(a[n],e,t)}return a}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cn(a,e,t,n){try{return n?a(...n):a()}catch(i){Ln(i,e,t)}}function nt(a,e,t,n){if(de(a)){const i=cn(a,e,t,n);return i&&Ir(i)&&i.catch(r=>{Ln(r,e,t)}),i}if(le(a)){const i=[];for(let r=0;r<a.length;r++)i.push(nt(a[r],e,t,n));return i}}function Ln(a,e,t,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ke;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;s;){const d=s.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](a,l,c)===!1)return}s=s.parent}if(r){vt(),cn(r,null,10,[a,l,c]),bt();return}}Ta(a,t,i,n,o)}function Ta(a,e,t,n=!0,i=!1){if(i)throw a;console.error(a)}const ze=[];let Qe=-1;const Rt=[];let ft=null,Et=0;const Wr=Promise.resolve();let xn=null;function Gr(a){const e=xn||Wr;return a?e.then(this?a.bind(this):a):e}function Ba(a){let e=Qe+1,t=ze.length;for(;e<t;){const n=e+t>>>1,i=ze[n],r=rn(i);r<a||r===a&&i.flags&2?e=n+1:t=n}return e}function Ii(a){if(!(a.flags&1)){const e=rn(a),t=ze[ze.length-1];!t||!(a.flags&2)&&e>=rn(t)?ze.push(a):ze.splice(Ba(e),0,a),a.flags|=1,Kr()}}function Kr(){xn||(xn=Wr.then(Zr))}function za(a){le(a)?Rt.push(...a):ft&&a.id===-1?ft.splice(Et+1,0,a):a.flags&1||(Rt.push(a),a.flags|=1),Kr()}function Bi(a,e,t=Qe+1){for(;t<ze.length;t++){const n=ze[t];if(n&&n.flags&2){if(a&&n.id!==a.uid)continue;ze.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Jr(a){if(Rt.length){const e=[...new Set(Rt)].sort((t,n)=>rn(t)-rn(n));if(Rt.length=0,ft){ft.push(...e);return}for(ft=e,Et=0;Et<ft.length;Et++){const t=ft[Et];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}ft=null,Et=0}}const rn=a=>a.id==null?a.flags&2?-1:1/0:a.id;function Zr(a){try{for(Qe=0;Qe<ze.length;Qe++){const e=ze[Qe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),cn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qe<ze.length;Qe++){const e=ze[Qe];e&&(e.flags&=-2)}Qe=-1,ze.length=0,Jr(),xn=null,(ze.length||Rt.length)&&Zr()}}let $e=null,Qr=null;function _n(a){const e=$e;return $e=a,Qr=a&&a.type.__scopeId||null,e}function Me(a,e=$e,t){if(!e||a._n)return a;const n=(...i)=>{n._d&&Yi(-1);const r=_n(e);let o;try{o=a(...i)}finally{_n(r),n._d&&Yi(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function xt(a,e,t,n){const i=a.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const s=i[o];r&&(s.oldValue=r[o].value);let l=s.dir[n];l&&(vt(),nt(l,t,8,[a.el,s,a,e]),bt())}}const Ha=Symbol("_vte"),$a=a=>a.__isTeleport;function Ai(a,e){a.shapeFlag&6&&a.component?(a.transition=e,Ai(a.component.subTree,e)):a.shapeFlag&128?(a.ssContent.transition=e.clone(a.ssContent),a.ssFallback.transition=e.clone(a.ssFallback)):a.transition=e}/*! #__NO_SIDE_EFFECTS__ */function eo(a,e){return de(a)?Pe({name:a.name},e,{setup:a}):a}function to(a){a.ids=[a.ids[0]+a.ids[2]+++"-",0,0]}function wn(a,e,t,n,i=!1){if(le(a)){a.forEach((p,g)=>wn(p,e&&(le(e)?e[g]:e),t,n,i));return}if(Pt(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&wn(a,e,t,n.component.subTree);return}const r=n.shapeFlag&4?Li(n.component):n.el,o=i?null:r,{i:s,r:l}=a,c=e&&e.r,d=s.refs===ke?s.refs={}:s.refs,u=s.setupState,f=xe(u),h=u===ke?()=>!1:p=>_e(f,p);if(c!=null&&c!==l&&(Ee(c)?(d[c]=null,h(c)&&(u[c]=null)):Re(c)&&(c.value=null)),de(l))cn(l,s,12,[o,d]);else{const p=Ee(l),g=Re(l);if(p||g){const v=()=>{if(a.f){const _=p?h(l)?u[l]:d[l]:l.value;i?le(_)&&pi(_,r):le(_)?_.includes(r)||_.push(r):p?(d[l]=[r],h(l)&&(u[l]=d[l])):(l.value=[r],a.k&&(d[a.k]=l.value))}else p?(d[l]=o,h(l)&&(u[l]=o)):g&&(l.value=o,a.k&&(d[a.k]=o))};o?(v.id=-1,De(v,t)):v()}}}Nn().requestIdleCallback;Nn().cancelIdleCallback;const Pt=a=>!!a.type.__asyncLoader,no=a=>a.type.__isKeepAlive;function Da(a,e){io(a,"a",e)}function ja(a,e){io(a,"da",e)}function io(a,e,t=He){const n=a.__wdc||(a.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return a()});if(Mn(e,n,t),t){let i=t.parent;for(;i&&i.parent;)no(i.parent.vnode)&&Fa(n,e,t,i),i=i.parent}}function Fa(a,e,t,n){const i=Mn(e,a,n,!0);ro(()=>{pi(n[e],i)},t)}function Mn(a,e,t=He,n=!1){if(t){const i=t[a]||(t[a]=[]),r=e.__weh||(e.__weh=(...o)=>{vt();const s=fn(t),l=nt(e,t,a,o);return s(),bt(),l});return n?i.unshift(r):i.push(r),r}}const lt=a=>(e,t=He)=>{(!sn||a==="sp")&&Mn(a,(...n)=>e(...n),t)},Va=lt("bm"),qa=lt("m"),Ya=lt("bu"),Xa=lt("u"),Wa=lt("bum"),ro=lt("um"),Ga=lt("sp"),Ka=lt("rtg"),Ja=lt("rtc");function Za(a,e=He){Mn("ec",a,e)}const Qa=Symbol.for("v-ndc");function Dn(a,e,t={},n,i){if($e.ce||$e.parent&&Pt($e.parent)&&$e.parent.ce)return e!=="default"&&(t.name=e),qe(),ai(Fe,null,[Ce("slot",t,n)],64);let r=a[e];r&&r._c&&(r._d=!1),qe();const o=r&&oo(r(t)),s=t.key||o&&o.key,l=ai(Fe,{key:(s&&!Ct(s)?s:`_${e}`)+""},o||[],o&&a._===1?64:-2);return r&&r._c&&(r._d=!0),l}function oo(a){return a.some(e=>an(e)?!(e.type===Tt||e.type===Fe&&!oo(e.children)):!0)?a:null}const ni=a=>a?Ao(a)?Li(a):ni(a.parent):null,Jt=Pe(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>ni(a.parent),$root:a=>ni(a.root),$host:a=>a.ce,$emit:a=>a.emit,$options:a=>so(a),$forceUpdate:a=>a.f||(a.f=()=>{Ii(a.update)}),$nextTick:a=>a.n||(a.n=Gr.bind(a.proxy)),$watch:a=>xs.bind(a)}),jn=(a,e)=>a!==ke&&!a.__isScriptSetup&&_e(a,e),es={get({_:a},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:i,props:r,accessCache:o,type:s,appContext:l}=a;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return t[e];case 3:return r[e]}else{if(jn(n,e))return o[e]=1,n[e];if(i!==ke&&_e(i,e))return o[e]=2,i[e];if((c=a.propsOptions[0])&&_e(c,e))return o[e]=3,r[e];if(t!==ke&&_e(t,e))return o[e]=4,t[e];ii&&(o[e]=0)}}const d=Jt[e];let u,f;if(d)return e==="$attrs"&&Oe(a.attrs,"get",""),d(a);if((u=s.__cssModules)&&(u=u[e]))return u;if(t!==ke&&_e(t,e))return o[e]=4,t[e];if(f=l.config.globalProperties,_e(f,e))return f[e]},set({_:a},e,t){const{data:n,setupState:i,ctx:r}=a;return jn(i,e)?(i[e]=t,!0):n!==ke&&_e(n,e)?(n[e]=t,!0):_e(a.props,e)||e[0]==="$"&&e.slice(1)in a?!1:(r[e]=t,!0)},has({_:{data:a,setupState:e,accessCache:t,ctx:n,appContext:i,propsOptions:r}},o){let s;return!!t[o]||a!==ke&&_e(a,o)||jn(e,o)||(s=r[0])&&_e(s,o)||_e(n,o)||_e(Jt,o)||_e(i.config.globalProperties,o)},defineProperty(a,e,t){return t.get!=null?a._.accessCache[e]=0:_e(t,"value")&&this.set(a,e,t.value,null),Reflect.defineProperty(a,e,t)}};function zi(a){return le(a)?a.reduce((e,t)=>(e[t]=null,e),{}):a}let ii=!0;function ts(a){const e=so(a),t=a.proxy,n=a.ctx;ii=!1,e.beforeCreate&&Hi(e.beforeCreate,a,"bc");const{data:i,computed:r,methods:o,watch:s,provide:l,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:v,beforeDestroy:_,beforeUnmount:w,destroyed:m,unmounted:x,render:y,renderTracked:b,renderTriggered:C,errorCaptured:E,serverPrefetch:N,expose:L,inheritAttrs:O,components:X,directives:T,filters:$}=e;if(c&&ns(c,n,null),o)for(const K in o){const H=o[K];de(H)&&(n[K]=H.bind(t))}if(i){const K=i.call(t,t);Ae(K)&&(a.data=En(K))}if(ii=!0,r)for(const K in r){const H=r[K],F=de(H)?H.bind(t,t):de(H.get)?H.get.bind(t,t):tt,W=!de(H)&&de(H.set)?H.set.bind(t):tt,ie=We({get:F,set:W});Object.defineProperty(n,K,{enumerable:!0,configurable:!0,get:()=>ie.value,set:Z=>ie.value=Z})}if(s)for(const K in s)ao(s[K],n,t,K);if(l){const K=de(l)?l.call(t):l;Reflect.ownKeys(K).forEach(H=>{gn(H,K[H])})}d&&Hi(d,a,"c");function te(K,H){le(H)?H.forEach(F=>K(F.bind(t))):H&&K(H.bind(t))}if(te(Va,u),te(qa,f),te(Ya,h),te(Xa,p),te(Da,g),te(ja,v),te(Za,E),te(Ja,b),te(Ka,C),te(Wa,w),te(ro,x),te(Ga,N),le(L))if(L.length){const K=a.exposed||(a.exposed={});L.forEach(H=>{Object.defineProperty(K,H,{get:()=>t[H],set:F=>t[H]=F})})}else a.exposed||(a.exposed={});y&&a.render===tt&&(a.render=y),O!=null&&(a.inheritAttrs=O),X&&(a.components=X),T&&(a.directives=T),N&&to(a)}function ns(a,e,t=tt){le(a)&&(a=ri(a));for(const n in a){const i=a[n];let r;Ae(i)?"default"in i?r=st(i.from||n,i.default,!0):r=st(i.from||n):r=st(i),Re(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function Hi(a,e,t){nt(le(a)?a.map(n=>n.bind(e.proxy)):a.bind(e.proxy),e,t)}function ao(a,e,t,n){let i=n.includes(".")?wo(t,n):()=>t[n];if(Ee(a)){const r=e[a];de(r)&&mn(i,r)}else if(de(a))mn(i,a.bind(t));else if(Ae(a))if(le(a))a.forEach(r=>ao(r,e,t,n));else{const r=de(a.handler)?a.handler.bind(t):e[a.handler];de(r)&&mn(i,r,a)}}function so(a){const e=a.type,{mixins:t,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=a.appContext,s=r.get(e);let l;return s?l=s:!i.length&&!t&&!n?l=e:(l={},i.length&&i.forEach(c=>Sn(l,c,o,!0)),Sn(l,e,o)),Ae(e)&&r.set(e,l),l}function Sn(a,e,t,n=!1){const{mixins:i,extends:r}=e;r&&Sn(a,r,t,!0),i&&i.forEach(o=>Sn(a,o,t,!0));for(const o in e)if(!(n&&o==="expose")){const s=is[o]||t&&t[o];a[o]=s?s(a[o],e[o]):e[o]}return a}const is={data:$i,props:Di,emits:Di,methods:qt,computed:qt,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:qt,directives:qt,watch:os,provide:$i,inject:rs};function $i(a,e){return e?a?function(){return Pe(de(a)?a.call(this,this):a,de(e)?e.call(this,this):e)}:e:a}function rs(a,e){return qt(ri(a),ri(e))}function ri(a){if(le(a)){const e={};for(let t=0;t<a.length;t++)e[a[t]]=a[t];return e}return a}function Te(a,e){return a?[...new Set([].concat(a,e))]:e}function qt(a,e){return a?Pe(Object.create(null),a,e):e}function Di(a,e){return a?le(a)&&le(e)?[...new Set([...a,...e])]:Pe(Object.create(null),zi(a),zi(e??{})):e}function os(a,e){if(!a)return e;if(!e)return a;const t=Pe(Object.create(null),a);for(const n in e)t[n]=Te(a[n],e[n]);return t}function lo(){return{app:null,config:{isNativeTag:Yo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let as=0;function ss(a,e){return function(n,i=null){de(n)||(n=Pe({},n)),i!=null&&!Ae(i)&&(i=null);const r=lo(),o=new WeakSet,s=[];let l=!1;const c=r.app={_uid:as++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:$s,get config(){return r.config},set config(d){},use(d,...u){return o.has(d)||(d&&de(d.install)?(o.add(d),d.install(c,...u)):de(d)&&(o.add(d),d(c,...u))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,u){return u?(r.components[d]=u,c):r.components[d]},directive(d,u){return u?(r.directives[d]=u,c):r.directives[d]},mount(d,u,f){if(!l){const h=c._ceVNode||Ce(n,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),a(h,d,f),l=!0,c._container=d,d.__vue_app__=c,Li(h.component)}},onUnmount(d){s.push(d)},unmount(){l&&(nt(s,c._instance,16),a(null,c._container),delete c._container.__vue_app__)},provide(d,u){return r.provides[d]=u,c},runWithContext(d){const u=Ut;Ut=c;try{return d()}finally{Ut=u}}};return c}}let Ut=null;function gn(a,e){if(He){let t=He.provides;const n=He.parent&&He.parent.provides;n===t&&(t=He.provides=Object.create(n)),t[a]=e}}function st(a,e,t=!1){const n=He||$e;if(n||Ut){const i=Ut?Ut._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&a in i)return i[a];if(arguments.length>1)return t&&de(e)?e.call(n&&n.proxy):e}}const co={},fo=()=>Object.create(co),uo=a=>Object.getPrototypeOf(a)===co;function ls(a,e,t,n=!1){const i={},r=fo();a.propsDefaults=Object.create(null),ho(a,e,i,r);for(const o in a.propsOptions[0])o in i||(i[o]=void 0);t?a.props=n?i:Vr(i):a.type.props?a.props=i:a.props=r,a.attrs=r}function ds(a,e,t,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=a,s=xe(i),[l]=a.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=a.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(On(a.emitsOptions,f))continue;const h=e[f];if(l)if(_e(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const p=mt(f);i[p]=oi(l,s,p,h,a,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{ho(a,e,i,r)&&(c=!0);let d;for(const u in s)(!e||!_e(e,u)&&((d=It(u))===u||!_e(e,d)))&&(l?t&&(t[u]!==void 0||t[d]!==void 0)&&(i[u]=oi(l,s,u,void 0,a,!0)):delete i[u]);if(r!==s)for(const u in r)(!e||!_e(e,u))&&(delete r[u],c=!0)}c&&at(a.attrs,"set","")}function ho(a,e,t,n){const[i,r]=a.propsOptions;let o=!1,s;if(e)for(let l in e){if(Xt(l))continue;const c=e[l];let d;i&&_e(i,d=mt(l))?!r||!r.includes(d)?t[d]=c:(s||(s={}))[d]=c:On(a.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=xe(t),c=s||ke;for(let d=0;d<r.length;d++){const u=r[d];t[u]=oi(i,l,u,c[u],a,!_e(c,u))}}return o}function oi(a,e,t,n,i,r){const o=a[t];if(o!=null){const s=_e(o,"default");if(s&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&de(l)){const{propsDefaults:c}=i;if(t in c)n=c[t];else{const d=fn(i);n=c[t]=l.call(null,e),d()}}else n=l;i.ce&&i.ce._setProp(t,n)}o[0]&&(r&&!s?n=!1:o[1]&&(n===""||n===It(t))&&(n=!0))}return n}const cs=new WeakMap;function po(a,e,t=!1){const n=t?cs:e.propsCache,i=n.get(a);if(i)return i;const r=a.props,o={},s=[];let l=!1;if(!de(a)){const d=u=>{l=!0;const[f,h]=po(u,e,!0);Pe(o,f),h&&s.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(d),a.extends&&d(a.extends),a.mixins&&a.mixins.forEach(d)}if(!r&&!l)return Ae(a)&&n.set(a,Mt),Mt;if(le(r))for(let d=0;d<r.length;d++){const u=mt(r[d]);ji(u)&&(o[u]=ke)}else if(r)for(const d in r){const u=mt(d);if(ji(u)){const f=r[d],h=o[u]=le(f)||de(f)?{type:f}:Pe({},f),p=h.type;let g=!1,v=!0;if(le(p))for(let _=0;_<p.length;++_){const w=p[_],m=de(w)&&w.name;if(m==="Boolean"){g=!0;break}else m==="String"&&(v=!1)}else g=de(p)&&p.name==="Boolean";h[0]=g,h[1]=v,(g||_e(h,"default"))&&s.push(u)}}const c=[o,s];return Ae(a)&&n.set(a,c),c}function ji(a){return a[0]!=="$"&&!Xt(a)}const go=a=>a[0]==="_"||a==="$stable",Ni=a=>le(a)?a.map(et):[et(a)],fs=(a,e,t)=>{if(e._n)return e;const n=Me((...i)=>Ni(e(...i)),t);return n._c=!1,n},mo=(a,e,t)=>{const n=a._ctx;for(const i in a){if(go(i))continue;const r=a[i];if(de(r))e[i]=fs(i,r,n);else if(r!=null){const o=Ni(r);e[i]=()=>o}}},vo=(a,e)=>{const t=Ni(e);a.slots.default=()=>t},bo=(a,e,t)=>{for(const n in e)(t||n!=="_")&&(a[n]=e[n])},us=(a,e,t)=>{const n=a.slots=fo();if(a.vnode.shapeFlag&32){const i=e._;i?(bo(n,e,t),t&&Nr(n,"_",i,!0)):mo(e,n)}else e&&vo(a,e)},hs=(a,e,t)=>{const{vnode:n,slots:i}=a;let r=!0,o=ke;if(n.shapeFlag&32){const s=e._;s?t&&s===1?r=!1:bo(i,e,t):(r=!e.$stable,mo(e,i)),o=e}else e&&(vo(a,e),o={default:1});if(r)for(const s in i)!go(s)&&o[s]==null&&delete i[s]},De=As;function ps(a){return gs(a)}function gs(a,e){const t=Nn();t.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:s,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:f,setScopeId:h=tt,insertStaticContent:p}=a,g=(S,k,I,M=null,U=null,P=null,Y=void 0,q=null,D=!!k.dynamicChildren)=>{if(S===k)return;S&&!jt(S,k)&&(M=A(S),Z(S,U,P,!0),S=null),k.patchFlag===-2&&(D=!1,k.dynamicChildren=null);const{type:R,ref:J,shapeFlag:z}=k;switch(R){case Rn:v(S,k,I,M);break;case Tt:_(S,k,I,M);break;case Vn:S==null&&w(k,I,M,Y);break;case Fe:X(S,k,I,M,U,P,Y,q,D);break;default:z&1?y(S,k,I,M,U,P,Y,q,D):z&6?T(S,k,I,M,U,P,Y,q,D):(z&64||z&128)&&R.process(S,k,I,M,U,P,Y,q,D,Q)}J!=null&&U&&wn(J,S&&S.ref,P,k||S,!k)},v=(S,k,I,M)=>{if(S==null)n(k.el=s(k.children),I,M);else{const U=k.el=S.el;k.children!==S.children&&c(U,k.children)}},_=(S,k,I,M)=>{S==null?n(k.el=l(k.children||""),I,M):k.el=S.el},w=(S,k,I,M)=>{[S.el,S.anchor]=p(S.children,k,I,M,S.el,S.anchor)},m=({el:S,anchor:k},I,M)=>{let U;for(;S&&S!==k;)U=f(S),n(S,I,M),S=U;n(k,I,M)},x=({el:S,anchor:k})=>{let I;for(;S&&S!==k;)I=f(S),i(S),S=I;i(k)},y=(S,k,I,M,U,P,Y,q,D)=>{k.type==="svg"?Y="svg":k.type==="math"&&(Y="mathml"),S==null?b(k,I,M,U,P,Y,q,D):N(S,k,U,P,Y,q,D)},b=(S,k,I,M,U,P,Y,q)=>{let D,R;const{props:J,shapeFlag:z,transition:ee,dirs:ne}=S;if(D=S.el=o(S.type,P,J&&J.is,J),z&8?d(D,S.children):z&16&&E(S.children,D,null,M,U,Fn(S,P),Y,q),ne&&xt(S,null,M,"created"),C(D,S,S.scopeId,Y,M),J){for(const he in J)he!=="value"&&!Xt(he)&&r(D,he,null,J[he],P,M);"value"in J&&r(D,"value",null,J.value,P),(R=J.onVnodeBeforeMount)&&Ze(R,M,S)}ne&&xt(S,null,M,"beforeMount");const ce=ms(U,ee);ce&&ee.beforeEnter(D),n(D,k,I),((R=J&&J.onVnodeMounted)||ce||ne)&&De(()=>{R&&Ze(R,M,S),ce&&ee.enter(D),ne&&xt(S,null,M,"mounted")},U)},C=(S,k,I,M,U)=>{if(I&&h(S,I),M)for(let P=0;P<M.length;P++)h(S,M[P]);if(U){let P=U.subTree;if(k===P||ko(P.type)&&(P.ssContent===k||P.ssFallback===k)){const Y=U.vnode;C(S,Y,Y.scopeId,Y.slotScopeIds,U.parent)}}},E=(S,k,I,M,U,P,Y,q,D=0)=>{for(let R=D;R<S.length;R++){const J=S[R]=q?ut(S[R]):et(S[R]);g(null,J,k,I,M,U,P,Y,q)}},N=(S,k,I,M,U,P,Y)=>{const q=k.el=S.el;let{patchFlag:D,dynamicChildren:R,dirs:J}=k;D|=S.patchFlag&16;const z=S.props||ke,ee=k.props||ke;let ne;if(I&&_t(I,!1),(ne=ee.onVnodeBeforeUpdate)&&Ze(ne,I,k,S),J&&xt(k,S,I,"beforeUpdate"),I&&_t(I,!0),(z.innerHTML&&ee.innerHTML==null||z.textContent&&ee.textContent==null)&&d(q,""),R?L(S.dynamicChildren,R,q,I,M,Fn(k,U),P):Y||H(S,k,q,null,I,M,Fn(k,U),P,!1),D>0){if(D&16)O(q,z,ee,I,U);else if(D&2&&z.class!==ee.class&&r(q,"class",null,ee.class,U),D&4&&r(q,"style",z.style,ee.style,U),D&8){const ce=k.dynamicProps;for(let he=0;he<ce.length;he++){const ae=ce[he],ge=z[ae],we=ee[ae];(we!==ge||ae==="value")&&r(q,ae,ge,we,U,I)}}D&1&&S.children!==k.children&&d(q,k.children)}else!Y&&R==null&&O(q,z,ee,I,U);((ne=ee.onVnodeUpdated)||J)&&De(()=>{ne&&Ze(ne,I,k,S),J&&xt(k,S,I,"updated")},M)},L=(S,k,I,M,U,P,Y)=>{for(let q=0;q<k.length;q++){const D=S[q],R=k[q],J=D.el&&(D.type===Fe||!jt(D,R)||D.shapeFlag&70)?u(D.el):I;g(D,R,J,null,M,U,P,Y,!0)}},O=(S,k,I,M,U)=>{if(k!==I){if(k!==ke)for(const P in k)!Xt(P)&&!(P in I)&&r(S,P,k[P],null,U,M);for(const P in I){if(Xt(P))continue;const Y=I[P],q=k[P];Y!==q&&P!=="value"&&r(S,P,q,Y,U,M)}"value"in I&&r(S,"value",k.value,I.value,U)}},X=(S,k,I,M,U,P,Y,q,D)=>{const R=k.el=S?S.el:s(""),J=k.anchor=S?S.anchor:s("");let{patchFlag:z,dynamicChildren:ee,slotScopeIds:ne}=k;ne&&(q=q?q.concat(ne):ne),S==null?(n(R,I,M),n(J,I,M),E(k.children||[],I,J,U,P,Y,q,D)):z>0&&z&64&&ee&&S.dynamicChildren?(L(S.dynamicChildren,ee,I,U,P,Y,q),(k.key!=null||U&&k===U.subTree)&&yo(S,k,!0)):H(S,k,I,J,U,P,Y,q,D)},T=(S,k,I,M,U,P,Y,q,D)=>{k.slotScopeIds=q,S==null?k.shapeFlag&512?U.ctx.activate(k,I,M,Y,D):$(k,I,M,U,P,Y,D):G(S,k,D)},$=(S,k,I,M,U,P,Y)=>{const q=S.component=Ps(S,M,U);if(no(S)&&(q.ctx.renderer=Q),Us(q,!1,Y),q.asyncDep){if(U&&U.registerDep(q,te,Y),!S.el){const D=q.subTree=Ce(Tt);_(null,D,k,I)}}else te(q,S,k,I,U,P,Y)},G=(S,k,I)=>{const M=k.component=S.component;if(Cs(S,k,I))if(M.asyncDep&&!M.asyncResolved){K(M,k,I);return}else M.next=k,M.update();else k.el=S.el,M.vnode=k},te=(S,k,I,M,U,P,Y)=>{const q=()=>{if(S.isMounted){let{next:z,bu:ee,u:ne,parent:ce,vnode:he}=S;{const Ne=xo(S);if(Ne){z&&(z.el=he.el,K(S,z,Y)),Ne.asyncDep.then(()=>{S.isUnmounted||q()});return}}let ae=z,ge;_t(S,!1),z?(z.el=he.el,K(S,z,Y)):z=he,ee&&Bn(ee),(ge=z.props&&z.props.onVnodeBeforeUpdate)&&Ze(ge,ce,z,he),_t(S,!0);const we=Vi(S),pe=S.subTree;S.subTree=we,g(pe,we,u(pe.el),A(pe),S,U,P),z.el=we.el,ae===null&&Is(S,we.el),ne&&De(ne,U),(ge=z.props&&z.props.onVnodeUpdated)&&De(()=>Ze(ge,ce,z,he),U)}else{let z;const{el:ee,props:ne}=k,{bm:ce,m:he,parent:ae,root:ge,type:we}=S,pe=Pt(k);_t(S,!1),ce&&Bn(ce),!pe&&(z=ne&&ne.onVnodeBeforeMount)&&Ze(z,ae,k),_t(S,!0);{ge.ce&&ge.ce._injectChildStyle(we);const Ne=S.subTree=Vi(S);g(null,Ne,I,M,S,U,P),k.el=Ne.el}if(he&&De(he,U),!pe&&(z=ne&&ne.onVnodeMounted)){const Ne=k;De(()=>Ze(z,ae,Ne),U)}(k.shapeFlag&256||ae&&Pt(ae.vnode)&&ae.vnode.shapeFlag&256)&&S.a&&De(S.a,U),S.isMounted=!0,k=I=M=null}};S.scope.on();const D=S.effect=new Lr(q);S.scope.off();const R=S.update=D.run.bind(D),J=S.job=D.runIfDirty.bind(D);J.i=S,J.id=S.uid,D.scheduler=()=>Ii(J),_t(S,!0),R()},K=(S,k,I)=>{k.component=S;const M=S.vnode.props;S.vnode=k,S.next=null,ds(S,k.props,M,I),hs(S,k.children,I),vt(),Bi(S),bt()},H=(S,k,I,M,U,P,Y,q,D=!1)=>{const R=S&&S.children,J=S?S.shapeFlag:0,z=k.children,{patchFlag:ee,shapeFlag:ne}=k;if(ee>0){if(ee&128){W(R,z,I,M,U,P,Y,q,D);return}else if(ee&256){F(R,z,I,M,U,P,Y,q,D);return}}ne&8?(J&16&&oe(R,U,P),z!==R&&d(I,z)):J&16?ne&16?W(R,z,I,M,U,P,Y,q,D):oe(R,U,P,!0):(J&8&&d(I,""),ne&16&&E(z,I,M,U,P,Y,q,D))},F=(S,k,I,M,U,P,Y,q,D)=>{S=S||Mt,k=k||Mt;const R=S.length,J=k.length,z=Math.min(R,J);let ee;for(ee=0;ee<z;ee++){const ne=k[ee]=D?ut(k[ee]):et(k[ee]);g(S[ee],ne,I,null,U,P,Y,q,D)}R>J?oe(S,U,P,!0,!1,z):E(k,I,M,U,P,Y,q,D,z)},W=(S,k,I,M,U,P,Y,q,D)=>{let R=0;const J=k.length;let z=S.length-1,ee=J-1;for(;R<=z&&R<=ee;){const ne=S[R],ce=k[R]=D?ut(k[R]):et(k[R]);if(jt(ne,ce))g(ne,ce,I,null,U,P,Y,q,D);else break;R++}for(;R<=z&&R<=ee;){const ne=S[z],ce=k[ee]=D?ut(k[ee]):et(k[ee]);if(jt(ne,ce))g(ne,ce,I,null,U,P,Y,q,D);else break;z--,ee--}if(R>z){if(R<=ee){const ne=ee+1,ce=ne<J?k[ne].el:M;for(;R<=ee;)g(null,k[R]=D?ut(k[R]):et(k[R]),I,ce,U,P,Y,q,D),R++}}else if(R>ee)for(;R<=z;)Z(S[R],U,P,!0),R++;else{const ne=R,ce=R,he=new Map;for(R=ce;R<=ee;R++){const Ie=k[R]=D?ut(k[R]):et(k[R]);Ie.key!=null&&he.set(Ie.key,R)}let ae,ge=0;const we=ee-ce+1;let pe=!1,Ne=0;const se=new Array(we);for(R=0;R<we;R++)se[R]=0;for(R=ne;R<=z;R++){const Ie=S[R];if(ge>=we){Z(Ie,U,P,!0);continue}let Le;if(Ie.key!=null)Le=he.get(Ie.key);else for(ae=ce;ae<=ee;ae++)if(se[ae-ce]===0&&jt(Ie,k[ae])){Le=ae;break}Le===void 0?Z(Ie,U,P,!0):(se[Le-ce]=R+1,Le>=Ne?Ne=Le:pe=!0,g(Ie,k[Le],I,null,U,P,Y,q,D),ge++)}const Ye=pe?vs(se):Mt;for(ae=Ye.length-1,R=we-1;R>=0;R--){const Ie=ce+R,Le=k[Ie],Xe=Ie+1<J?k[Ie+1].el:M;se[R]===0?g(null,Le,I,Xe,U,P,Y,q,D):pe&&(ae<0||R!==Ye[ae]?ie(Le,I,Xe,2):ae--)}}},ie=(S,k,I,M,U=null)=>{const{el:P,type:Y,transition:q,children:D,shapeFlag:R}=S;if(R&6){ie(S.component.subTree,k,I,M);return}if(R&128){S.suspense.move(k,I,M);return}if(R&64){Y.move(S,k,I,Q);return}if(Y===Fe){n(P,k,I);for(let z=0;z<D.length;z++)ie(D[z],k,I,M);n(S.anchor,k,I);return}if(Y===Vn){m(S,k,I);return}if(M!==2&&R&1&&q)if(M===0)q.beforeEnter(P),n(P,k,I),De(()=>q.enter(P),U);else{const{leave:z,delayLeave:ee,afterLeave:ne}=q,ce=()=>n(P,k,I),he=()=>{z(P,()=>{ce(),ne&&ne()})};ee?ee(P,ce,he):he()}else n(P,k,I)},Z=(S,k,I,M=!1,U=!1)=>{const{type:P,props:Y,ref:q,children:D,dynamicChildren:R,shapeFlag:J,patchFlag:z,dirs:ee,cacheIndex:ne}=S;if(z===-2&&(U=!1),q!=null&&wn(q,null,I,S,!0),ne!=null&&(k.renderCache[ne]=void 0),J&256){k.ctx.deactivate(S);return}const ce=J&1&&ee,he=!Pt(S);let ae;if(he&&(ae=Y&&Y.onVnodeBeforeUnmount)&&Ze(ae,k,S),J&6)B(S.component,I,M);else{if(J&128){S.suspense.unmount(I,M);return}ce&&xt(S,null,k,"beforeUnmount"),J&64?S.type.remove(S,k,I,Q,M):R&&!R.hasOnce&&(P!==Fe||z>0&&z&64)?oe(R,k,I,!1,!0):(P===Fe&&z&384||!U&&J&16)&&oe(D,k,I),M&&re(S)}(he&&(ae=Y&&Y.onVnodeUnmounted)||ce)&&De(()=>{ae&&Ze(ae,k,S),ce&&xt(S,null,k,"unmounted")},I)},re=S=>{const{type:k,el:I,anchor:M,transition:U}=S;if(k===Fe){ue(I,M);return}if(k===Vn){x(S);return}const P=()=>{i(I),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(S.shapeFlag&1&&U&&!U.persisted){const{leave:Y,delayLeave:q}=U,D=()=>Y(I,P);q?q(S.el,P,D):D()}else P()},ue=(S,k)=>{let I;for(;S!==k;)I=f(S),i(S),S=I;i(k)},B=(S,k,I)=>{const{bum:M,scope:U,job:P,subTree:Y,um:q,m:D,a:R}=S;Fi(D),Fi(R),M&&Bn(M),U.stop(),P&&(P.flags|=8,Z(Y,S,k,I)),q&&De(q,k),De(()=>{S.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},oe=(S,k,I,M=!1,U=!1,P=0)=>{for(let Y=P;Y<S.length;Y++)Z(S[Y],k,I,M,U)},A=S=>{if(S.shapeFlag&6)return A(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const k=f(S.anchor||S.el),I=k&&k[Ha];return I?f(I):k};let V=!1;const j=(S,k,I)=>{S==null?k._vnode&&Z(k._vnode,null,null,!0):g(k._vnode||null,S,k,null,null,null,I),k._vnode=S,V||(V=!0,Bi(),Jr(),V=!1)},Q={p:g,um:Z,m:ie,r:re,mt:$,mc:E,pc:H,pbc:L,n:A,o:a};return{render:j,hydrate:void 0,createApp:ss(j)}}function Fn({type:a,props:e},t){return t==="svg"&&a==="foreignObject"||t==="mathml"&&a==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function _t({effect:a,job:e},t){t?(a.flags|=32,e.flags|=4):(a.flags&=-33,e.flags&=-5)}function ms(a,e){return(!a||a&&!a.pendingBranch)&&e&&!e.persisted}function yo(a,e,t=!1){const n=a.children,i=e.children;if(le(n)&&le(i))for(let r=0;r<n.length;r++){const o=n[r];let s=i[r];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[r]=ut(i[r]),s.el=o.el),!t&&s.patchFlag!==-2&&yo(o,s)),s.type===Rn&&(s.el=o.el)}}function vs(a){const e=a.slice(),t=[0];let n,i,r,o,s;const l=a.length;for(n=0;n<l;n++){const c=a[n];if(c!==0){if(i=t[t.length-1],a[i]<c){e[n]=i,t.push(n);continue}for(r=0,o=t.length-1;r<o;)s=r+o>>1,a[t[s]]<c?r=s+1:o=s;c<a[t[r]]&&(r>0&&(e[n]=t[r-1]),t[r]=n)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function xo(a){const e=a.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:xo(e)}function Fi(a){if(a)for(let e=0;e<a.length;e++)a[e].flags|=8}const bs=Symbol.for("v-scx"),ys=()=>st(bs);function mn(a,e,t){return _o(a,e,t)}function _o(a,e,t=ke){const{immediate:n,deep:i,flush:r,once:o}=t,s=Pe({},t),l=e&&n||!e&&r!=="post";let c;if(sn){if(r==="sync"){const h=ys();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=tt,h.resume=tt,h.pause=tt,h}}const d=He;s.call=(h,p,g)=>nt(h,d,p,g);let u=!1;r==="post"?s.scheduler=h=>{De(h,d&&d.suspense)}:r!=="sync"&&(u=!0,s.scheduler=(h,p)=>{p?h():Ii(h)}),s.augmentJob=h=>{e&&(h.flags|=4),u&&(h.flags|=2,d&&(h.id=d.uid,h.i=d))};const f=Ua(a,e,s);return sn&&(c?c.push(f):l&&f()),f}function xs(a,e,t){const n=this.proxy,i=Ee(a)?a.includes(".")?wo(n,a):()=>n[a]:a.bind(n,n);let r;de(e)?r=e:(r=e.handler,t=e);const o=fn(this),s=_o(i,r.bind(n),t);return o(),s}function wo(a,e){const t=e.split(".");return()=>{let n=a;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n}}const _s=(a,e)=>e==="modelValue"||e==="model-value"?a.modelModifiers:a[`${e}Modifiers`]||a[`${mt(e)}Modifiers`]||a[`${It(e)}Modifiers`];function ws(a,e,...t){if(a.isUnmounted)return;const n=a.vnode.props||ke;let i=t;const r=e.startsWith("update:"),o=r&&_s(n,e.slice(7));o&&(o.trim&&(i=t.map(d=>Ee(d)?d.trim():d)),o.number&&(i=t.map(ea)));let s,l=n[s=Tn(e)]||n[s=Tn(mt(e))];!l&&r&&(l=n[s=Tn(It(e))]),l&&nt(l,a,6,i);const c=n[s+"Once"];if(c){if(!a.emitted)a.emitted={};else if(a.emitted[s])return;a.emitted[s]=!0,nt(c,a,6,i)}}function So(a,e,t=!1){const n=e.emitsCache,i=n.get(a);if(i!==void 0)return i;const r=a.emits;let o={},s=!1;if(!de(a)){const l=c=>{const d=So(c,e,!0);d&&(s=!0,Pe(o,d))};!t&&e.mixins.length&&e.mixins.forEach(l),a.extends&&l(a.extends),a.mixins&&a.mixins.forEach(l)}return!r&&!s?(Ae(a)&&n.set(a,null),null):(le(r)?r.forEach(l=>o[l]=null):Pe(o,r),Ae(a)&&n.set(a,o),o)}function On(a,e){return!a||!Cn(e)?!1:(e=e.slice(2).replace(/Once$/,""),_e(a,e[0].toLowerCase()+e.slice(1))||_e(a,It(e))||_e(a,e))}function Vi(a){const{type:e,vnode:t,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:s,emit:l,render:c,renderCache:d,props:u,data:f,setupState:h,ctx:p,inheritAttrs:g}=a,v=_n(a);let _,w;try{if(t.shapeFlag&4){const x=i||n,y=x;_=et(c.call(y,x,d,u,h,f,p)),w=s}else{const x=e;_=et(x.length>1?x(u,{attrs:s,slots:o,emit:l}):x(u,null)),w=e.props?s:Ss(s)}}catch(x){Zt.length=0,Ln(x,a,1),_=Ce(Tt)}let m=_;if(w&&g!==!1){const x=Object.keys(w),{shapeFlag:y}=m;x.length&&y&7&&(r&&x.some(hi)&&(w=ks(w,r)),m=Bt(m,w,!1,!0))}return t.dirs&&(m=Bt(m,null,!1,!0),m.dirs=m.dirs?m.dirs.concat(t.dirs):t.dirs),t.transition&&Ai(m,t.transition),_=m,_n(v),_}const Ss=a=>{let e;for(const t in a)(t==="class"||t==="style"||Cn(t))&&((e||(e={}))[t]=a[t]);return e},ks=(a,e)=>{const t={};for(const n in a)(!hi(n)||!(n.slice(9)in e))&&(t[n]=a[n]);return t};function Cs(a,e,t){const{props:n,children:i,component:r}=a,{props:o,children:s,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?qi(n,o,c):!!o;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(o[f]!==n[f]&&!On(c,f))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:n===o?!1:n?o?qi(n,o,c):!0:!!o;return!1}function qi(a,e,t){const n=Object.keys(e);if(n.length!==Object.keys(a).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==a[r]&&!On(t,r))return!0}return!1}function Is({vnode:a,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===a&&(n.el=a.el),n===a)(a=e.vnode).el=t,e=e.parent;else break}}const ko=a=>a.__isSuspense;function As(a,e){e&&e.pendingBranch?le(a)?e.effects.push(...a):e.effects.push(a):za(a)}const Fe=Symbol.for("v-fgt"),Rn=Symbol.for("v-txt"),Tt=Symbol.for("v-cmt"),Vn=Symbol.for("v-stc"),Zt=[];let Ve=null;function qe(a=!1){Zt.push(Ve=a?null:[])}function Ns(){Zt.pop(),Ve=Zt[Zt.length-1]||null}let on=1;function Yi(a,e=!1){on+=a,a<0&&Ve&&e&&(Ve.hasOnce=!0)}function Co(a){return a.dynamicChildren=on>0?Ve||Mt:null,Ns(),on>0&&Ve&&Ve.push(a),a}function dt(a,e,t,n,i,r){return Co(be(a,e,t,n,i,r,!0))}function ai(a,e,t,n,i){return Co(Ce(a,e,t,n,i,!0))}function an(a){return a?a.__v_isVNode===!0:!1}function jt(a,e){return a.type===e.type&&a.key===e.key}const Io=({key:a})=>a??null,vn=({ref:a,ref_key:e,ref_for:t})=>(typeof a=="number"&&(a=""+a),a!=null?Ee(a)||Re(a)||de(a)?{i:$e,r:a,k:e,f:!!t}:a:null);function be(a,e=null,t=null,n=0,i=null,r=a===Fe?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:a,props:e,key:e&&Io(e),ref:e&&vn(e),scopeId:Qr,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:$e};return s?(Ei(l,t),r&128&&a.normalize(l)):t&&(l.shapeFlag|=Ee(t)?8:16),on>0&&!o&&Ve&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Ve.push(l),l}const Ce=Es;function Es(a,e=null,t=null,n=0,i=null,r=!1){if((!a||a===Qa)&&(a=Tt),an(a)){const s=Bt(a,e,!0);return t&&Ei(s,t),on>0&&!r&&Ve&&(s.shapeFlag&6?Ve[Ve.indexOf(a)]=s:Ve.push(s)),s.patchFlag=-2,s}if(Hs(a)&&(a=a.__vccOpts),e){e=Ls(e);let{class:s,style:l}=e;s&&!Ee(s)&&(e.class=vi(s)),Ae(l)&&(Ci(l)&&!le(l)&&(l=Pe({},l)),e.style=mi(l))}const o=Ee(a)?1:ko(a)?128:$a(a)?64:Ae(a)?4:de(a)?2:0;return be(a,e,t,n,i,o,r,!0)}function Ls(a){return a?Ci(a)||uo(a)?Pe({},a):a:null}function Bt(a,e,t=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:s,transition:l}=a,c=e?Ms(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:a.type,props:c,key:c&&Io(c),ref:e&&e.ref?t&&r?le(r)?r.concat(vn(e)):[r,vn(e)]:vn(e):r,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:s,target:a.target,targetStart:a.targetStart,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:e&&a.type!==Fe?o===-1?16:o|16:o,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:l,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&Bt(a.ssContent),ssFallback:a.ssFallback&&Bt(a.ssFallback),el:a.el,anchor:a.anchor,ctx:a.ctx,ce:a.ce};return l&&n&&Ai(d,l.clone(d)),d}function ve(a=" ",e=0){return Ce(Rn,null,a,e)}function et(a){return a==null||typeof a=="boolean"?Ce(Tt):le(a)?Ce(Fe,null,a.slice()):an(a)?ut(a):Ce(Rn,null,String(a))}function ut(a){return a.el===null&&a.patchFlag!==-1||a.memo?a:Bt(a)}function Ei(a,e){let t=0;const{shapeFlag:n}=a;if(e==null)e=null;else if(le(e))t=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Ei(a,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!uo(e)?e._ctx=$e:i===3&&$e&&($e.slots._===1?e._=1:(e._=2,a.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:$e},t=32):(e=String(e),n&64?(t=16,e=[ve(e)]):t=8);a.children=e,a.shapeFlag|=t}function Ms(...a){const e={};for(let t=0;t<a.length;t++){const n=a[t];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=vi([e.class,n.class]));else if(i==="style")e.style=mi([e.style,n.style]);else if(Cn(i)){const r=e[i],o=n[i];o&&r!==o&&!(le(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function Ze(a,e,t,n=null){nt(a,e,7,[t,n])}const Os=lo();let Rs=0;function Ps(a,e,t){const n=a.type,i=(e?e.appContext:a.appContext)||Os,r={uid:Rs++,vnode:a,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:po(n,i),emitsOptions:So(n,i),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:n.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ws.bind(null,r),a.ce&&a.ce(r),r}let He=null,kn,si;{const a=Nn(),e=(t,n)=>{let i;return(i=a[t])||(i=a[t]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};kn=e("__VUE_INSTANCE_SETTERS__",t=>He=t),si=e("__VUE_SSR_SETTERS__",t=>sn=t)}const fn=a=>{const e=He;return kn(a),a.scope.on(),()=>{a.scope.off(),kn(e)}},Xi=()=>{He&&He.scope.off(),kn(null)};function Ao(a){return a.vnode.shapeFlag&4}let sn=!1;function Us(a,e=!1,t=!1){e&&si(e);const{props:n,children:i}=a.vnode,r=Ao(a);ls(a,n,r,e),us(a,i,t);const o=r?Ts(a,e):void 0;return e&&si(!1),o}function Ts(a,e){const t=a.type;a.accessCache=Object.create(null),a.proxy=new Proxy(a.ctx,es);const{setup:n}=t;if(n){vt();const i=a.setupContext=n.length>1?zs(a):null,r=fn(a),o=cn(n,a,0,[a.props,i]),s=Ir(o);if(bt(),r(),(s||a.sp)&&!Pt(a)&&to(a),s){if(o.then(Xi,Xi),e)return o.then(l=>{Wi(a,l)}).catch(l=>{Ln(l,a,0)});a.asyncDep=o}else Wi(a,o)}else No(a)}function Wi(a,e,t){de(e)?a.type.__ssrInlineRender?a.ssrRender=e:a.render=e:Ae(e)&&(a.setupState=Xr(e)),No(a)}function No(a,e,t){const n=a.type;a.render||(a.render=n.render||tt);{const i=fn(a);vt();try{ts(a)}finally{bt(),i()}}}const Bs={get(a,e){return Oe(a,"get",""),a[e]}};function zs(a){const e=t=>{a.exposed=t||{}};return{attrs:new Proxy(a.attrs,Bs),slots:a.slots,emit:a.emit,expose:e}}function Li(a){return a.exposed?a.exposeProxy||(a.exposeProxy=new Proxy(Xr(Aa(a.exposed)),{get(e,t){if(t in e)return e[t];if(t in Jt)return Jt[t](a)},has(e,t){return t in e||t in Jt}})):a.proxy}function Hs(a){return de(a)&&"__vccOpts"in a}const We=(a,e)=>Ra(a,e,sn);function Eo(a,e,t){const n=arguments.length;return n===2?Ae(e)&&!le(e)?an(e)?Ce(a,null,[e]):Ce(a,e):Ce(a,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&an(t)&&(t=[t]),Ce(a,e,t))}const $s="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let li;const Gi=typeof window<"u"&&window.trustedTypes;if(Gi)try{li=Gi.createPolicy("vue",{createHTML:a=>a})}catch{}const Lo=li?a=>li.createHTML(a):a=>a,Ds="http://www.w3.org/2000/svg",js="http://www.w3.org/1998/Math/MathML",ot=typeof document<"u"?document:null,Ki=ot&&ot.createElement("template"),Fs={insert:(a,e,t)=>{e.insertBefore(a,t||null)},remove:a=>{const e=a.parentNode;e&&e.removeChild(a)},createElement:(a,e,t,n)=>{const i=e==="svg"?ot.createElementNS(Ds,a):e==="mathml"?ot.createElementNS(js,a):t?ot.createElement(a,{is:t}):ot.createElement(a);return a==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:a=>ot.createTextNode(a),createComment:a=>ot.createComment(a),setText:(a,e)=>{a.nodeValue=e},setElementText:(a,e)=>{a.textContent=e},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>ot.querySelector(a),setScopeId(a,e){a.setAttribute(e,"")},insertStaticContent(a,e,t,n,i,r){const o=t?t.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===r||!(i=i.nextSibling)););else{Ki.innerHTML=Lo(n==="svg"?`<svg>${a}</svg>`:n==="mathml"?`<math>${a}</math>`:a);const s=Ki.content;if(n==="svg"||n==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Vs=Symbol("_vtc");function qs(a,e,t){const n=a[Vs];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?a.removeAttribute("class"):t?a.setAttribute("class",e):a.className=e}const Ji=Symbol("_vod"),Ys=Symbol("_vsh"),Xs=Symbol(""),Ws=/(^|;)\s*display\s*:/;function Gs(a,e,t){const n=a.style,i=Ee(t);let r=!1;if(t&&!i){if(e)if(Ee(e))for(const o of e.split(";")){const s=o.slice(0,o.indexOf(":")).trim();t[s]==null&&bn(n,s,"")}else for(const o in e)t[o]==null&&bn(n,o,"");for(const o in t)o==="display"&&(r=!0),bn(n,o,t[o])}else if(i){if(e!==t){const o=n[Xs];o&&(t+=";"+o),n.cssText=t,r=Ws.test(t)}}else e&&a.removeAttribute("style");Ji in a&&(a[Ji]=r?n.display:"",a[Ys]&&(n.display="none"))}const Zi=/\s*!important$/;function bn(a,e,t){if(le(t))t.forEach(n=>bn(a,e,n));else if(t==null&&(t=""),e.startsWith("--"))a.setProperty(e,t);else{const n=Ks(a,e);Zi.test(t)?a.setProperty(It(n),t.replace(Zi,""),"important"):a[n]=t}}const Qi=["Webkit","Moz","ms"],qn={};function Ks(a,e){const t=qn[e];if(t)return t;let n=mt(e);if(n!=="filter"&&n in a)return qn[e]=n;n=Ar(n);for(let i=0;i<Qi.length;i++){const r=Qi[i]+n;if(r in a)return qn[e]=r}return e}const er="http://www.w3.org/1999/xlink";function tr(a,e,t,n,i,r=aa(e)){n&&e.startsWith("xlink:")?t==null?a.removeAttributeNS(er,e.slice(6,e.length)):a.setAttributeNS(er,e,t):t==null||r&&!Er(t)?a.removeAttribute(e):a.setAttribute(e,r?"":Ct(t)?String(t):t)}function nr(a,e,t,n,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(a[e]=e==="innerHTML"?Lo(t):t);return}const r=a.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const s=r==="OPTION"?a.getAttribute("value")||"":a.value,l=t==null?a.type==="checkbox"?"on":"":String(t);(s!==l||!("_value"in a))&&(a.value=l),t==null&&a.removeAttribute(e),a._value=t;return}let o=!1;if(t===""||t==null){const s=typeof a[e];s==="boolean"?t=Er(t):t==null&&s==="string"?(t="",o=!0):s==="number"&&(t=0,o=!0)}try{a[e]=t}catch{}o&&a.removeAttribute(i||e)}function Js(a,e,t,n){a.addEventListener(e,t,n)}function Zs(a,e,t,n){a.removeEventListener(e,t,n)}const ir=Symbol("_vei");function Qs(a,e,t,n,i=null){const r=a[ir]||(a[ir]={}),o=r[e];if(n&&o)o.value=n;else{const[s,l]=el(e);if(n){const c=r[e]=il(n,i);Js(a,s,c,l)}else o&&(Zs(a,s,o,l),r[e]=void 0)}}const rr=/(?:Once|Passive|Capture)$/;function el(a){let e;if(rr.test(a)){e={};let n;for(;n=a.match(rr);)a=a.slice(0,a.length-n[0].length),e[n[0].toLowerCase()]=!0}return[a[2]===":"?a.slice(3):It(a.slice(2)),e]}let Yn=0;const tl=Promise.resolve(),nl=()=>Yn||(tl.then(()=>Yn=0),Yn=Date.now());function il(a,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;nt(rl(n,t.value),e,5,[n])};return t.value=a,t.attached=nl(),t}function rl(a,e){if(le(e)){const t=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{t.call(a),a._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const or=a=>a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)>96&&a.charCodeAt(2)<123,ol=(a,e,t,n,i,r)=>{const o=i==="svg";e==="class"?qs(a,n,o):e==="style"?Gs(a,t,n):Cn(e)?hi(e)||Qs(a,e,t,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):al(a,e,n,o))?(nr(a,e,n),!a.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&tr(a,e,n,o,r,e!=="value")):a._isVueCE&&(/[A-Z]/.test(e)||!Ee(n))?nr(a,mt(e),n,r,e):(e==="true-value"?a._trueValue=n:e==="false-value"&&(a._falseValue=n),tr(a,e,n,o))};function al(a,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in a&&or(e)&&de(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&a.tagName==="INPUT"||e==="type"&&a.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=a.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return or(e)&&Ee(t)?!1:e in a}const sl=Pe({patchProp:ol},Fs);let ar;function ll(){return ar||(ar=ps(sl))}const dl=(...a)=>{const e=ll().createApp(...a),{mount:t}=e;return e.mount=n=>{const i=fl(n);if(!i)return;const r=e._component;!de(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,cl(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function cl(a){if(a instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&a instanceof MathMLElement)return"mathml"}function fl(a){return Ee(a)?document.querySelector(a):a}function ul(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Xn={exports:{}},sr;function hl(){return sr||(sr=1,function(a){var e=function(t,n){var i=this;if((typeof t=="string"||t instanceof String)&&(t=document.querySelector(t)),this.element=t,this.config=e.mergeDeep(e._defaultConfig(n),n),this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var r in this.config.tags){var o=this.config.tags[r];o.subTreeConfig!=null&&(this._layoutConfigs[r]={orientation:o.subTreeConfig.orientation!=null?o.subTreeConfig.orientation:this.config.orientation,levelSeparation:o.subTreeConfig.levelSeparation!=null?o.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:o.subTreeConfig.mixedHierarchyNodesSeparation!=null?o.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:o.subTreeConfig.assistantSeparation!=null?o.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:o.subTreeConfig.subtreeSeparation!=null?o.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:o.subTreeConfig.siblingSeparation!=null?o.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:o.subTreeConfig.layout!=null?o.subTreeConfig.layout:this.config.layout,columns:o.subTreeConfig.columns!=null?o.subTreeConfig.columns:this.config.columns,collapse:o.subTreeConfig.collapse!=null?o.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:o.subTreeConfig.partnerNodeSeparation!=null?o.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}this._event_id=e._guid(),e._validateConfig(this.config)&&(this._vScroll={},this.config.ui||(this.ui=e.ui),this.config.editUI?this.editUI=this.config.editUI:this.editUI=new e.editUI,this.editUI.init(this),this.config.filterUI?this.filterUI=this.config.filterUI:this.filterUI=new e.filterUI,this.filterUI.init(this),this.manager=new e.manager(this),this.config.searchUI?this.searchUI=this.config.searchUI:this.searchUI=new e.searchUI,this.config.nodeMenuUI?this.nodeMenuUI=this.config.nodeMenuUI:this.nodeMenuUI=new e.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.config.nodeCircleMenuUI?this.nodeCircleMenuUI=this.config.nodeCircleMenuUI:this.nodeCircleMenuUI=new e.circleMenuUI,this.nodeCircleMenuUI.init(this,this.config.nodeCircleMenu),this.config.nodeContextMenuUI?this.nodeContextMenuUI=this.config.nodeContextMenuUI:this.nodeContextMenuUI=new e.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.config.toolbarUI?this.toolbarUI=this.config.toolbarUI:this.toolbarUI=new e.toolbarUI,this.config.notifierUI?this.notifierUI=this.config.notifierUI:this.notifierUI=new e.notifierUI,this.notifierUI.init(this),this.config.menuUI?this.menuUI=this.config.menuUI:this.menuUI=new e.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new e.xScrollUI(this.element,this.config,function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}},function(s){i.setViewBox(s)},function(){i._draw(!0,e.action.xScroll)})),this.config.yScrollUI||(this.yScrollUI=new e.yScrollUI(this.element,this.config,function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}},function(s){i.setViewBox(s)},function(){i._draw(!0,e.action.xScroll)})),this.config.undoRedoUI?this.undoRedoUI=this.config.undoRedoUI:this.undoRedoUI=new e.undoRedoUI,this.element.classList.add("bft-"+this.config.mode),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._loaded=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this.isVisible=null,e._intersectionObserver(this.element,function(s){i.isVisible=s,e.events.publish("visibility-change",[i])!==!1&&e.LAZY_LOADING&&i.isVisible&&(i._loaded?i._draw(!1,e.action.update):(i._setInitialSizeIfNotSet(),i._draw(!1,e.action.init)))}))};e._defaultConfig=function(t){return{interactive:!0,mode:"light",lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,enablePan:!0,keyNavigation:!1,miniMap:!1,nodeMenu:null,nodeCircleMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:e.action.details,nodeMouseDbClick:e.none,mouseScrool:e.action.zoom,showXScroll:e.none,showYScroll:e.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:null,searchDisplayField:null,searchFieldsWeight:null,searchFieldsAbbreviation:null,nodes:[],clinks:[],slinks:[],backdrops:[],groupDottedLines:[],dottedLines:[],undoRedoStorageName:null,levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,backdropSeparation:15,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:e.orientation.top,layout:e.layout.normal,layoutGridColumns:"dynamic",scaleInitial:1,movable:null,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,filterUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeCircleMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,undoRedoUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:e.CENTER,UI:null,anim:{func:e.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null,editForm:{readOnly:!1,titleBinding:"name",photoBinding:"img",addMore:"Add more fields",addMoreBtn:"Add",addMoreFieldName:"Field name",saveAndCloseBtn:"Save and close",cancelBtn:"Cancel",generateElementsFromFields:!0,focusBinding:null,buttons:{edit:{icon:e.icon.edit(24,24,"#fff"),text:"Edit",hideIfEditMode:!0,hideIfDetailsMode:!1},share:{icon:e.icon.share(24,24,"#fff"),text:"Share"},pdf:{icon:e.icon.pdf(24,24,"#fff"),text:"Save as PDF"},remove:{icon:e.icon.remove(24,24,"#fff"),text:"Remove",hideIfDetailsMode:!0}},elements:[]}}},e.prototype.load=function(t,n){var i=this;return this.config.nodes=t,this._draw(!1,e.action.init,void 0,function(){i.filterUI.update(),n&&n()}),this},e.prototype.loadXML=function(t,n){var i=e._xml2json(t);return this.load(i,n)},e.prototype.getXML=function(){return e._json2xml(this.config.nodes)},e.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.prototype.removeListener=function(t,n){return e.events.remove(t,n,this._event_id)},e.prototype.draw=function(t,n,i){t==null&&(t=e.action.update),this._draw(!1,t,n,i)},e.prototype._draw=function(t,n,i,r){var o=this;if(!e.LAZY_LOADING||this.isVisible)if(e.LAZY_LOADING||this._initialized||(this._setInitialSizeIfNotSet(),this.width()!=0&&this.height()!=0)){this._hideBeforeAnimationCompleted=!1;var s=n==e.action.init?null:this.getViewBox();this.manager.read(t,this.width(),this.height(),s,n,i,function(l){if(!o.notifierUI.show(l.notif)){n!=e.action.exporting&&(o.nodes=l.nodes,o.visibleNodeIds=l.visibleNodeIds,o.roots=l.roots),o.editUI.fields=l.allFields;var c={defs:""};e.events.publish("renderdefs",[o,c]);var d=o.ui.defs(c.defs),u=o.getScale(l.viewBox);d+=o.ui.pointer(o.config,n,u);var f=o.getViewBox(),h=l.viewBox;c={content:d,res:l},e.events.publish("prerender",[o,c]),d=c.content;var p=[];if(e.RENDER_LINKS_BEFORE_NODES)for(var g=0;g<l.visibleNodeIds.length;g++){var v=l.nodes[l.visibleNodeIds[g]];e.getRootOf(v).stParent?p.push(v.id):d+=o.ui.link(v,o,u,l.bordersByRootIdAndLevel,l.nodes,n)}for(g=0;g<l.visibleNodeIds.length;g++){v=l.nodes[l.visibleNodeIds[g]];var _=o._get(v.id);e.RENDER_LINKS_BEFORE_NODES&&p.includes(v.id)&&(d+=o.ui.link(v,o,u,l.bordersByRootIdAndLevel,l.nodes,n)),d+=o.ui.node(v,_,l.animations,o.config,void 0,void 0,void 0,n,u,o)}for(g=0;g<l.visibleNodeIds.length;g++)v=l.nodes[l.visibleNodeIds[g]],e.RENDER_LINKS_BEFORE_NODES||(d+=o.ui.link(v,o,u,l.bordersByRootIdAndLevel,l.nodes,n)),d+=o.ui.expandCollapseBtn(o,v,o._layoutConfigs,n,u);if(c={content:d,res:l},e.events.publish("render",[o,c]),d=c.content,l=c.res,d+=o.ui.lonely(o.config),n!==e.action.exporting){if(n!==e.action.centernode&&n!==e.action.insert&&n!==e.action.expand&&n!==e.action.collapse&&n!==e.action.update||(h=f),n===e.action.init&&f!=null&&(h=f),o.response=l,N=o.ui.svg(o.width(),o.height(),h,o.config,d),o._initialized){var w=o.getSvg(),m=w.parentNode;m.removeChild(w),m.insertAdjacentHTML("afterbegin",N),o._attachEventHandlers(),o.xScrollUI.addListener(o.getSvg()),o.yScrollUI.addListener(o.getSvg()),o.xScrollUI.setPosition(),o.yScrollUI.setPosition()}else o.element.innerHTML=o.ui.css()+N+o.ui.menuButton(o.config),o._attachInitEventHandlers(),o._attachEventHandlers(),o.xScrollUI.create(o.width(),o.config.padding),o.xScrollUI.setPosition(),o.xScrollUI.addListener(o.getSvg()),o.yScrollUI.create(o.height(),o.config.padding),o.yScrollUI.setPosition(),o.yScrollUI.addListener(o.getSvg()),o.config.enableSearch&&o.searchUI.init(o),o.toolbarUI.init(o,o.config.toolbar),o.undoRedoUI.init(o);var x=!1,y=o.response.animations;if(y[0].length>0){for(o._hideBeforeAnimation(y[0].length),g=0;g<y[0].length;g++)y[0][g]=o.getNodeElement(y[0][g]);e.animate(y[0],y[1],y[2],o.config.anim.duration,o.config.anim.func,function(){x||(r&&r(),e.events.publish("redraw",[o]),o._showAfterAnimation(),x=!0)})}n===e.action.centerNode?e.animate(o.getSvg(),{viewbox:f},{viewbox:o.response.viewBox},o.config.anim.duration,o.config.anim.func,function(){o.ripple(i.options.rippleId),x||(r&&r(),e.events.publish("redraw",[o]),o._showAfterAnimation(),x=!0)},function(){o.xScrollUI.setPosition(),o.yScrollUI.setPosition()}):!f||!o.response||f[0]==o.response.viewBox[0]&&f[1]==o.response.viewBox[1]&&f[2]==o.response.viewBox[2]&&f[3]==o.response.viewBox[3]||n!==e.action.insert&&n!==e.action.expand&&n!==e.action.collapse&&n!==e.action.update&&n!==e.action.init?y[0].length==0&&(x||(r&&r(),e.events.publish("redraw",[o]),x=!0)):e.animate(o.getSvg(),{viewbox:f},{viewbox:o.response.viewBox},2*o.config.anim.duration,o.config.anim.func,function(){o.xScrollUI.setPosition(),o.yScrollUI.setPosition(),x||(r&&r(),e.events.publish("redraw",[o]),x=!0)}),o._initialized||(o._initialized=!0,o.filterUI.update(),e.events.publish("init",[o])),!o._loaded&&l&&l.nodes&&Object.keys(l.nodes).length&&(o._loaded=!0)}else{var b=l.boundary,C=b.maxX-b.minX,E=b.maxY-b.minY,N=o.ui.svg(C,E,[b.minX,b.minY,C,E],o.config,d,u);r(N,l)}}},function(l){e.events.publish("ready",[o,l])})}else console.error("Cannot load the family with size 0! If you are using the FamilyTree within tabs set FamilyTree.LAZY_LOADING to true! ")},e.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",this.element.offsetHeight==0&&(this.element.style.height="100%",this.element.offsetHeight==0&&(this.element.style.height="700px")),this.element.offsetWidth==0&&(this.element.style.width="100%",this.element.offsetWidth==0&&(this.element.style.width="700px"))},e.prototype.width=function(){return this.element.offsetWidth},e.prototype.height=function(){return this.element.offsetHeight},e.prototype.getViewBox=function(){var t=this.getSvg();return e._getViewBox(t)},e.prototype.setViewBox=function(t){this.getSvg().setAttribute("viewBox",t.toString())},e.prototype.getScale=function(t){return t||(t=this.getViewBox()),e.getScale(t,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},e.prototype.setScale=function(t){t>this.config.scaleMax&&(t=this.config.scaleMax),t<this.config.scaleMin&&(t=this.config.scaleMin);var n=this.getViewBox().slice(0),i=this.width(),r=this.height(),o=i/n[2],s=r/n[3],l=o>s?s:o,c=n,d=n[2],u=n[3];return n[2]=n[2]/(t/l),n[3]=n[3]/(t/l),n[0]=c[0]-(n[2]-d)/2,n[1]=c[1]-(n[3]-u)/2,this.setViewBox(n),e.events.publish("redraw",[this]),t},e.prototype.ripple=function(t,n,i){var r=this.getNode(t);if(r!=null){var o=this.getNodeElement(t);if(o!=null){var s=this.getScale(),l=r.w/2,c=r.h/2;if(n!==void 0&&i!==void 0){var d=o.getBoundingClientRect();l=n/s-d.left/s,c=i/s-d.top/s}var u=r.w,f=r.h,h=u-l>l?u-l:l,p=f-c>c?f-c:c,g=h>p?h:p,v=document.createElementNS("http://www.w3.org/2000/svg","g"),_=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),w=document.createElementNS("http://www.w3.org/2000/svg","rect"),m=document.createElementNS("http://www.w3.org/2000/svg","circle"),x=e.randomId();_.setAttribute("id",x);var y={ripple:e.t(r.templateName,r.min,this.getScale()).ripple,node:r};e.events.publish("ripple",[this,y]),w.setAttribute("x",y.ripple.rect?y.ripple.rect.x:0),w.setAttribute("y",y.ripple.rect?y.ripple.rect.y:0),w.setAttribute("width",y.ripple.rect?y.ripple.rect.width:r.w),w.setAttribute("height",y.ripple.rect?y.ripple.rect.height:r.h),w.setAttribute("rx",y.ripple.radius),w.setAttribute("ry",y.ripple.radius),m.setAttribute("clip-path","url(#"+x+")"),m.setAttribute("cx",l),m.setAttribute("cy",c),m.setAttribute("r",0),m.setAttribute("fill",y.ripple.color),m.setAttribute("class","bft-ripple"),_.appendChild(w),v.appendChild(_),v.appendChild(m),o.appendChild(v),e.animate(m,{r:0,opacity:1},{r:g,opacity:0},500,e.anim.outPow,function(){o.removeChild(v)})}}},e.prototype.center=function(t,n,i){var r,o,s=t,l=!0,c=!0;n&&n.parentState!=null&&(r=n.parentState),n&&n.childrenState!=null&&(o=n.childrenState),n&&n.rippleId!=null&&(s=n.rippleId),n&&n.vertical!=null&&(l=n.vertical),n&&n.horizontal!=null&&(c=n.horizontal);var d={parentState:r,childrenState:o,rippleId:s,vertical:l,horizontal:c};this._draw(!1,e.action.centerNode,{id:t,options:d},i)},e.prototype.fit=function(t){this.config.scaleInitial=e.match.boundary,this._draw(!0,e.action.init,{method:"fit"},t)},e.prototype.toggleFullScreen=function(){var t=document.querySelector("["+e.attr.tlbr+"r='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t&&(t.innerHTML=e.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),t&&(t.innerHTML=e.toolbarUI.closeFullScreenIcon))},e.prototype.getNode=function(t){return this.nodes[t]},e.prototype.setLayout=function(t,n){n||(n="base"),this._layoutConfigs[n].layout=t,n=="base"&&(this.config.layout=t),this._draw(!1,e.action.update)},e.prototype.setOrientation=function(t,n,i){var r=this;n||(n="base"),this._layoutConfigs[n].orientation=t,n=="base"&&(this.config.orientation=t),this._draw(!1,e.action.update,void 0,function(){e._moveToBoundaryArea(r.getSvg(),r.getViewBox(),r.response.boundary,function(){r._draw(!0,e.action.pan),i&&i()})})},e.prototype.search=function(t,n,i){return e.isNEU(n)&&(n=this.searchUI._searchFields),e.isNEU(i)&&(i=n),e._search.search(this.config.nodes,t,n,i,this.config.searchDisplayField,this.config.searchFieldsWeight,this.searchUI._searchFieldsAbbreviation)},e.prototype._hideBeforeAnimation=function(t){if(this._hideBeforeAnimationCompleted!=1&&!(t&&t<e.ANIM_THRESHOLD)){var n=this.element.getElementsByTagName("text");if(n.length>e.TEXT_THRESHOLD)for(var i=0;i<n.length;i++)n[i].style.display="none";var r=this.element.getElementsByTagName("image");if(r.length>e.IMAGES_THRESHOLD)for(i=0;i<r.length;i++)r[i].style.display="none";var o=this.element.querySelectorAll("["+e.attr.link_id+"]");if(o.length>e.LINKS_THRESHOLD)for(i=0;i<o.length;i++)o[i].style.display="none";var s=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");if(s.length>e.BUTTONS_THRESHOLD)for(i=0;i<s.length;i++)s[i].style.display="none";var l=this.element.querySelectorAll("["+e.attr.control_up_id+"]");if(l.length>e.BUTTONS_THRESHOLD)for(i=0;i<l.length;i++)l[i].style.display="none";this._hideBeforeAnimationCompleted=!0}},e.prototype._showAfterAnimation=function(){for(var t=this.element.getElementsByTagName("text"),n=0;n<t.length;n++)t[n].style.display="";var i=this.element.getElementsByTagName("image");for(n=0;n<i.length;n++)i[n].style.display="";var r=this.element.querySelectorAll("["+e.attr.link_id+"]");for(n=0;n<r.length;n++)r[n].style.display="";var o=this.element.querySelectorAll("["+e.attr.control_expcoll_id+"]");for(n=0;n<o.length;n++)o[n].style.display="";var s=this.element.querySelectorAll("["+e.attr.control_up_id+"]");for(n=0;n<s.length;n++)s[n].style.display="";this._hideBeforeAnimationCompleted=!1},e.prototype.isChild=function(t,n){for(var i=this.getNode(n);i;){if(i.id==t)return!0;i=i.parent?i.parent:i.stParent}return!1},e.prototype.getCollapsedIds=function(t){for(var n=[],i=0;i<t.childrenIds.length;i++){var r=this.getNode(t.childrenIds[i]);r.collapsed==1&&n.push(r.id)}return n},e.prototype.stateToUrl=function(){if(this.manager.state){var t={};return t.exp=this.manager.state.exp.join("*"),t.min=this.manager.state.min.join("*"),t.adjustify=this.manager.state.adjustify.x+"*"+this.manager.state.adjustify.y,t.scale=this.manager.state.scale,t.y=this.manager.state.x,t.x=this.manager.state.y,new URLSearchParams(t).toString()}return""},e.prototype.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(this.nodes==null||!this.nodes.hasOwnProperty(t))return t}},e.prototype.moveNodesToVisibleArea=function(t,n){for(var i=this,r=this.getSvg(),o=this.getViewBox(),s=null,l=null,c=null,d=null,u=0;u<t.length;u++){var f=this.nodes[t[u]];(s===null||s<f.x+f.w)&&(s=f.x+f.w),(l===null||l<f.y+f.h)&&(l=f.y+f.h),(c===null||c>f.x)&&(c=f.x),(d===null||d>f.y)&&(d=f.y)}var h=this.width(),p=this.height(),g=h/(x=s-c+2*this.config.padding),v=p/(y=l-d+2*this.config.padding),_=g>v?v:g,w=Math.ceil(h/_),m=Math.ceil(p/_),x=0,y=0;if(w-2*this.config.padding>=s-c)x=(s+c)/2-w/2;else switch(x=firstRoot.x-w/2+e.manager._getNodeWidth(firstRoot,this.config)/2,this.config.orientation){case e.orientation.right:case e.orientation.right_top:(x=-(w/2-(c-s)/2))<this.config.padding-w&&(x=this.config.padding-w);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(x=-(w/2-(s-c)/2))>-this.config.padding&&(x=-this.config.padding)}if(m-2*this.config.padding>=l-d)y=(l+d)/2-m/2;else switch((y=-(m/2-(l-d)/2))>-this.config.padding&&(y=-this.config.padding),this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(y=-(m/2-(d-l)/2))<this.config.padding-m&&(y=this.config.padding-m);break;case e.orientation.left:case e.orientation.right:y=firstRoot.y-m/2+e.manager._getNodeWidth(firstRoot,this.config)/2}var b=[x,y,w,m];o[0]!==b[0]||o[1]!==b[1]?e.animate(r,{viewBox:o},{viewBox:b},this.config.anim.duration,this.config.anim.func,function(){i.draw(e.action.update,void 0,n)}):n&&n()},e.prototype._nodeHasHiddenParent=function(t){return!t.parent&&!e.isNEU(t.pid)&&this.getNode(t.pid)},e.prototype.destroy=function(){this._removeEvent(window,"resize"),e.events.removeForEventId(this._event_id),this.element.innerHTML=null},e.__defaultConfig=e._defaultConfig,e._defaultConfig=function(t){var n=e.__defaultConfig();return n.nodeTreeMenu=null,n.template="tommy",n.mode="light",n.minPartnerSeparation=30,n.partnerChildrenSplitSeparation=10,n.siblingSeparation=35,n.tags["children-group"]={template:"cgroup",subTreeConfig:{siblingSeparation:7,columns:1}},t&&t.template?(n.tags.male={template:t.template+"_male"},n.tags.female={template:t.template+"_female"}):(n.tags.male={template:n.template+"_male"},n.tags.female={template:n.template+"_female"}),n},e.prototype.load=function(t,n){var i=this;return this.config.nodes=t,this.config.roots=null,this._draw(!1,e.action.init,void 0,function(){i.filterUI.update(),n&&n()}),this},e.prototype.getRecentRootsByNodeId=function(t){this.recentRoots||(this.recentRoots=[]);var n=this.recentRoots,i=this.getNode(t);return i?(i.rids.sort(function(r,o){var s=n.indexOf(r),l=n.indexOf(o);return s==-1?1e3:l==-1?-1e3:s-l}),i.rids):[]},e.prototype._nodeHasHiddenParent=function(t){return!(t.parent||e.isNEU(t.pid)||!this.getNode(t.pid))||!(!t.isPartner||e.isNEU(t.mid)||!this.getNode(t.mid))||!(!t.isPartner||e.isNEU(t.fid)||!this.getNode(t.fid))||!!(t.isPartner&&t.pids.length>1)},e.prototype._center=e.prototype.center,e.prototype.center=function(t,n,i){var r=this.getRecentRootsByNodeId(t);Array.isArray(this.config.roots)||(roots=[]),e._changeRootOption(this.config.roots,r,this.manager.rootList),this._center(t,n,i)},e.localStorage={},e.localStorage.getItem=function(t){var n=localStorage.getItem("to_date");if(n){if((n=new Date(n))<new Date){for(var i=0,r=localStorage.length;i<r;++i){var o=localStorage.key(i);o&&o.startsWith&&o.startsWith('{"n"')&&localStorage.removeItem(o)}localStorage.removeItem("to_date")}}else(n=new Date).setDate(n.getDate()+5),n=n.toISOString(),localStorage.setItem("to_date",n);return localStorage.getItem(t)},e.localStorage.setItem=function(t,n){try{localStorage.setItem(t,n)}catch(i){i.code==i.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+i.code),console.error(i))}},e.prototype.canUpdateLink=function(t,n){if(n==null||n==null||t==null||t==null||t==n)return!1;var i=this.getNode(n),r=this.getNode(t);return!(i&&r&&(i.isPartner||i.hasPartners&&r.isAssistant||i.hasAssistants&&r.isPartner))&&!this.isChild(t,n)},e.prototype._canUpdateLink=e.prototype.canUpdateLink,e.prototype.updateNode=function(t,n,i){var r=this,o=this.get(t.id);if(i===!0&&e.events.publish("update",[this,o,t])===!1)return!1;this.update(t),e.events.publish("updated",[this]),this.filterUI.update();var s=this.getNode(t.id),l=s.pid;l==null&&(l=s.stpid),this._draw(!1,e.action.update,{id:l},function(){r.ripple(t.id),n&&n()})},e.prototype.update=function(t){for(var n=0;n<this.config.nodes.length;n++)if(this.config.nodes[n].id==t.id){this._putInUndoStack(),this.clearRedo(),this.config.nodes[n]=t;break}return this},e.prototype.removeNode=function(t,n,i){var r=this;if(!this.canRemove(t))return!1;var o=this._getNewPidsAndStpidsForIds(t);return i===!0&&e.events.publish("remove",[this,t,o])===!1?!1:(this.remove(t),e.events.publish("updated",[this]),this.filterUI.update(),this._draw(!1,e.action.update,null,function(){r.config.sticky&&e._moveToBoundaryArea(r.getSvg(),r.getViewBox(),r.response.boundary),n&&n()}),!0)},e.prototype.remove=function(t){var n=this.get(t);if(n){this._putInUndoStack(),this.clearRedo();for(var i=this.config.nodes.length-1;i>=0;i--)this.config.nodes[i].pid!=t&&this.config.nodes[i].stpid!=t||(this.config.nodes[i].pid=n.pid,this.config.nodes[i].stpid=n.stpid),this.config.nodes[i].id==t&&this.config.nodes.splice(i,1)}return this},e.prototype._getNewPidsAndStpidsForIds=function(t){var n=this.get(t),i={},r={};if(n)for(var o=this.config.nodes.length-1;o>=0;o--)this.config.nodes[o].pid==t?i[this.config.nodes[o].id]=n.pid:this.config.nodes[o].stpid==t&&(r[this.config.nodes[o].id]=n.stpid);return{newPidsForIds:i,newStpidsForIds:r}},e.prototype.addNode=function(t,n,i){var r=this;if(i===!0&&e.events.publish("add",[this,t])===!1)return!1;this.add(t),e.events.publish("updated",[this]),this.filterUI.update(),r._draw(!1,e.action.insert,{id:t.pid,insertedNodeId:t.id},function(){r.ripple(t.id),n&&n()})},e.prototype.add=function(t){if(t.id==null&&console.error("Call addNode without id"),this._putInUndoStack(),this.clearRedo(),this.config.movable&&!e.isNEU(t.pid)){var n=this._get(t.pid);n&&(n.movex!=null&&(t.movex=n.movex),n.movey!=null&&(t.movey=n.movey))}return this.config.nodes.push(t),this},e.prototype.replaceIds=function(t,n){this._replaceIds(t),this._draw(!1,e.action.update,void 0,n)},e.prototype._replaceIds=function(t){for(var n=function(d){for(var u=0;u<d.length;u++){var f=d[u];for(var h in t){var p=t[h];f.from==h&&(f.from=p),f.to==h&&(f.to=p)}}},i=0;i<this.config.nodes.length;i++){var r=this.config.nodes[i];for(var o in t){var s=t[o];r.id==o&&(r.id=s),r.pid==o&&(r.pid=s),r.stpid==o&&(r.stpid=s),r.ppid==o&&(r.ppid=s)}}if(Array.isArray(this.config.roots))for(i=0;i<this.config.roots.length;i++)e.isNEU(t[this.config.roots[i]])||(this.config.roots[i]=t[this.config.roots[i]]);if(this.nodes)for(var l in this.nodes)e.isNEU(t[l])||(s=t[l],(c=this.nodes[l]).id=s,this.nodes[s]=c);if(this.manager.oldNodes)for(var l in this.manager.oldNodes)e.isNEU(t[l])||(s=t[l],(c=this.manager.oldNodes[l]).id=s,this.manager.oldNodes[s]=c);if(this.roots){for(var l in this.roots)if(!e.isNEU(t[l])){var c;s=t[l],(c=this.roots[l]).id=s,this.roots[s]=c}}n(this.config.clinks),n(this.config.slinks),n(this.config.groupDottedLines),n(this.config.dottedLines)},e.prototype._get=function(t){var n=this.__get(t);if(n)return n;if((this.config.groupDottedLines.length||this.config.dottedLines.length)&&!e.isNEU(t)&&typeof t=="string"&&(t.indexOf("balkan_group_dotted_")!=-1||t.indexOf("balkan_dotted_")!=-1)){var i=(t=(t=t.replace("balkan_group_dotted_","")).replace("balkan_dotted_","")).indexOf("_balkan_id_");if(t=t.substring(i+11),n=this.__get(t))return n}return null},e.prototype.__get=function(t){for(var n=0;n<this.config.nodes.length;n++)if(this.config.nodes[n].id==t)return this.config.nodes[n];return null},e.prototype.get=function(t){var n=this._get(t);return n==null?null:JSON.parse(JSON.stringify(n))},e.prototype.canRemove=function(t){var n=this.getNode(t);return!!n&&!n.hasPartners&&!n.hasAssistants},e.prototype.addChildNode=function(t,n,i){this.hideTreeMenu(!1);var r=this;if(!t||e.isNEU(t.mid)&&e.isNEU(t.fid))console.error("addSonNode invalid data");else{e.isNEU(t.id)&&(t.id=this.generateId());var o={addNodesData:[t],updateNodesData:[],removeNodeId:null};if(i===!0&&e.events.publish("update",[this,o])===!1)return!1;r._fireUpdate_addUpdateRemove(o,i);var s="";e.isNEU(o.addNodesData[0].pid)?e.isNEU(o.addNodesData[0].mid)?e.isNEU(o.addNodesData[0].fid)||(s=o.addNodesData[0].fid):s=o.addNodesData[0].mid:s=o.addNodesData[0].pid,r._draw(!1,e.action.insert,{id:s,insertedNodeId:o.addNodesData[0].id},function(){r.ripple(o.addNodesData[0].id),n&&n(),i===!0&&e.events.publish("updated",[r,o]),r.filterUI.update()})}},e.prototype.addChildAndPartnerNodes=function(t,n,i,r,o){this.hideTreeMenu(!1);var s=this;if(!n||e.isNEU(n.mid)&&e.isNEU(n.fid))console.error("addChildAndPartnerNodes invalid childData");else if(i){e.isNEU(n.id)&&(n.id=this.generateId()),e.isNEU(i.id)&&(i.id=this.generateId()),n.mid=="_ft_partner"?n.mid=i.id:n.fid=="_ft_partner"&&(n.fid=i.id);var l=[],c=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addChildAndPartnerNodes partnerData.pids has to have one partner"),c=this.get(i.pids[0]),Array.isArray(c.pids)||(c.pids=[]),c.pids.push(i.id),l.push(c));var d={addNodesData:[n,i],updateNodesData:l,removeNodeId:null};if(o===!0&&e.events.publish("update",[this,d])===!1)return!1;s._fireUpdate_addUpdateRemove(d,o);var u=s.getRecentRootsByNodeId(t);e._changeRootOption(s.config.roots,u,s.manager.rootList);var f="";c?f=c.id:e.isNEU(n.pid)?e.isNEU(n.mid)?e.isNEU(n.fid)||(f=n.fid):f=n.mid:f=n.pid,s._draw(!1,e.action.update,{id:f},function(){s.ripple(n.id),s.ripple(i.id),r&&r(),o===!0&&e.events.publish("updated",[s,d]),s.filterUI.update()}),o===!0&&e.events.publish("updating",[s,d])}else console.error("addChildAndPartnerNodes invalid data")},e.prototype.addPartnerAndParentNodes=function(t,n,i,r,o){this.hideTreeMenu(!1);var s=this;if(!e.isNEU(n)&&n.length)if(i){e.isNEU(i.id)&&(i.id=this.generateId());for(var l=[],c=0;c<n.length;c++){var d=this.get(n[c]);if(!e.isNEU(d.mid)&&!e.isNEU(d.fid))return void console.error("father id (fid) or mather id (mid) has to be null or undefined");e.isNEU(d.mid)?d.mid=i.id:e.isNEU(d.mid)||(d.fid=i.id),l.push(d)}var u=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addChildAndPartnerNodes partnerData.pids has to have one partner"),u=this.get(i.pids[0]),Array.isArray(u.pids)||(u.pids=[]),u.pids.push(i.id),l.push(u));var f={addNodesData:[i],updateNodesData:l,removeNodeId:null};if(o===!0&&e.events.publish("update",[this,f])===!1)return!1;s._fireUpdate_addUpdateRemove(f,o);var h=s.getRecentRootsByNodeId(t);e._changeRootOption(s.config.roots,h,s.manager.rootList);var p="";u&&(p=u.id),s._draw(!1,e.action.update,{id:p},function(){s.ripple(i.id),r&&r(),o===!0&&e.events.publish("updated",[s,f]),s.filterUI.update()}),o===!0&&e.events.publish("updating",[s,f])}else console.error("addPartnerAndParentNodes invalid data");else console.error("addPartnerAndParentNodes invalid data")},e.prototype.addPartnerNode=function(t,n,i){this.hideTreeMenu(!1);var r=this;if(t&&Array.isArray(t.pids)&&t.pids.length==1){e.isNEU(t.id)&&(t.id=this.generateId());var o=this.get(t.pids[0]);Array.isArray(o.pids)||(o.pids=[]),o.pids.push(t.id);var s={removeNodeId:null,updateNodesData:[o],addNodesData:[t]};if(i===!0&&e.events.publish("update",[this,s])===!1)return!1;r._fireUpdate_addUpdateRemove(s,i);var l=r.getRecentRootsByNodeId(s.updateNodesData[0].id);e._changeRootOption(r.config.roots,l,r.manager.rootList);var c=s.updateNodesData[0].id;r._draw(!1,e.action.insert,{id:c,insertedNodeId:s.addNodesData[0].id},function(){r.ripple(s.addNodesData[0].id),n&&n(),i===!0&&e.events.publish("updated",[r,s]),r.filterUI.update()}),i===!0&&e.events.publish("updating",[r,s])}else console.error("addPartnerNode invalid data")},e.prototype.addParentNode=function(t,n,i,r,o){this.hideTreeMenu(!1);var s=this;if(i)if(["mid","fid"].has(n))if(e.isNEU(t))console.error("addParentNode invalid childId");else{e.isNEU(i.id)&&(i.id=this.generateId());var l=[],c=this.get(t);c[n]=i.id,l.push(c);var d=null;Array.isArray(i.pids)&&(i.pids.length!=1&&console.error("addParentNode: data has to have one partner"),d=this.get(i.pids[0]),Array.isArray(d.pids)||(d.pids=[]),d.pids.push(i.id),l.push(d));var u={removeNodeId:null,updateNodesData:l,addNodesData:[i]};if(o===!0&&e.events.publish("update",[this,u])===!1)return!1;s._fireUpdate_addUpdateRemove(u,o);var f=t;s.config.roots=[u.addNodesData[0].id],s._draw(!1,e.action.insert,{id:f,insertedNodeId:u.addNodesData[0].id},function(){s.ripple(u.addNodesData[0].id),r&&r(),o===!0&&e.events.publish("updated",[s,u]),s.filterUI.update()}),o===!0&&e.events.publish("updating",[s,u])}else console.error("addParentNode invalid type");else console.error("addParentNode invalid data")},e.prototype.canRemove=function(t){var n=this.getNode(t);if(!n)return!1;var i=this.getNode(n.mid),r=this.getNode(n.fid),o=n.ftChildrenIds.length>0,s=!1,l=n.pids.length>0,c=n.pids.length>1;if(n.pids.length==1){var d=this.getNode(n.pids[0]);s=n.ftChildrenIds.compare(d.ftChildrenIds)}return!(!i&&!r||o||l)||!(i||r||o||c||!l||s)||!(i||r||!o||!s)||!(i||r||!o||s)||!(i||r||o||!s)},e.prototype.removeNode=function(t,n,i){var r=this;if(this.canRemove(t)){var o=this.getNode(t),s=[];if(Array.isArray(o.pids))for(var l=0;l<o.pids.length;l++){var c=this.get(o.pids[l]);c&&(u=c.pids.indexOf(o.id))!=-1&&(c.pids.splice(u,1),s.push(c))}if(Array.isArray(o.ftChildrenIds))for(l=0;l<o.ftChildrenIds.length;l++){var d=this.get(o.ftChildrenIds[l]);d&&(d.mid==o.id?(d.mid=void 0,s.push(d)):d.fid==o.id&&(d.fid=void 0,s.push(d)))}var u,f={removeNodeId:t,updateNodesData:s,addNodesData:[]};if(i===!0&&e.events.publish("update",[this,f])===!1)return!1;r._fireUpdate_addUpdateRemove(f,i),(u=r.config.roots.indexOf(t))!=-1&&r.config.roots.splice(u,1),r._draw(!1,e.action.update,null,function(){r.config.sticky&&e._moveToBoundaryArea(r.getSvg(),r.getViewBox(),r.response.boundary),n&&n(),i===!0&&e.events.publish("updated",[r,f]),r.filterUI.update()}),i===!0&&e.events.publish("updating",[r,f])}},e.prototype.updateNode=function(t,n,i){var r=this,o=this.getNode(t.id);t.pids||(t.pids=[]);var s=[];s.push(t);for(var l=0;l<o.pids.length;l++)if(!t.pids.has(o.pids[l])&&(d=this._get(o.pids[l]))&&d.pids){var c=d.pids.indexOf(t.id);c!=-1&&(d.pids.splice(c,1),s.push(t)),o.pids.splice(l,1),s.push(d)}for(l=0;l<t.pids.length;l++){var d;(!o.pids||!o.pids.has(t.pids[l]))&&((d=this._get(t.pids[l])).pids||(d.pids=[]),d.pids.push(t.pids[l]),s.push(d))}var u={removeNodeId:null,updateNodesData:s,addNodesData:[]};if(i===!0&&e.events.publish("update",[this,u])===!1)return!1;r._fireUpdate_addUpdateRemove(u,i),r._draw(!1,e.action.update,null,function(){r.config.sticky&&e._moveToBoundaryArea(r.getSvg(),r.getViewBox(),r.response.boundary),n&&n(),i===!0&&e.events.publish("updated",[r,u]),r.filterUI.update()})},e.prototype._fireUpdate_addUpdateRemove=function(t,n){for(var i=0;i<t.addNodesData.length;i++)this.add(t.addNodesData[i]);for(i=0;i<t.updateNodesData.length;i++)this.update(t.updateNodesData[i]);e.isNEU(t.removeNodeId)||this.remove(t.removeNodeId),n===!0&&e.events.publish("updating",[this,t])},e.prototype.__replaceIds=e.prototype._replaceIds,e.prototype._replaceIds=function(t){this.__replaceIds(t);for(var n=0;n<this.config.nodes.length;n++){var i=this.config.nodes[n];for(var r in t){var o=t[r];if(i.fid==r&&(i.fid=o),i.mid==r&&(i.mid=o),Array.isArray(i.pids))for(var s=0;s<i.pids.length;s++)i.pids[s]==r&&(i.pids[s]=o)}}},e===void 0&&(e={}),e._ajax=function(t,n,i,r,o){r==null&&(r="arraybuffer");var s=new XMLHttpRequest;s.onload=function(l){s.readyState==4&&this.status===200&&(l.target==null?o(this.response):o(l.target.response))},s.onerror=function(l){o({error:l})},s.open(n,t),s.responseType=r,s.setRequestHeader("Content-Type","application/json"),i==null?s.send():s.send(i)},e===void 0&&(e={}),e.animate=function(t,n,i,r,o,s,l){var c,d=10,u=1,f=r/d+1;return document.getElementsByTagName("g"),Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]),c=setInterval(function(){for(var h=0;h<t.length;h++)for(var p in i[h]){var g=e._arrayContains(["top","left","right","bottom","width","height"],p.toLowerCase())?"px":"";switch(p.toLowerCase()){case"d":var v=o((u*d-d)/r)*(i[h][p][0]-n[h][p][0])+n[h][p][0],_=o((u*d-d)/r)*(i[h][p][1]-n[h][p][1])+n[h][p][1];t[h].setAttribute("d",t[h].getAttribute("d")+" L"+v+" "+_);break;case"r":var w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p];t[h].setAttribute("r",w);break;case"x1":w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p],t[h].setAttribute("x1",w);break;case"x2":w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p],t[h].setAttribute("x2",w);break;case"y1":w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p],t[h].setAttribute("y1",w);break;case"y2":w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p],t[h].setAttribute("y2",w);break;case"rotate3d":if(i[h][p]){var m=n[h][p],x=i[h][p],y=[0,0,0,0];for(var b in m)y[b]=o((u*d-d)/r)*(x[b]-m[b])+m[b];t[h].style.transform="rotate3d("+y.toString()+"deg)"}break;case"transform":if(i[h][p]){m=n[h][p],x=i[h][p],y=[0,0,0,0,0,0];for(var b in m)y[b]=o((u*d-d)/r)*(x[b]-m[b])+m[b];t[h].hasAttribute("transform")?t[h].setAttribute("transform","matrix("+y.toString()+")"):t[h].style.transform="matrix("+y.toString()+")"}break;case"viewbox":if(i[h][p]){m=n[h][p],x=i[h][p],y=[0,0,0,0];for(var b in m)y[b]=o((u*d-d)/r)*(x[b]-m[b])+m[b];t[h].setAttribute("viewBox",y.toString())}break;case"margin":if(i[h][p]){m=n[h][p],x=i[h][p],y=[0,0,0,0];for(var b in m)y[b]=o((u*d-d)/r)*(x[b]-m[b])+m[b];var C="";for(b=0;b<y.length;b++)C+=parseInt(y[b])+"px ";t[h]&&t[h].style&&(t[h].style[p]=C)}break;case"scrolly":w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p],t[h].scrollTo(0,w);break;default:w=o((u*d-d)/r)*(i[h][p]-n[h][p])+n[h][p],t[h]&&t[h].style&&(t[h].style[p]=w+g)}}l&&l(),(u+=1)>f+1&&(clearInterval(c),s&&s(t))},d)},e.anim={},e.anim.inPow=function(t){return t<0?0:t>1?1:Math.pow(t,2)},e.anim.outPow=function(t){return t<0?0:t>1?1:-1*(Math.pow(t-1,2)+-1)},e.anim.inOutPow=function(t){return t<0?0:t>1?1:(t*=2)<1?e.anim.inPow(t,2)/2:-.5*(Math.pow(t-2,2)+-2)},e.anim.inSin=function(t){return t<0?0:t>1?1:1-Math.cos(t*(Math.PI/2))},e.anim.outSin=function(t){return t<0?0:t>1?1:Math.sin(t*(Math.PI/2))},e.anim.inOutSin=function(t){return t<0?0:t>1?1:-.5*(Math.cos(Math.PI*t)-1)},e.anim.inExp=function(t){return t<0?0:t>1?1:Math.pow(2,10*(t-1))},e.anim.outExp=function(t){return t<0?0:t>1?1:1-Math.pow(2,-10*t)},e.anim.inOutExp=function(t){return t<0?0:t>1?1:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,10*(-2*t+1)))},e.anim.inCirc=function(t){return t<0?0:t>1?1:-(Math.sqrt(1-t*t)-1)},e.anim.outCirc=function(t){return t<0?0:t>1?1:Math.sqrt(1-(t-1)*(t-1))},e.anim.inOutCirc=function(t){return t<0?0:t>1?1:t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(2*t-2)*(2*t-2))+1)},e.anim.rebound=function(t){return t<0?0:t>1?1:t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75):t<2.5/2.75?1-(7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375):1-(7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375)},e.anim.inBack=function(t){return t<0?0:t>1?1:t*t*(2.70158*t-1.70158)},e.anim.outBack=function(t){return t<0?0:t>1?1:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1},e.anim.inOutBack=function(t){return t<0?0:t>1?1:t<.5?4*t*t*(7.1898*t-2.5949)*.5:.5*((2*t-2)*(2*t-2)*(3.5949*(2*t-2)+2.5949)+2)},e.anim.impulse=function(t){var n=2*t;return n*Math.exp(1-n)},e.anim.expPulse=function(t){return Math.exp(-2*Math.pow(t,2))},e===void 0&&(e={}),e.prototype._attachInitEventHandlers=function(t){this._addEvent(window,"resize",this._resizeHandler)},e.prototype._attachEventHandlers=function(t){if(this.config.interactive){t=this.getSvg(),this.config.enableTouch||e.isMobile()?(this._addEvent(t,"touchstart",this._globalMouseDownHandler),this._addEvent(t,"touchend",this._globalClickHandler)):(this._addEvent(t,"mousedown",this._globalMouseDownHandler),this._addEvent(t,"click",this._globalClickHandler),this._addEvent(t,"contextmenu",this._globalContextHandler),this._addEvent(t,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=e.action.none&&this._addEvent(t,"wheel",this._mouseScrollHandler));var n=this.getMenuButton();n&&this._addEvent(n,"click",this._menuClickHandler)}},e.prototype._addEvent=function(t,n,i,r){var o,s;r||(r=""),t.getListenerList||(t.getListenerList={}),t.getListenerList[n+r]||(o=this,s=i,i=function(){if(s)return s.apply(o,[this,arguments[0]])},t.addEventListener?n=="mousewheel"?t.addEventListener(n,l,{passive:!1}):t.addEventListener(n,l,!1):t.attachEvent("on"+n,function(){var c=i.call(t,window.event);return c===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),c}),t.getListenerList[n+r]=l);function l(c){var d=i.apply(this,arguments);return d===!1&&(c.stopPropagation(),c.preventDefault()),d}},e.prototype._removeEvent=function(t,n){if(t.getListenerList[n]){var i=t.getListenerList[n];t.removeEventListener(n,i,!1),delete t.getListenerList[n]}},e===void 0&&(e={}),e.VERSION="8.14.55",e.orientation={},e.orientation.top=0,e.orientation.bottom=1,e.orientation.right=2,e.orientation.left=3,e.orientation.top_left=4,e.orientation.bottom_left=5,e.orientation.right_top=6,e.orientation.left_top=7,e.align={},e.align.center=e.CENTER=8,e.align.orientation=e.ORIENTATION=9,e.attr={},e.attr.l="data-l",e.attr.id="data-id",e.attr.sl="data-sl",e.attr.lbl="data-lbl",e.attr.val="data-val",e.attr.tlbr="data-tlbr",e.attr.item="data-item",e.attr.layout="data-layout",e.attr.node_id="data-n-id",e.attr.link_id="data-l-id",e.attr.field_name="data-f-name",e.attr.c_link_to="data-c-l-to",e.attr.c_link_from="data-c-l-from",e.attr.s_link_to="data-s-l-to",e.attr.s_link_from="data-s-l-from",e.attr.control_add="data-ctrl-add",e.attr.control_expcoll_id="data-ctrl-ec-id",e.attr.control_up_id="data-ctrl-up-id",e.attr.control_export_menu="data-ctrl-menu",e.attr.control_node_menu_id="data-ctrl-n-menu-id",e.attr.control_node_circle_menu_id="data-ctrl-n-c-menu-id",e.attr.control_node_circle_menu_name="data-ctrl-n-c-menu-name",e.attr.control_node_circle_menu_wrraper_id="data-ctrl-n-c-menu-wrapper-id",e.attr.width="data-width",e.attr.text_overflow="data-text-overflow",e.ID="id",e.PID="pid",e.STPID="stpid",e.TAGS="tags",e.NODES="nodes",e.ELASTIC="elastic",e.ASSISTANT="Assistant",e.action={},e.action.expand=0,e.action.collapse=1,e.action.maximize=101,e.action.minimize=102,e.action.expandCollapse=501,e.action.edit=1,e.action.zoom=2,e.action.ctrlZoom=22,e.action.scroll=41,e.action.xScroll=3,e.action.yScroll=4,e.action.none=5,e.action.init=6,e.action.update=7,e.action.move=70,e.action.pan=8,e.action.centerNode=9,e.action.resize=10,e.action.insert=11,e.action.insertfirst=12,e.action.details=13,e.action.exporting=14,e.none=400001,e.scroll={},e.scroll.visible=!0,e.scroll.smooth=12,e.scroll.speed=120,e.scroll.safari={smooth:12,speed:250},e.match={},e.match.height=100001,e.match.width=100002,e.match.boundary=100003,e.movable={},e.movable.node="node",e.movable.tree="tree",e.movable.detachTree="detachTree",e.layout={},e.layout.normal=e.normal=0,e.layout.mixed=e.mixed=1,e.layout.tree=e.tree=2,e.layout.treeLeftOffset=e.treeLeftOffset=3,e.layout.treeRightOffset=e.treeRightOffset=4,e.layout.treeLeft=5,e.layout.treeRight=6,e.layout.grid=-1,e.nodeOpenTag="<g "+e.attr.node_id+'="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" '+e.attr.sl+'="{sl}" '+e.attr.l+"={level} {lcn}>",e.linkOpenTag="<g "+e.attr.link_id+'="[{id}][{child-id}]" class="{class}">',e.expcollOpenTag="<g "+e.attr.control_expcoll_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',e.upOpenTag="<g "+e.attr.control_up_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})" style="cursor:pointer;">',e.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',e.grCloseTag="</g>",e.A5w=420,e.A5h=595,e.A4w=595,e.A4h=842,e.A3w=842,e.A3h=1191,e.A2w=1191,e.A2h=1684,e.A1w=1684,e.A1h=2384,e.Letterw=612,e.Letterh=791,e.Legalw=612,e.Legalh=1009,e.COLLAPSE_PARENT_NEIGHBORS=1,e.COLLAPSE_SUB_CHILDRENS=2,e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,e.TEXT_THRESHOLD=400,e.IMAGES_THRESHOLD=100,e.LINKS_THRESHOLD=200,e.BUTTONS_THRESHOLD=70,e.ANIM_THRESHOLD=50,e.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  '+e.attr.control_add+'="control-add"><text fill="#039be5">{link}</text></g>',e.RES={},e.IT_IS_LONELY_HERE_LINK=e.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",e.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,e.STRING_TAGS=!1,e.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>",e.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/FamilyTreeJS/Docs/Evaluation'>See more</a>",e.SEARCH_PLACEHOLDER="Search... type ? to get help.",e.SEARCH_HELP_SYMBOL="?",e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE=!1,e.SEARCH_RESULT_LIMIT=10,e.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",e.FIXED_POSITION_ON_CLICK=!1,e.RENDER_LINKS_BEFORE_NODES=!1,e.RENDER_CLINKS_BEFORE_NODES=!1,e.MIXED_LAYOUT_ALL_NODES=!0,e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN=!1,e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN=1,e.LINK_ROUNDED_CORNERS=5,e.MOVE_STEP=5,e.CLINK_CURVE=1,e.MAX_DEPTH=200,e.SCALE_FACTOR=1.44,e.LAZY_LOADING_FACTOR=500,e.HIDE_EDIT_FORM_ON_PAN=!0,e.LAZY_LOADING=!0,e.ARRAY_FIELDS=["tags"],e.CSV_DELIMITER=",",e.EDITFORM_CLOSE_BTN='<svg data-edit-from-close class="bft-edit-form-close"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',e.ESCAPE_HTML=!1,e.VERTICAL_CHILDREN_ASSISTANT=!1,e.EXPORT_PAGES_CUT_NODES=!1,e.RESET_MOVABLE_ONEXPANDCOLLAPSE=!1,e.FILTER_ALPHABETICALLY=!0,e.SERVER_PREFIX=".azurewebsites.net/api/OrgChartJS",e.FUNC_URL_NAME="func-url-orgfamilyjs",e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT=1,a.exports=e,e.SERVER_PREFIX=".azurewebsites.net/api/FamilyTreeJS",e.FUNC_URL_NAME="func-url-familytreejs",e.OC_VERSION=e.VERSION,e.VERSION="1.09.45",e.RENDER_LINKS_BEFORE_NODES=!0,e.ARRAY_FIELDS=["tags","pids"],e._intersects=function(t,n,i){var r=t.x-i.siblingSeparation/4,o=t.y,s=t.x+t.w+i.siblingSeparation/4,l=t.y;switch(i.orientation){case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:r=t.x,o=t.y-i.siblingSeparation/4,s=t.x,l=t.y+t.h+i.siblingSeparation/4}var c,d,u,f=n.p,h=n.q,p=n.r,g=n.s;return(c=(s-r)*(g-h)-(p-f)*(l-o))!==0&&(d=((o-l)*(p-r)+(s-r)*(g-o))/c,0<(u=((g-h)*(p-r)+(f-p)*(g-o))/c)&&u<1&&0<d&&d<1)},e._addPoint=function(t,n,i,r,o){switch(i.orientation){case e.orientation.top:case e.orientation.top_left:return e._addPointTop(t,n,i,r,o);case e.orientation.bottom:case e.orientation.bottom_left:return e._addPointBottom(t,n,i,r,o);case e.orientation.left:case e.orientation.left_top:return e._addPointLeft(t,n,i,r,o);case e.orientation.right:case e.orientation.right_top:return e._addPointRight(t,n,i,r,o)}},e._addPointTop=function(t,n,i,r,o){var s,l,c;return o=="left"?s=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-i.siblingSeparation/2:o=="right"&&(s=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+i.siblingSeparation/2),n.push([s,n[n.length-1][1]]),n.push([s,t.y-i.levelSeparation/3]),l=n[n.length-1][1],c=s,r.p=s,r.q=l,r.r=c,r},e._addPointBottom=function(t,n,i,r,o){var s,l,c;return o=="left"?s=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-i.siblingSeparation/2:o=="right"&&(s=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+i.siblingSeparation/2),n.push([s,n[n.length-1][1]]),n.push([s,t.y+t.h+i.levelSeparation/3]),l=n[n.length-1][1],c=s,r.p=s,r.q=l,r.r=c,r},e._addPointLeft=function(t,n,i,r,o){var s,l=n[n.length-1][0];o=="bottom"?s=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+i.siblingSeparation/2:o=="top"&&(s=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-i.siblingSeparation/2),n.push([n[n.length-1][0],s]),n.push([t.x-i.levelSeparation/3,s]),l=n[n.length-1][0];var c=s;return r.p=l,r.q=s,r.s=c,r},e._addPointRight=function(t,n,i,r,o){var s,l=n[n.length-1][0];o=="bottom"?s=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+i.siblingSeparation/2:o=="top"&&(s=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-i.siblingSeparation/2),n.push([n[n.length-1][0],s]),n.push([t.x+t.w+i.levelSeparation/3,s]),l=n[n.length-1][0];var c=s;return r.p=l,r.q=s,r.s=c,r},e.editUI=function(){},e.editUI.prototype.init=function(t){this.obj=t,this.fields=null,this._event_id=e._guid()},e.editUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.editUI.prototype.show=function(t,n,i){if(this.hide(),e.events.publish("show",[this,t])===!1)return!1;var r=this,o=this.content(t,n,i);this.obj.element.appendChild(o.element),e.input.init(this.obj.element),i?n||this._focusElement(o.focusId):this.interval=e.animate(o.element,{right:-20,opacity:0},{right:0,opacity:1},300,e.anim.outSin,function(){n||r._focusElement(o.focusId)}),this.obj.element.querySelector("[data-edit-from-close]").addEventListener("click",function(c){c.preventDefault(),e.events.publish("cancel",[r,{id:t}])!==!1&&r.hide()}),this.obj.element.querySelector("[data-edit-from-cancel]").addEventListener("click",function(c){c.preventDefault(),e.events.publish("cancel",[r,{id:t}])!==!1&&r.hide()}),this.obj.element.querySelector("[data-edit-from-save]").addEventListener("click",function(c){c.preventDefault();var d=e.input.validateAndGetData(o.element);if(d!==!1){var u=r.obj.get(t),f={data:e.mergeDeep(u,d)};if(e.events.publish("save",[r,f])===!1)return;r.obj.updateNode(f.data,null,!0),r.hide()}});for(var s=this.obj.element.querySelectorAll("[data-input-btn]"),l=0;l<s.length;l++)s[l].addEventListener("click",function(c){c.preventDefault(),e.events.publish("element-btn-click",[r,{input:this.parentNode.querySelector("input"),nodeId:t,event:c}])});this.obj.element.querySelector("[data-add-more-fields-btn]").addEventListener("click",function(c){c.stopPropagation(),c.preventDefault();var d=this,u=e.elements.textbox({},{type:"textbox",label:r.obj.config.editForm.addMoreFieldName,btn:r.obj.config.editForm.addMoreBtn},"280px");d.parentNode.insertAdjacentHTML("beforebegin",u.html),d.style.display="none",e.input.init(d.parentNode.previousSibling);var f=document.getElementById(u.id);f.focus(),f.nextElementSibling.addEventListener("click",function(h){h.stopPropagation(),h.preventDefault();var p=f.value,g=r.obj.element.querySelector('[data-binding="'+e._escapeDoubleQuotes(f.value)+'"]');if(e.isNEU(p)||g)f.focus();else{var v=e.elements.textbox({},{type:"textbox",label:p,binding:p},"280px");f.parentNode.parentNode.parentNode.removeChild(f.parentNode.parentNode),d.parentNode.insertAdjacentHTML("beforebegin",v.html),d.style.display="",e.input.init(d.parentNode.previousSibling),document.getElementById(v.id).focus()}})}),this.obj.element.querySelector("[data-bft-edit-from-btns]").addEventListener("click",function(c){for(var d=c.target;d&&d.hasAttribute&&!d.hasAttribute("data-edit-from-btn");)d=d.parentNode;if(d&&d.hasAttribute){var u=d.getAttribute("data-edit-from-btn"),f={button:r.obj.config.editForm.buttons[u],name:u,nodeId:t,event:c};if(e.events.publish("button-click",[r,f])===!1)return!1;switch(u){case"edit":r.obj.editUI.show(t,!1,!0);break;case"pdf":r.obj.exportPDFProfile({id:t,filename:o.title}),r.hide();break;case"png":r.obj.exportPNGProfile({id:t,filename:o.title}),r.hide();break;case"share":r.obj.shareProfile(t);break;case"remove":r.obj.removeNode(t,null,!0),r.hide()}}})},e.editUI.prototype._focusElement=function(t){var n=null;e.isNEU(this.obj.config.editForm.focusBinding)?e.isNEU(t)||(n=document.getElementById(t)):n=this.obj.element.querySelector('[data-binding="'+this.obj.config.editForm.focusBinding+'"]'),n&&(n.value&&n.value.length&&n.setSelectionRange(n.value.length,n.value.length),n.focus())},e.editUI.prototype.setAvatar=function(t){var n=this.obj.element.querySelector("#bft-avatar");e.isNEU(t)?n.innerHTML=e.icon.user(150,150,"#8C8C8C",0,0):n.innerHTML=`<img style="width: 100%;height:100%;object-fit:cover;border-radius: 50%;" src="${t}"></img>`},e.editUI.prototype.content=function(t,n,i,r,o){var s,l=this.obj.config.editForm.readOnly,c=JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),d=this.obj.config.editForm.addMore,u=this.obj.config.editForm.saveAndCloseBtn,f=this.obj.config.editForm.cancelBtn,h=this.obj.config.editForm.buttons,p=this.obj.config.editForm.titleBinding,g=this.obj.config.editForm.photoBinding,v=this.obj.getNode(t),_=this.obj._get(t),w=e.t(v.templateName,v.min,this.obj.getScale()),m=_[p],x=_[g];if(this.obj.config.editForm.generateElementsFromFields)for(var y=0;y<this.fields.length;y++){var b=this.fields[y];if(b!="tags"){for(var C=!1,E=0;E<c.length;E++){if(Array.isArray(c[E])){for(var N=0;N<c[E].length;N++)if(b==c[E][N].binding){C=!0;break}}else if(b==c[E].binding){C=!0;break}if(C)break}C||c.push({type:"textbox",label:b,binding:b})}}e.isNEU(m)&&(m=""),x=e.isNEU(x)?e.icon.user(150,150,"#8C8C8C",0,0):`<img style="width: 100%;height:100%;border-radius: 50%;object-fit:cover;" src="${x}"></img>`;var L=!n,O=n?"display:none;":"",X=n||!d?"display:none;":"",T=w.editFormHeaderColor?`style="background-color:${w.editFormHeaderColor};"`:"",$=document.createElement("form");if($.setAttribute("data-bft-edit-form",""),$.classList.add("bft-edit-form"),$.classList.add(this.obj.config.mode),$.classList.add(v.templateName.replaceAll(" ","")),$.classList.add(e.ui._defsIds[v.templateName]),Array.isArray(v.tags)&&v.tags.length)for(y=0;y<v.tags.length;y++)$.classList.add(v.tags[y].replaceAll(" ",""));$.style.display="flex",$.style.opacity=i?1:0,$.style.right=i?0:"-20px",r&&($.style.width=r);var G=[],te=o?"":e.EDITFORM_CLOSE_BTN;return $.innerHTML=`<div>
                        <div class="bft-edit-form-header" ${T}>
                            ${te}
                            ${e.editUI.renderHeaderContent(m,x,v,_)}
                        </div>
                        <div data-bft-edit-from-btns class="bft-edit-form-instruments">
                        ${function(){if(o)return"";var K="";for(var H in h){var F=h[H];e.isNEU(F)||L&&F.hideIfEditMode||n&&F.hideIfDetailsMode||l&&F.text=="Edit"||(K+=`<div data-edit-from-btn='${H}' class="bft-img-button" ${T} title="${F.text}">${F.icon}</div>`)}return K}()}    
                        </div>
                    </div>
                    <div class="bft-edit-form-fields">
                        <div class="bft-edit-form-fields-inner">
                            <div class="bft-form-fieldset">
                                ${function(){for(var K="",H=0;H<c.length;H++){var F=c[H];if(Array.isArray(F)){K+='<div class="bft-form-field-100 bft-form-fieldset">';for(var W=0;W<F.length;W++){var ie=F[W],Z=e.elements[ie.type](_,ie,"unset",n);!e.isNEU(Z.id)&&e.isNEU(s)&&e.isNEU(Z.value)&&(s=Z.id),e.isNEU(Z.value)||G.push(`${ie.label}: ${Z.value}`),K+=Z.html}K+="</div>"}else Z=e.elements[F.type](_,F,"280px",n),!e.isNEU(Z.id)&&e.isNEU(s)&&e.isNEU(Z.value)&&(s=Z.id),e.isNEU(Z.value)||G.push(`${F.label}: ${Z.value}`),K+=Z.html}return K}()}

                                <div class="bft-form-field" style="min-width: 280px; text-align:center; ${X}">
                                    <a data-add-more-fields-btn href="#" class="bft-link">${d}</a>
                                </div>
                            </div>        
                        </div>
                    </div>
                    <div class="bft-form-fieldset" style="padding: 14px 10px; ${O}">
                        <div class="bft-form-field" style="min-width: initial;">
                            <button data-edit-from-cancel type="button" class="bft-button transparent">${f}</button>
                        </div>
                        <div class="bft-form-field" style="min-width: initial;">
                            <button type="submit" data-edit-from-save type="button" class="bft-button">${u}</button>
                        </div>
                    </div>`,{element:$,focusId:s,title:m,shareText:G.join(`
`)}},e.editUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;e.isNEU(this.interval)&&(clearInterval(this.interval),this.interval=null);var t=this.obj.element.querySelector("[data-bft-edit-form]");t&&t.parentNode&&t.parentNode.removeChild(t)},e.editUI.renderHeaderContent=function(t,n,i,r){return`<h1 class="bft-edit-form-title">${e._escapeGreaterLessSign(t)}</h1>
                <div id="bft-avatar" class="bft-edit-form-avatar">${n}</div>`},e.prototype.getSvg=function(){var t=this.element.getElementsByTagName("svg");return t&&t.length?t[0]:null},e.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},e.prototype.getNodeElement=function(t){return this.element.querySelector("["+e.attr.node_id+"='"+t+"']")},e.prototype.getMenuButton=function(){return this.element.querySelector("["+e.attr.control_export_menu+"]")},e.menuUI=function(){},e.menuUI.prototype.init=function(t,n){this.obj=t,this.wrapper=null,this.menu=n,this._event_id=e._guid()},e.menuUI.prototype.showStickIn=function(t,n,i,r){this._show(t,null,n,i,r)},e.menuUI.prototype.show=function(t,n,i,r,o){this._show(t,n,i,r,o)},e.menuUI.prototype._show=function(t,n,i,r,o){var s=this;this.hide();var l="";o||(o=this.menu);var c={firstNodeId:i,secondNodeId:r,menu:o};if(e.events.publish("show",[this,c])===!1)return!1;for(var d in o=c.menu){var u=o[d].icon,f=o[d].text;u===void 0&&(u=e.icon[d]?e.icon[d](24,24,"#7A7A7A"):""),typeof f=="function"&&(f=f()),typeof u=="function"&&(u=u()),l+="<div "+e.attr.item+'="'+d+'">'+u+"<span>&nbsp;&nbsp;"+f+"</span></div>"}if(l!=""){if(this.wrapper=document.createElement("div"),this.wrapper.className="bft-family-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=l,this.obj.element.appendChild(this.wrapper),n==null){var h=e._menuPosition(t,this.wrapper,this.obj.getSvg());t=h.x,n=h.y}var p=t+45;this.wrapper.style.left=p+"px",this.wrapper.style.top=n+"px",this.wrapper.style.left=p-this.wrapper.offsetWidth+"px";var g=t-this.wrapper.offsetWidth;e.animate(this.wrapper,{opacity:0,left:p-this.wrapper.offsetWidth},{opacity:1,left:g},300,e.anim.inOutPow);for(var v=this.wrapper.getElementsByTagName("div"),_=0;_<v.length;_++)(d=v[_]).addEventListener("click",function(w){var m,x=this.getAttribute(e.attr.item);if(o[x].onClick===void 0)if(x==="add"){var y={id:s.obj.generateId(),pid:i};s.obj.addNode(y,null,!0)}else if(x==="edit"){var b=s.obj.getNode(i);s.obj.editUI.show(b.id)}else x==="details"?(b=s.obj.getNode(i),s.obj.editUI.show(b.id,!0)):x==="remove"?s.obj.removeNode(i,null,!0):x==="svg"?s.obj.exportSVG({filename:"FamilyTree.svg",expandChildren:!1,nodeId:i}):x==="pdf"?s.obj.exportPDF({filename:"FamilyTree.pdf",expandChildren:!1,nodeId:i}):x==="png"?s.obj.exportPNG({filename:"FamilyTree.png",expandChildren:!1,nodeId:i}):x==="csv"?s.obj.exportCSV({nodeId:i}):x==="xml"?s.obj.exportXML({nodeId:i}):x==="json"&&s.obj.exportJSON({nodeId:i});else m=o[x].onClick.call(s.obj,i,r);m!=0&&s.hide()})}},e.menuUI.prototype.isVisible=function(){return this.wrapper!=null},e.menuUI.prototype.hide=function(){this.wrapper!=null&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},e.menuUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.circleMenuUI=function(){},e.circleMenuUI.prototype.init=function(t,n){this.obj=t,this.menu=n,this._menu=null,this._buttonsInterval=[],this._linesInterval=[],this._event_id=e._guid()},e.circleMenuUI.prototype.show=function(t,n){this._show(t,n)},e.circleMenuUI.prototype._show=function(t,n){var i=this,r=this.obj.getNode(t),o=e.t(r.templateName,r.min,this.obj.getScale());if(!e.isNEU(o.nodeCircleMenuButton)){var s=this.obj.getSvg(),l=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+t+'"]'),c=this.obj.getNodeElement(t),d=e._getTransform(l),u=e._getTransform(c),f=d[4]+u[4],h=d[5]+u[5],p=l.querySelectorAll("line"),g=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(e.isNEU(g)||g.getAttribute(e.attr.control_node_circle_menu_wrraper_id)!=t){this.hide(),n||(n=this.menu);var v={nodeId:t,menu:n},_=e.events.publish("show",[this,v]);if(this._menu=n,_===!1)return!1;for(var w=0,m=Object.keys(v.menu).length,x=2*o.nodeCircleMenuButton.radius+4,y=2*Math.PI*x,b=y/m-(2*o.nodeCircleMenuButton.radius+2);b<0;)x+=8,b=(y=2*Math.PI*x)/m-(2*o.nodeCircleMenuButton.radius+2);for(var C in(g=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute(e.attr.control_node_circle_menu_wrraper_id,t),g.setAttribute("transform","matrix(1,0,0,1,"+f+","+h+")"),s.appendChild(g),v.menu){var E=v.menu[C].icon,N=v.menu[C].color,L=v.menu[C].text;typeof E=="function"&&(E=E()),typeof N=="function"&&(N=N()),typeof L=="function"&&(L=L());var O=document.createElementNS("http://www.w3.org/2000/svg","g");O.setAttribute("transform","matrix(1,0,0,1,0,0)"),O.setAttribute(e.attr.control_node_circle_menu_name,C),O.style.cursor="pointer";var X=document.createElementNS("http://www.w3.org/2000/svg","title");e.isNEU(L)||(X.innerHTML=L);var T=document.createElementNS("http://www.w3.org/2000/svg","circle");T.setAttribute("cx",0),T.setAttribute("cy",0),T.setAttribute("r",o.nodeCircleMenuButton.radius),T.setAttribute("fill",N),T.setAttribute("stroke-width","1"),T.setAttribute("stroke",o.nodeCircleMenuButton.stroke),O.appendChild(T),O.appendChild(X),O.innerHTML+=E,g.appendChild(O);var $=O.getElementsByTagName("svg")[0];if($.setAttribute("pointer-events","none"),$){var G=parseInt($.getAttribute("width")),te=parseInt($.getAttribute("height"));$.setAttribute("x",-G/2),$.setAttribute("y",-te/2)}var K=w*Math.PI/(m/2);w++;var H=Math.cos(K)*x,F=Math.sin(K)*x;this._buttonsInterval.push(e.animate(O,{transform:[1,0,0,1,0,0]},{transform:[1,0,0,1,H,F]},250,e.anim.outBack,function(W){var ie=W[0].getAttribute(e.attr.control_node_circle_menu_name),Z=W[0].parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id);W[0].addEventListener("mouseenter",function(re){e.events.publish("mouseenter",[i,{from:Z,menuItem:v.menu[ie],menuItemName:ie,event:re}])}),W[0].addEventListener("mouseout",function(re){e.events.publish("mouseout",[i,{from:Z,menuItem:v.menu[ie],menuItemName:ie,event:re}])})}))}this._linesInterval.push(e.animate(p[0],{x1:-o.nodeCircleMenuButton.radius/2,y1:-6,x2:o.nodeCircleMenuButton.radius/2,y2:-6},{x1:-7,y1:-7,x2:7,y2:7},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(p[1],{x1:-o.nodeCircleMenuButton.radius/2,y1:0,x2:o.nodeCircleMenuButton.radius/2,y2:0},{x1:0,y1:0,x2:0,y2:0},500,e.anim.inOutSin)),this._linesInterval.push(e.animate(p[2],{x1:-o.nodeCircleMenuButton.radius/2,y1:6,x2:o.nodeCircleMenuButton.radius/2,y2:6},{x1:-7,y1:7,x2:7,y2:-7},500,e.anim.inOutSin))}else this.hide()}},e.circleMenuUI.prototype.hide=function(){for(var t=this._buttonsInterval.length-1;t>=0;t--)clearInterval(this._buttonsInterval[t]),this._buttonsInterval.splice(t,1);for(this._buttonsInterval=[],t=this._linesInterval.length-1;t>=0;t--)clearInterval(this._linesInterval[t]),this._linesInterval.splice(t,1);this._linesInterval=[];var n=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_wrraper_id+"]");if(n!=null){var i=n.getAttribute(e.attr.control_node_circle_menu_wrraper_id),r=this.obj.getNode(i),o=e.t(r.templateName,r.min,this.obj.getScale()),s=this.obj.element.querySelector("["+e.attr.control_node_circle_menu_id+'="'+i+'"]').querySelectorAll("line");s[0].setAttribute("x1",-o.nodeCircleMenuButton.radius/2),s[0].setAttribute("x2",o.nodeCircleMenuButton.radius/2),s[0].setAttribute("y1",-6),s[0].setAttribute("y2",-6),s[1].setAttribute("x1",-o.nodeCircleMenuButton.radius/2),s[1].setAttribute("x2",o.nodeCircleMenuButton.radius/2),s[1].setAttribute("y1",0),s[1].setAttribute("y2",0),s[2].setAttribute("x1",-o.nodeCircleMenuButton.radius/2),s[2].setAttribute("x2",o.nodeCircleMenuButton.radius/2),s[2].setAttribute("y1",6),s[2].setAttribute("y2",6),n.parentElement.removeChild(n),n=null}},e.circleMenuUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e===void 0&&(e={}),e.idb={version:1,dbName:"BALKAN",tableName:"familytree-js",keyPath:"id"},e.idb.db=null,e.idb._open=function(t){if(e._browser().msie)t&&t(!1);else if((navigator.userAgent.toLowerCase().indexOf("safari")>0||navigator.userAgent.toLowerCase().indexOf("firefox")>0)&&window.location!==window.parent.location)t&&t(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(t&&t(!1));if(e.idb.db==null){var n=indexedDB.open(e.idb.dbName,e.idb.version);n.onerror=function(i){console.error("Cannot open database!"),t&&t(!1)},n.onsuccess=function(i){e.idb.db=i.target.result,t&&t(!0)},n.onupgradeneeded=function(i){var r=i.target.result;r.objectStoreNames.contains(e.idb.tableName)&&r.deleteObjectStore(e.idb.tableName),r.createObjectStore(e.idb.tableName,{keyPath:e.idb.keyPath})}}else t&&t(!0)}},e.idb.read=function(t,n){e.idb._open(function(i){if(i){var r=e.idb.db.transaction([e.idb.tableName]).objectStore(e.idb.tableName).get(t);r.onerror=function(o){console.error("Unable to retrieve data from database!"),n&&n(!1)},r.onsuccess=function(o){r.result?n&&n(!0,r.result):n&&n(null)}}else n&&n(!1)})},e.idb.write=function(t,n){e.idb.read(t.id,function(i){if(i==null){var r=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).add(t);r.onerror=function(o){console.error("Unable to add data to database!"),n&&n(!1)},r.onsuccess=function(o){n&&n(!0)}}else n&&n(i)})},e.idb.put=function(t,n){e.idb._open(function(i){if(i){var r=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).put(t);r.onerror=function(o){console.error("Unable to put data to database!"),n&&n(!1)},r.onsuccess=function(o){n&&n(!0)}}else n&&n(!1)})},e.idb.delete=function(t,n){e.idb._open(function(i){if(i){var r=e.idb.db.transaction([e.idb.tableName],"readwrite").objectStore(e.idb.tableName).delete(t);r.onerror=function(o){console.error("Unable to retrieve data from database!"),n&&n(!1)},r.onsuccess=function(o){r.error?n&&n(!1):n&&n(!0)}}else n&&n(!1)})},e.toolbarUI=function(){},e.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',e.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',e.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',e.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',e.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',e.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',e.toolbarUI.layoutIcon="<svg "+e.attr.tlbr+'="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',e.toolbarUI.prototype.init=function(t,n){if(n){this.obj=t,this.toolbar=n,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("bft-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding-10+"px",bottom:this.obj.config.padding-10+"px"}),n.expandAll&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="expand">'+e.toolbarUI.expandAllIcon+"</div>"),n.fit&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fit">'+e.toolbarUI.fitIcon+"</div>"),n.zoom&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="plus">'+e.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+="<div "+e.attr.tlbr+'="minus">'+e.toolbarUI.zoomOutIcon+"</div>"),n.layout&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="layout">'+e.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.classList.add("bft-toolbar-layout"),this.layouts.innerHTML=`<svg data-layout="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg>
            <svg data-layout="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg>
            <svg data-layout="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="73" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line></svg>
            <svg data-layout="grid" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="39" y2="39" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="71" y2="71" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="71" y2="73" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="39" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="39" y2="41" stroke-width="1"></line></svg>`,this.obj.element.appendChild(this.layouts)),n.fullScreen&&(this.div.innerHTML+="<div "+e.attr.tlbr+'="fullScreen">'+e.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector("["+e.attr.tlbr+'="layout"]');var i=this.div.querySelector("["+e.attr.tlbr+'="plus"]'),r=this.div.querySelector("["+e.attr.tlbr+'="minus"]'),o=this.div.querySelector("["+e.attr.tlbr+'="fit"]'),s=this.div.querySelector("["+e.attr.tlbr+'="fullScreen"]'),l=this.div.querySelector("["+e.attr.tlbr+'="expand"]'),c=this;i&&i.addEventListener("click",function(){c.obj.zoom(!0,null,!0)}),r&&r.addEventListener("click",function(){c.obj.zoom(!1,null,!0)}),o&&o.addEventListener("click",function(){c.obj.fit()}),s&&s.addEventListener("click",function(){c.obj.toggleFullScreen()}),l&&l.addEventListener("click",function(){c.obj.expand(null,"all")}),this.layoutBtn&&this.layoutBtn.addEventListener("click",function(){c._visible?c.hideLayout():c.showLayout()}),this.layouts&&this.layouts.addEventListener("click",function(d){for(var u=d.target;u;){if(u.hasAttribute&&u.hasAttribute(e.attr.layout)){u=u.getAttribute(e.attr.layout),c.obj.setLayout(e.layout[u]);break}u=u.parentNode}})}},e.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding-10},{bottom:this.obj.config.padding+135},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},e.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",e.animate(this.div,{bottom:this.obj.config.padding+135},{bottom:this.obj.config.padding-10},this.obj.config.anim.duration,this.obj.config.anim.func),e.animate(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},e.notifierUI=function(){},e.notifierUI.prototype.init=function(t){this.obj=t},e.notifierUI.prototype.show=function(t,n){if(t==null)return!1;t==1&&(t=e.MAX_NODES_MESS,n="#FFCA28"),t==2&&(t=e.OFFLINE_MESS,n="#FFCA28");var i=document.createElement("div");i.innerHTML=t,Object.assign(i.style,{position:"absolute","background-color":n,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(i);var r=this.obj.width()/2-i.offsetWidth/2,o=this.obj.height()/2-i.offsetHeight/2;i.style.left=r+"px",i.style.top=o+"px";var s=i.offsetWidth;return i.style.width="20px",e.animate(i,{opacity:0,width:10},{opacity:1,width:s},this.obj.config.anim.duration,this.obj.config.anim.func),!0},e===void 0&&(e={}),e._validateConfig=function(t){return!!t||(console.error("config is not defined"),!1)},e._arrayContains=function(t,n){if(t&&Array.isArray(t)){for(var i=t.length;i--;)if(t[i]===n)return!0}return!1},e._interceptions=function(t,n){if(!t)return[];if(!n)return[];var i=[];if(Array.isArray(t)&&Array.isArray(n))for(var r in t)for(var o in n)t[r]==n[o]&&i.push(t[r]);else if(Array.isArray(t)&&!Array.isArray(n))for(var r in t)for(var o in n)t[r]==o&&i.push(t[r]);else if(!Array.isArray(t)&&Array.isArray(n))for(var r in t)for(var o in n)r==n[o]&&i.push(n[o]);return i},e._getTags=function(t){return t.tags&&!Array.isArray(t.tags)?t.tags.split(","):t.tags&&Array.isArray(t.tags)?t.tags:[]},e._centerPointInPercent=function(t,n,i){var r=t.getBoundingClientRect(),o=n-r.left,s=i-r.top;return[o/(r.width/100),s/(r.height/100)]},e._trim=function(t){return t.replace(/^\s+|\s+$/g,"")},e._getTransform=function(t){var n=t.getAttribute("transform");return n=n.replace("matrix","").replace("(","").replace(")",""),e._browser().msie&&(n=n.replace(/ /g,",")),n="["+(n=e._trim(n))+"]",n=JSON.parse(n)},e.getScale=function(t,n,i,r,o,s,l,c){var d=1;if(t||r!==e.match.boundary)if(t||r!==e.match.width)if(t||r!==e.match.height)if(t){var u,f;d=(u=n/t[2])>(f=i/t[3])?f:u}else d=r;else d=i/c;else d=n/l;else d=(u=n/l)>(f=i/c)?f:u;return d&&d>o&&(d=o),d&&d<s&&(d=s),d},e.isObject=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&t!==null},e.fileUploadDialog=function(t){var n=document.createElement("INPUT");n.setAttribute("type","file"),n.style.display="none",n.onchange=function(){var i=this.files[0];t(i)},document.body.appendChild(n),n.click()},e.mergeDeep=function(t,n){if(e.isObject(t)&&e.isObject(n))for(var i in n)e.isObject(n[i])?(t[i]||Object.assign(t,{[i]:{}}),e.mergeDeep(t[i],n[i])):Object.assign(t,{[i]:n[i]});return t},e._lblIsImg=function(t,n){return!(!t.nodeBinding||typeof n!="string"||n.indexOf("img")==-1||!t.nodeBinding[n])},e._getFistImgField=function(t){if(t.nodeBinding){for(var n in t.nodeBinding)if(n.indexOf("img")!=-1)return t.nodeBinding[n]}return!1},e._fieldIsImg=function(t,n){if(t.nodeBinding){for(var i in t.nodeBinding)if(t.nodeBinding[i]==n)return e._lblIsImg(t,i)}return!1},e._guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.htmlRipple=function(t){var n=document.createElement("style");n.type="text/css",n.innerHTML=" .bft-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bft-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bft-ripple 1000ms; }@-moz-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bft-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(n);var i,r,o,s=document.createElement("div");s.className="bft-ripple-container",t.addEventListener("mousedown",function(l){var c,d,u,f,h;return d=document.createElement("span"),u=this.offsetWidth,c=this.getBoundingClientRect(),h=l.pageX-c.left-u/2,f="top:"+(l.pageY-c.top-u/2)+"px; left: "+h+"px; height: "+u+"px; width: "+u+"px;",t.rippleContainer.appendChild(d),d.setAttribute("style",f)}),t.addEventListener("mouseup",(i=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},r=2e3,o=void 0,function(){var l,c;return c=this,l=arguments,clearTimeout(o),o=setTimeout(function(){return i.apply(c,l)},r)})),t.rippleContainer=s,t.appendChild(s)},e._moveToBoundaryArea=function(t,n,i,r){var o=n.slice(0);n[0]<i.left&&n[0]<i.right&&(o[0]=i.left>i.right?i.right:i.left),n[0]>i.right&&n[0]>i.left&&(o[0]=i.left>i.right?i.left:i.right),n[1]<i.top&&n[1]<i.bottom&&(o[1]=i.top>i.bottom?i.bottom:i.top),n[1]>i.bottom&&n[1]>i.top&&(o[1]=i.top>i.bottom?i.top:i.bottom),n[0]!==o[0]||n[1]!==o[1]?e.animate(t,{viewBox:n},{viewBox:o},300,e.anim.outPow,function(){r&&r()}):r&&r()},e.randomId=function(){return"_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},e._getClientXY=function(t){return t.type.indexOf("touch")==-1?{x:t.clientX,y:t.clientY}:t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:void 0},e._getClientTouchesXY=function(t,n){return t.type.indexOf("touch")!=-1?t.touches.length<n+1?{x:null,y:null}:{x:t.touches[n].clientX,y:t.touches[n].clientY}:{x:t.clientX,y:t.clientY}},e._getOffset=function(t,n){t&&(n.x+=t.offsetLeft,n.y+=t.offsetTop,e._getOffset(t.offsetParent,n))},e._getTopLeft=function(t){var n={x:0,y:0};return e._getOffset(t,n),n},e._getOffsetXY=function(t,n){if(n.type.indexOf("touch")==-1)return{x:n.offsetX,y:n.offsetY};if(n.touches.length){var i=e._getTopLeft(t);return{x:n.touches[0].pageX-i.x,y:n.touches[0].pageY-i.y}}if(n.changedTouches.length)return i=e._getTopLeft(t),isNaN(i.x)||isNaN(i.y)?{x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY}:{x:n.changedTouches[0].pageX-i.x,y:n.changedTouches[0].pageY-i.y}},e._pinchMiddlePointInPercent=function(t,n,i,r){var o=e._getTopLeft(t),s=r.touches[0].pageX-o.x,l=r.touches[0].pageY-o.y,c=r.touches[1].pageX-o.x,d=r.touches[1].pageY-o.y;return[((s-c)/2+c)/(n/100),((l-d)/2+d)/(i/100)]},e._browser=function(){var t=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,n=typeof InstallTrigger<"u",i=/constructor/i.test(window.HTMLElement)||(!window.safari||window.safari!==void 0&&safari.pushNotification).toString()==="[object SafariRemoteNotification]",r=!!document.documentMode,o=!r&&!!window.StyleMedia,s=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:t,firefox:n,safari:i,msie:r,edge:o,chrome:s,blink:(s||t)&&!!window.CSS}},e._menuPosition=function(t,n,i){var r=t.getBoundingClientRect(),o=i.getBoundingClientRect(),s=n.getBoundingClientRect(),l=r.left-o.left,c=r.top-o.top;return r.top+s.height>o.top+o.height&&(c-=s.height),r.left-s.width<o.left&&(l+=s.width),{x:l,y:c}},e._getTemplate=function(t,n,i){if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=n[t[r]];if(o&&o.template)return o.template}return i},e._getMin=function(t,n){if(t.tags&&t.tags.length&&n.tags)for(var i=0;i<t.tags.length;i++){var r=n.tags[t.tags[i]];if(r&&r.min===!0)return!0}return n.min},e._getSubLevels=function(t,n){if(t&&t.length)for(var i=0;i<t.length;i++){var r=n[t[i]];if(r&&r.subLevels)return r.subLevels}return 0},e._isHTML=function(t){var n=new DOMParser().parseFromString(t,"text/html");return Array.from(n.body.childNodes).some(i=>i.nodeType===1)},e._getTestDiv=function(){var t=document.getElementById("orgfamily_js_test_div");return t||((t=document.createElement("div")).id="orgfamily_js_test_div",t.style.position="fixed",t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t)),t},e._getLabelSize=function(t){var n=e._getTestDiv();return n.innerHTML="<svg>"+t+"</svg>",n.querySelector("text").getBoundingClientRect()},e.wrapText=function(t,n){var i=n.toLowerCase();if(i.indexOf("<text")==-1||i.indexOf(e.attr.width)==-1||i.indexOf("foreignobject")!=-1||n.indexOf(e.attr.width)==-1||e.ESCAPE_HTML&&typeof str=="string"&&e._isHTML(t))return e._escapeHtml(t);if(!e.ESCAPE_HTML&&e._isHTML(t))return t;var r=e._getTestDiv();n=n.replaceAll("{cw}",0),r.innerHTML="<svg>"+n+"</svg>";var o,s,l=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("text")[0],c=parseFloat(l.getAttribute("x")),d=parseFloat(l.getAttribute("y")),u=l.getAttribute("text-anchor"),f=l.getAttribute(e.attr.width),h=l.getAttribute(e.attr.text_overflow),p="http://www.w3.org/2000/svg",g=r.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];h||(h="ellipsis");var v=h.split("-");if(v.length>1&&(o=parseInt(h.split("-")[1]),v.length>2&&v[2]=="ellipsis"&&(s=!0)),!f)return e._escapeHtml(t);if(f=parseFloat(f),c||(c=0),d||(d=0),c||(u="start"),h=="ellipsis"){g.removeChild(g.firstChild),g.textContent=t;for(var _=g.getComputedTextLength(),w=2;_>f;)g.textContent=t.substring(0,t.length-w),g.textContent+="...",_=g.getComputedTextLength(),w++;return w>2?`<title>${e._escapeHtml(t)}</title>${g.textContent}`:e._escapeHtml(t)}if(h.indexOf("multiline")!=-1){var m=t.split(" "),x=g.getBBox().height;g.textContent="";var y=document.createElementNS(p,"tspan"),b=document.createTextNode(m[0]);y.setAttributeNS(null,"x",c),y.setAttributeNS(null,"y",d),y.setAttributeNS(null,"text-anchor",u),y.appendChild(b),g.appendChild(y),w=1;for(var C=1,E=!1,N=1;N<m.length;N++){var L=y.firstChild.data.length;if(y.firstChild.data+=" "+m[N],y.getComputedTextLength()>f){if(y.firstChild.data=y.firstChild.data.slice(0,L),C++,o&&C>o){if(s&&g.children.length==o){var O=g.children[o-1].textContent;g.children[o-1].textContent=O.substring(0,O.length-3)+"...",E=!0}break}(y=document.createElementNS(p,"tspan")).setAttributeNS(null,"x",c),y.setAttributeNS(null,"y",d+x*w),y.setAttributeNS(null,"text-anchor",u),b=document.createTextNode(m[N]),y.appendChild(b),g.appendChild(y),w++}}var X="";if(g.innerHTML!=null)X=g.innerHTML,g.innerHTML="";else{var T="";for(N=g.childNodes.length-1;N>=0;N--)T=XMLSerializer().serializeToString(g.childNodes[N])+T,g.removeChild(g.childNodes[N]);X=T}return E?`<title>${e._escapeHtml(t)}</title>${X}`:X}},e._downloadFile=function(t,n,i,r,o){var s=new Blob([n],{type:t});if(r==1){var l=URL.createObjectURL(s);window.open(l,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(s,i);else{var c=document.createElement("a");if(c.download!==void 0){l=URL.createObjectURL(s),c.setAttribute("href",l);var d=i;d.toLowerCase().endsWith(o.toLowerCase())||(d=d+"."+o),c.setAttribute("download",d),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}},e._getPosition=function(t,n,i,r){var o={x:n.x,y:n.y};if(i!=null&&(o.x=i),r!=null&&(o.y=i),t&&t.length==3){var s=t[0].indexOf(n.id);s!=-1&&t[1][s].transform!=null&&(i==null&&(o.x=t[1][s].transform[4]),r==null&&(o.y=t[1][s].transform[5]))}return o},e._getOpacity=function(t,n){var i=1;if(t&&t.length==3){var r=t[0].indexOf(n.id);r!=-1&&t[1][r].opacity!=null&&(i=t[1][r].opacity)}return i},e.t=function(t,n,i){var r=e.templates[t];r==null&&console.error(`Template "${t}" does not exist!`);var o=null;if(i!=null&&r.scaleLessThen){var s=[];for(var l in r.scaleLessThen){var c=parseFloat(l);i<c&&s.push(c)}if(s.length>0){s.sort(function(f,h){return f-h});var d=r.scaleLessThen[s[0]];for(var u in d)o==null&&(o=Object.assign({},r)),o[u]=d[u]}}return n?o==null?r.min?r.min:r:o.min?o.min:o:o??r},e.setNodeSize=function(t){var n=e.t(t.templateName,t.min);t.w=n&&n.size?n.size[0]:0,t.h=n&&n.size?n.size[1]:0},e._imgs2base64=function(t,n,i,r){var o=t.getElementsByTagName(n),s=o.length;s==0&&r();for(var l=0;l<s;l++)(function(){var c=l,d=o[c];e._getDataUri(d.getAttribute(i),function(u){u.success&&d.setAttribute(i,u.result),c==s-1&&r()})})()},e._getDataUri=function(t,n){if(t.indexOf("base64")!=-1)n({success:!1});else{var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){i.status===200?r.readAsDataURL(i.response):i.status===404&&n({success:!1,result:i.status})};var r=new FileReader;r.onloadend=function(){n({success:!0,result:r.result})},i.send()}},e._convertStringToArray=function(t,n){return e.ARRAY_FIELDS.indexOf(t)!=-1?e.isNEU(n)?[]:n.split(","):n},e._convertArrayToString=function(t){return!e.isNEU(t)&&Array.isArray(t)?t.join():t},e._csvToArray=function(t,n){n=n||e.CSV_DELIMITER;for(var i=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),r=[[]],o=null;o=i.exec(t);){var s,l=o[1];l.length&&l!==n&&r.push([]),s=o[2]?o[2].replace(new RegExp('""',"g"),'"'):o[3],r[r.length-1].push(s)}return r},e._json2xml=function(t){for(var n=document.implementation.createDocument("","",null),i=n.createElement("nodes"),r=0;r<t.length;r++){var o=n.createElement("node"),s=t[r];for(var l in s){var c=s[l];o.setAttribute(l,e._convertArrayToString(c))}i.appendChild(o)}return n.appendChild(i),'<?xml version="1.0" encoding="utf-8" ?>'+new XMLSerializer().serializeToString(n.documentElement)},e._xml2json=function(t){for(var n=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("node"),i=[],r=0;r<n.length;r++){for(var o=n[r],s={},l=0;l<o.attributes.length;l++){var c=o.attributes[l];s[c.name]=e._convertStringToArray(c.name,c.value)}i.push(s)}return i},e.convertNodesToCsv=function(t){return e._json2csv(t)},e._json2csv=function(t){for(var n=[],i=function(l){for(var c="",d=0;d<n.length;d++){var u;(u=n[d]=="reportsTo"?null:l[n[d]]==null?"":l[n[d]])instanceof Date&&(u=u.toLocaleString());var f=(u=u===null?"":u.toString()).replace(/"/g,'""'),h=new RegExp(`("|;|
)`,"g");f.search(h)>=0&&(f='"'+f+'"'),d>0&&(c+=e.CSV_DELIMITER),c+=f}return c+`
`},r="",o=0;o<t.length;o++)for(var s in t[o])e._arrayContains(n,s)||(n.push(s),r+=s+e.CSV_DELIMITER);for(r=r.substring(0,r.length-1),r+=`
`,o=0;o<t.length;o++)r+=i(t[o]);return r=r.substring(0,r.length-1)},e.accentFold=function(t){return(t=t.toString().toLowerCase()).replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g,function(n,i,r,o,s,l,c,d,u,f,h){return i?"a":r?"c":o?"e":s?"i":l?"n":c?"o":d?"s":u?"u":f?"y":h?"ae":void 0})},e.copy=function(t){if(t===null||typeof t!="object"||"isActiveClone"in t)return t;if(t instanceof Date)var n=new t.constructor;else n=t.constructor();for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t.isActiveClone=null,n[i]=e.copy(t[i]),delete t.isActiveClone);return n},e._getScrollSensitivity=function(){var t=e._browser();return t.msie&&e.scroll.ie?e.scroll.ie:t.edge&&e.scroll.edge?e.scroll.edge:t.safari&&e.scroll.safari?e.scroll.safari:t.chrome&&e.scroll.chrome?e.scroll.chrome:t.firefox&&e.scroll.firefox?e.scroll.firefox:t.opera&&e.scroll.opera?e.scroll.opera:{smooth:e.scroll.smooth,speed:e.scroll.speed}},e.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.isTrial=function(){return e.remote!==void 0},e.childrenCount=function(t,n){for(var i=0,r=0;r<n.childrenIds.length;r++)t.nodes[n.childrenIds[r]]&&i++;return i},e.childrenTotalCount=function(t,n){for(var i=0,r=0;r<n.childrenIds.length;r++){var o=t.nodes[n.childrenIds[r]];o&&(i++,i+=e.childrenTotalCount(t,o))}return i},e.collapsedChildrenCount=function(t,n){for(var i=0,r=0;r<n.childrenIds.length;r++){var o=t.nodes[n.childrenIds[r]];o&&o.collapsed===!0&&i++}return i},e.collapsedChildrenTotalCount=function(t,n,i){for(var r=0,o=0;o<n.childrenIds.length;o++){var s=t.nodes[n.childrenIds[o]];s&&((i||s.collapsed===!0)&&r++,r+=e.collapsedChildrenTotalCount(t,s,!0))}return r},e._setMinMaxXY=function(t,n){(n.minX==null||t.x!=null&&t.x<n.minX)&&(n.minX=t.x),(n.minY==null||t.y!=null&&t.y<n.minY)&&(n.minY=t.y),(n.maxX==null||t.x!=null&&t.x+t.w>n.maxX)&&(n.maxX=t.x+t.w),(n.maxY==null||t.y!=null&&t.y+t.h>n.maxY)&&(n.maxY=t.y+t.h)},e.getStParentNodes=function(t,n){for(n||(n=[]);t.parent;)t=t.parent;return t.stParent&&(n.push(t.stParent),e.getStParentNodes(t.stParent,n)),n},e.getRootOf=function(t){for(;t&&t.parent;)t=t.parent;return t},e._getViewBox=function(t){var n=null;return t?(n=(n="["+(n=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),n=JSON.parse(n)):null},e.isNEU=function(t){return t==null||t===""},e.gradientCircleForDefs=function(t,n,i,r){function o(l,c,d,u){var f=(u-90)*Math.PI/180;return{x:l+d*Math.cos(f),y:c+d*Math.sin(f)}}function s(l,c,d,u,f){var h=o(l,c,d,f),p=o(l,c,d,u),g=f-u<=180?"0":"1";return["M",h.x,h.y,"A",d,d,0,g,0,p.x,p.y].join(" ")}return Array.isArray(n)||(n=[n,n,n,n,n,n]),`<linearGradient id="${t}_linearColors1" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="${n[0]}"></stop>
            <stop offset="100%" stop-color="${n[1]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">
            <stop offset="0%" stop-color="${n[1]}"></stop>
            <stop offset="100%" stop-color="${n[2]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors3" x1="1" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="${n[2]}"></stop>
            <stop offset="100%" stop-color="${n[3]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors4" x1="1" y1="1" x2="0" y2="0">
            <stop offset="0%" stop-color="${n[3]}"></stop>
            <stop offset="100%" stop-color="${n[4]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">
            <stop offset="0%" stop-color="${n[4]}"></stop>
            <stop offset="100%" stop-color="${n[5]}"></stop>
        </linearGradient>
        <linearGradient id="${t}_linearColors6" x1="0" y1="1" x2="1" y2="0">
            <stop offset="0%" stop-color="${n[5]}"></stop>
            <stop offset="100%" stop-color="${n[0]}"></stop>
        </linearGradient>        
        <g id="${t}">
            <path stroke-width="${r}" fill="none" stroke="url(#${t}_linearColors1)" d="${s(i,i,i,1,60)}"  />
            <path stroke-width="${r}" fill="none" stroke="url(#${t}_linearColors2)" d="${s(i,i,i,60,120)}"/>
            <path stroke-width="${r}" fill="none" stroke="url(#${t}_linearColors3)" d="${s(i,i,i,120,180)}" />
            <path stroke-width="${r}" fill="none" stroke="url(#${t}_linearColors4)" d="${s(i,i,i,180,240)}" />
            <path stroke-width="${r}" fill="none" stroke="url(#${t}_linearColors5)" d="${s(i,i,i,240,300)}" />
            <path stroke-width="${r}" fill="none" stroke="url(#${t}_linearColors6)" d="${s(i,i,i,300,1)}"/>
        </g>`},e._intersectionObserver=function(t,n){typeof IntersectionObserver=="function"?new IntersectionObserver(function(i,r){i.forEach(function(o){var s=o.intersectionRatio>0;o.intersectionRatio==0&&(s=o.isIntersecting),n(s)})}).observe(t):n(!0)},e.convertCsvToNodes=function(t){for(var n=e._csvToArray(t),i=n[0],r=[],o=1;o<n.length;o++){for(var s={},l=0;l<n[o].length;l++){var c=i[l],d=n[o][l];s[i[l]]=e._convertStringToArray(c,d)}s.id.trim()!=""&&r.push(s)}return r},e._escapeHtml=function(t){return e.ESCAPE_HTML&&typeof t=="string"?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t},e._escapeDoubleQuotes=function(t){return typeof t=="string"?t.replace(/"/g,"&quot;"):t},e._escapeGreaterLessSign=function(t){return typeof t=="string"?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.roundPathCorners=function(t,n,i){function r(N,L,O){var X=L.x-N.x,T=L.y-N.y,$=Math.sqrt(X*X+T*T);return o(N,L,Math.min(1,O/$))}function o(N,L,O){return{x:N.x+(L.x-N.x)*O,y:N.y+(L.y-N.y)*O}}function s(N,L){N.length>2&&(N[N.length-2]=L.x,N[N.length-1]=L.y)}function l(N){return{x:parseFloat(N[N.length-2]),y:parseFloat(N[N.length-1])}}Array.isArray(t)||(t=(t=t.split(/[,\s]/).reduce(function(N,L){var O=L.match("([a-zA-Z])(.+)");return O?(N.push(O[1]),N.push(O[2])):N.push(L),N},[])).reduce(function(N,L){return parseFloat(L)==L&&N.length?N[N.length-1].push(L):N.push([L]),N},[]));var c=[];if(t.length>1){var d=l(t[0]),u=null;t[t.length-1][0]=="Z"&&t[0].length>2&&(u=["L",d.x,d.y],t[t.length-1]=u),c.push(t[0]);for(var f=1;f<t.length;f++){var h=c[c.length-1],p=t[f],g=p==u?t[1]:t[f+1];if(g&&h&&h.length>2&&p[0]=="L"&&g.length>2&&g[0]=="L"){var v,_,w=l(h),m=l(p),x=l(g);i?(v=o(m,h.origPoint||w,n),_=o(m,g.origPoint||x,n)):(v=r(m,w,n),_=r(m,x,n)),s(p,v),p.origPoint=m,c.push(p);var y=o(v,m,.5),b=o(m,_,.5),C=["C",y.x,y.y,b.x,b.y,_.x,_.y];C.origPoint=m,c.push(C)}else c.push(p)}if(u){var E=l(c[c.length-1]);c.push(["Z"]),s(c[0],E)}}else c=t;return c.reduce(function(N,L){return N+L.join(" ")+" "},"")},e._isMoved=function(t){return t.movex!=null||t.movey!=null},e._getDynamicGridCoulumns=function(t){for(var n=1;n<t&&!(t/n-n<=0);n++);return n%2!=0&&n>2&&n--,n},e._changeRootOption=function(t,n,i){for(var r=[],o=0;o<n.length;o++)for(var s=0;s<i.length;s++)if(i[s].has(n[o])){r=i[s];break}for(o=0;o<r.length;o++){var l=t.indexOf(r[o]);l!=-1&&t.splice(l,1)}n.length&&t.push(n[0])},e._convertStringToArrayOnImport=function(t,n){return t=="tags"||t=="pids"?e.isNEU(n)?[]:n.split(","):n},e.isObject=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&t!==null&&t.constructor&&t.constructor.name.toLowerCase()=="object"},e===void 0&&(e={}),e.icon={},e.icon.png=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},e.icon.pdf=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+i+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},e.icon.svg=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},e.icon.csv=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 548.29 548.291" ><path fill="'+i+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},e.icon.json=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 32 32" ><polygon fill="'+i+'"  points="31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11"/><path fill="'+i+'"  d="M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z"/><path fill="'+i+'"  d="M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z"/><path fill="'+i+'"  d="M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z"/><rect fill="'+i+'"  id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/></svg>'},e.icon.excel=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+i+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+i+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+i+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+i+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+i+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+i+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+i+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+i+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+i+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},e.icon.edit=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 528.899 528.899"><path fill="'+i+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},e.icon.details=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+i+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+i+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+i+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+i+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},e.icon.remove=function(t,n,i){return'<svg width="'+t+'" height="'+n+'"  viewBox="0 0 900.5 900.5"><path fill="'+i+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+i+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},e.icon.add=function(t,n,i){return'<svg width="'+t+'" height="'+n+'"   viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},e.icon.search=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+i+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+i+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+i+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},e.icon.xml=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},e.icon.link=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512.092 512.092"  ><path fill="'+i+'" d="M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z" /><path fill="'+i+'" d="M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z" /></svg>'},e.icon.happy=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+i+'" d="M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z"/><path fill="'+i+'" d="M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z"/><path fill="'+i+'" d="M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z"/></svg>'},e.icon.sad=function(t,n,i){return'<svg width="'+t+'" height="'+n+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+i+'" d="M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z"/><path fill="'+i+'" d="M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z "/><path fill="'+i+'" d="M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z"/></svg>'},e.icon.share=function(t,n,i,r,o){return r==null&&(r=0),o==null&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512 512">
                <path fill="${i}" d="M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124
                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90
                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59
                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806
                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90
                    C496,372.371,455.629,332,406,332z"/>
                </svg>`},e.icon.user=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 24 24">
                <path fill="${i}" d="M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z" fill="#030D45"/>
                <path fill="${i}" d="M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z" fill="#030D45"/>
            </svg>`},e.icon.close=function(t,n,i,r,o){return r==null&&(r=0),o==null&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512 512">
    <path fill="${i}" d="m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z"/>
    </svg>`},e.icon.undo=function(t,n,i,r,o){return r==null&&(r=0),o==null&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 24 24">
    <path fill-rule="evenodd" clip-rule="evenodd" fill="${i}" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM9.25871 7.97395C9.56308 7.693 9.58205 7.21851 9.3011 6.91414C9.02015 6.60978 8.54565 6.5908 8.24129 6.87175L5.99129 8.94867C5.83748 9.09065 5.75 9.29045 5.75 9.49977C5.75 9.7091 5.83748 9.9089 5.99129 10.0509L8.24129 12.1278C8.54565 12.4088 9.02015 12.3898 9.3011 12.0854C9.58205 11.781 9.56308 11.3065 9.25871 11.0256L8.41824 10.2498H14.0385C14.7376 10.2498 15.2069 10.2506 15.5652 10.2862C15.9116 10.3205 16.0724 10.3813 16.1787 10.4501C16.3272 10.5461 16.4537 10.6726 16.5497 10.8211C16.6184 10.9274 16.6793 11.0882 16.7136 11.4345C16.7491 11.7929 16.75 12.2622 16.75 12.9613C16.75 13.6604 16.7491 14.1298 16.7136 14.4881C16.6793 14.8344 16.6185 14.9952 16.5497 15.1015C16.4537 15.2501 16.3272 15.3765 16.1787 15.4726C16.0724 15.5413 15.9116 15.6021 15.5652 15.6365C15.2069 15.672 14.7376 15.6729 14.0385 15.6729H9.5C9.08579 15.6729 8.75 16.0086 8.75 16.4229C8.75 16.8371 9.08579 17.1729 9.5 17.1729H14.0758C14.7279 17.1729 15.2721 17.1729 15.7133 17.1291C16.1748 17.0834 16.6038 16.9839 16.9931 16.7322C17.3199 16.5209 17.5981 16.2427 17.8094 15.916C18.0611 15.5266 18.1605 15.0976 18.2063 14.6361C18.25 14.195 18.25 13.6508 18.25 12.9987V12.924C18.25 12.2718 18.25 11.7276 18.2063 11.2865C18.1605 10.825 18.0611 10.396 17.8093 10.0067C17.5981 9.6799 17.3199 9.40169 16.9931 9.19042C16.6038 8.9387 16.1748 8.83927 15.7133 8.7935C15.2721 8.74975 14.7279 8.74976 14.0758 8.74977L8.41824 8.74977L9.25871 7.97395Z" />
    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>
    </svg>`},e.icon.redo=function(t,n,i,r,o){return r==null&&(r=0),o==null&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 24 24" >
    <path fill="#f9f9f9" fill-rule="evenodd" clip-rule="evenodd" fill="${i}" d="M3.46447 3.46447C2 4.92893 2 7.28595 2 12C2 16.714 2 19.0711 3.46447 20.5355C4.92893 22 7.28595 22 12 22C16.714 22 19.0711 22 20.5355 20.5355C22 19.0711 22 16.7141 22 12C22 7.28598 22 4.92893 20.5355 3.46447C19.0711 2 16.714 2 12 2C7.28595 2 4.92893 2 3.46447 3.46447ZM15.7587 6.87273C15.4543 6.59177 14.9799 6.61075 14.6989 6.91512C14.4179 7.21948 14.4369 7.69398 14.7413 7.97493L15.5818 8.75075H9.96155C7.63558 8.75075 5.75 10.6363 5.75 12.9623C5.75 15.2883 7.63557 17.1738 9.96154 17.1738H14.5C14.9142 17.1738 15.25 16.838 15.25 16.4238C15.25 16.0096 14.9142 15.6738 14.5 15.6738H9.96154C8.464 15.6738 7.25 14.4598 7.25 12.9623C7.25 11.4647 8.464 10.2508 9.96155 10.2508H15.5818L14.7413 11.0266C14.4369 11.3075 14.4179 11.782 14.6989 12.0864C14.9799 12.3908 15.4543 12.4097 15.7587 12.1288L18.0087 10.0519C18.1625 9.90987 18.25 9.71007 18.25 9.50075C18.25 9.29143 18.1625 9.09163 18.0087 8.94965L15.7587 6.87273Z"/>
    <rect style="opacity: 0" x="2" y="2" width="20" height="20"></rect>    
    </svg>`},e.icon.ft=function(t,n,i,r,o){return`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512 512"  >
                <path fill="${i}" d="m336.061 377.731c-5.086-6.54-14.511-7.717-21.049-2.631l-44.012 34.231v-200.331c0-8.284-6.716-15-15-15s-15 6.716-15 15v200.331l-44.011-34.231c-6.538-5.086-15.962-3.908-21.049 2.631-5.086 6.539-3.908 15.963 2.631 21.049l62.429 48.556v49.664c0 8.284 6.716 15 15 15s15-6.716 15-15v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.632-21.049z" />
                <path fill="${i}" d="m271 497v-49.664l62.429-48.556c6.54-5.086 7.717-14.51 2.631-21.049-5.086-6.54-14.511-7.717-21.049-2.631l-44.011 34.231v-200.331c0-8.284-6.716-15-15-15v318c8.284 0 15-6.716 15-15z" />
                <path fill="${i}" d="m320 512h-128c-8.284 0-15-6.716-15-15s6.716-15 15-15h128c8.284 0 15 6.716 15 15s-6.716 15-15 15z" />
                <path fill="${i}" d="m320 482h-64v30h64c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />
                <path fill="${i}" d="m400 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />
                <path fill="${i}" d="m112 439c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />
                <path fill="${i}" d="m256 222c-61.206 0-111-49.794-111-111s49.794-111 111-111 111 49.794 111 111-49.794 111-111 111z" />
                <path fill="${i}" d="m367 111c0-61.206-49.794-111-111-111v222c61.206 0 111-49.794 111-111z" />
            </svg>`},e.icon.addUser=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512 512" >
                <path fill="${i}" d="M300.434,257.599c-25.945,27.304-60.622,43.875-98.602,43.875c-37.979,0-72.656-16.571-98.602-43.875 c-45.617,28.738-77.826,76.818-85.092,132.736c-1.659,12.77,8.291,24.107,21.201,24.107h225.846 c0-53.371,32.011-99.402,77.838-119.914C330.812,280.165,316.452,267.69,300.434,257.599z"/>
                <ellipse fill="${i}" cx="201.828" cy="133.868" rx="112.229" ry="133.868"/>
                <path fill="${i}" d="M396.486,316.885c-53.794,0-97.558,43.764-97.558,97.558S342.693,512,396.486,512c53.792,0,97.557-43.764,97.557-97.558 S450.279,316.885,396.486,316.885z M435.199,431.315h-21.841v21.841c0,9.318-7.554,16.872-16.872,16.872 c-9.318,0-16.872-7.554-16.872-16.872v-21.841h-21.842c-9.318,0-16.872-7.554-16.872-16.872c0-9.319,7.554-16.872,16.872-16.872 h21.842v-21.841c0-9.318,7.554-16.872,16.872-16.872c9.318,0,16.872,7.554,16.872,16.872v21.841h21.841 c9.318,0,16.872,7.554,16.872,16.872C452.072,423.761,444.518,431.315,435.199,431.315z"/>
            </svg>`},e.icon.daughter=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512.879 512.879">
                <path fill="${i}" d="M213.773,238.933c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.872-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C205.239,235.11,209.062,238.933,213.773,238.933z"/>
                <path fill="${i}" d="M256.439,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.568,0.043-11.913 c-3.234-3.354-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.933,322.893,236.412,332.8,256.439,332.8z"/>
                <path fill="${i}" d="M365.666,293.547c-49.826-66.441-75.093-133.623-75.093-199.68c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,68.369,25.31,137.489,75.255,205.542c-12.228,21.623-50.483,76.058-92.322,76.058c-45.218,0-86.255-63.59-94.763-80.614 c-8.388-16.768-24.704-66.765-24.704-98.586v-25.754c20.378-0.572,73.404-3.405,121.813-17.246 c4.531-1.289,7.151-6.016,5.854-10.547c-1.289-4.531-6.008-7.159-10.547-5.854C196.254,153.387,129.114,153.6,128.439,153.6 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,34.935,17.254,87.723,26.496,106.214c0.452,0.905,46.797,90.052,110.037,90.052 s109.585-89.148,110.037-90.052C367.919,299.588,367.603,296.132,365.666,293.547z"/>
                <path fill="${i}" d="M316.173,392.533c-4.71,0-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171 c0,0.051-0.034,0.094-0.034,0.154c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533v8.687c-116.028,1.638-168.917,35.9-178.765,65.417l-8.533,25.6 c-1.493,4.471,0.93,9.301,5.402,10.795C7.172,511.863,8.085,512,8.973,512c3.575,0,6.903-2.261,8.098-5.837l8.533-25.6 c6.076-18.227,48.034-52.335,163.132-53.845c3.106,24.422,19.721,59.682,67.704,59.682c53.999,0,68.267-44.425,68.267-67.917 c0-0.06-0.034-0.111-0.034-0.171c0-0.068,0.034-0.119,0.034-0.179v-17.067C324.706,396.356,320.883,392.533,316.173,392.533z"/>
                <path fill="${i}" d="M256.695,273.067h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.719,0,8.533-3.823,8.533-8.533C265.229,276.89,261.414,273.067,256.695,273.067z"/>
                <path fill="${i}" d="M512.004,501.641l-8.533-25.591c-4.659-13.978-22.34-28.228-49.792-40.141c-4.318-1.877-9.352,0.102-11.23,4.429 c-1.869,4.318,0.111,9.353,4.437,11.221c26.266,11.401,38.178,23.219,40.388,29.884l8.533,25.6 c1.195,3.575,4.523,5.837,8.098,5.837c0.887,0,1.801-0.145,2.697-0.444C511.074,510.942,513.498,506.112,512.004,501.641z"/>
                <path fill="${i}" d="M256.439,0c-115.558,0-179.2,63.642-179.2,179.2V256c0,66.039-24.909,141.611-25.165,142.37 c-1.485,4.471,0.93,9.301,5.402,10.795c4.48,1.476,9.301-0.93,10.795-5.402c1.058-3.191,26.035-78.908,26.035-147.763v-76.8 c0-134.008,88.175-162.133,162.133-162.133c100.454,0,162.133,94.43,162.133,162.133v17.067 c0,34.458-21.111,74.163-41.532,112.572c-18.133,34.116-35.268,66.338-35.268,92.228c0,54.11,35.14,89.873,36.634,91.366 c1.596,1.604,3.772,2.5,6.033,2.5c2.261,0,4.437-0.896,6.033-2.5c1.493-1.493,36.634-37.257,36.634-91.366 c0-53.197-17.562-72.303-19.567-74.3c-3.285-3.285-8.559-3.285-11.904-0.051c-3.354,3.234-3.439,8.61-0.265,12.015 c0.145,0.154,14.669,16.256,14.669,62.336c0,33.937-16.444,60.16-25.617,72.149c-9.19-11.947-25.583-38.05-25.583-72.149 c0-21.632,16.162-52.036,33.271-84.215c21.402-40.252,43.529-81.869,43.529-120.585V179.2C435.639,94.438,362.04,0,256.439,0z"/>
            </svg>`},e.icon.son=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}"  viewBox="0 0 512.002 512.002">
                <path fill="${i}" d="M238.934,213.334c0-4.71-3.823-8.533-8.533-8.533h-34.133c-4.71,0-8.533,3.823-8.533,8.533 c0,4.71,3.823,8.533,8.533,8.533h8.533c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533h8.533 C235.111,221.867,238.934,218.044,238.934,213.334z"/>
                <path fill="${i}" d="M121.601,255.19c4.565,13.466,17.178,49.98,24.371,64.358c13.551,27.11,51.977,72.986,110.029,72.986 s96.478-45.875,110.037-72.986c7.185-14.379,19.797-50.893,24.371-64.358c11.025-2.85,19.191-12.885,19.191-24.789v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-33.69-17.741-95.923-83.354-101.931c-0.137-4.028-1.476-7.27-2.953-9.668 c-8.38-13.559-31.94-16.401-50.227-16.401c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.525,8.525h0.009 c4.702,0,8.525-3.806,8.533-8.516c0.017-5.222,1.937-128.009,136.533-128.009c24.132,0,33.801,5.222,35.703,8.311 c0.282,0.435,0.998,1.604-0.666,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.553,2.509,4.301,4.045,7.253,4.045 c75.656,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.823,8.533,8.533,8.533c4.702,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.831,8.533-8.533,8.533c-3.669,0-6.929,2.347-8.098,5.837c-0.162,0.503-16.964,50.816-25.131,67.149 c-1.297,2.594-32.495,63.548-94.771,63.548s-93.466-60.954-94.763-63.548c-8.166-16.333-24.977-66.645-25.139-67.149 c-1.161-3.49-4.42-5.837-8.098-5.837c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-2.313,0.93-4.412,2.423-5.948 c3.396,7.62,10.607,14.481,23.177,14.481c3.234,0,6.187-1.826,7.637-4.719c7.535-15.061,15.283-30.575,17.399-46.652 c43.665-1.758,108.979-17.323,139.742-41.105c8.201,29.764,32.742,54.596,33.988,55.842c3.337,3.337,8.738,3.337,12.066,0 c3.337-3.336,3.337-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234c0-3.831-2.56-7.202-6.255-8.226 c-3.703-1.024-7.62,0.546-9.591,3.831c-14.549,24.243-94.746,47.061-146.287,47.061c-4.71,0-8.533,3.823-8.533,8.533 c0,13.295-6.127,27.102-13.286,41.6c-2.901-1.604-3.703-4.753-3.78-7.467c0-4.71-3.823-8.533-8.533-8.533 c-14.114,0-25.6,11.486-25.6,25.6v34.133C102.401,242.305,110.576,252.34,121.601,255.19z"/>
                <path fill="${i}" d="M256.001,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.243-3.354-8.619-3.439-12.023-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.209-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.328,3.337-3.328,8.73,0,12.066C225.503,322.893,235.982,332.801,256.001,332.801z"/>
                <path fill="${i}" d="M264.79,281.601c0-4.71-3.814-8.533-8.533-8.533h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 C260.976,290.134,264.79,286.311,264.79,281.601z"/>
                <path fill="${i}" d="M511.745,501.394l-8.713-34.756c-4.386-13.158-30.285-55.484-178.765-56.636v-8.934c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v17.067c0,0.06,0.034,0.111,0.034,0.171c0,0.051-0.034,0.094-0.034,0.154 c-0.034,5.205-1.749,50.876-51.2,50.876s-51.166-45.986-51.2-51.2v-17.067c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533v8.619C77.168,410.556,21.786,428.203,8.79,467.26l-8.533,34.133 c-1.143,4.574,1.638,9.207,6.212,10.351c4.557,1.143,9.199-1.638,10.342-6.204l8.354-33.51 c9.916-29.739,63.309-44.595,163.132-45.338c3.098,24.431,19.712,59.708,67.704,59.708c47.983,0,64.597-35.063,67.703-59.366 c116.958,0.862,157.628,28.467,162.953,44.373l8.533,34.133c0.973,3.874,4.446,6.46,8.269,6.46c0.691,0,1.382-0.077,2.082-0.256 C510.115,510.601,512.888,505.968,511.745,501.394z"/>
                <path fill="${i}" d="M298.668,230.401c4.71,0,8.533-3.823,8.533-8.533h8.533c4.71,0,8.533-3.823,8.533-8.533c0-4.71-3.823-8.533-8.533-8.533 h-34.133c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h8.533 C290.134,226.578,293.957,230.401,298.668,230.401z"/>
            </svg>`},e.icon.wife=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512 512" >
                <path fill="${i}" d="M128,307.2c4.719,0,8.533-3.823,8.533-8.533V281.6c0-4.71-3.814-8.533-8.533-8.533c-4.719,0-8.533,3.823-8.533,8.533 v17.067C119.467,303.377,123.281,307.2,128,307.2z"/>
                <path fill="${i}" d="M384,273.067c-4.719,0-8.533,3.823-8.533,8.533v17.067c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533 V281.6C392.533,276.89,388.719,273.067,384,273.067z"/>
                <path fill="${i}" d="M392.183,433.109c-0.162-0.606-0.418-1.152-0.7-1.715c-0.162-0.299-0.196-0.64-0.384-0.93 c-0.094-0.128-0.23-0.196-0.324-0.324c-0.358-0.469-0.802-0.845-1.254-1.246c-0.418-0.375-0.819-0.742-1.306-1.016 c-0.145-0.094-0.23-0.23-0.392-0.316l-34.133-17.067c-2.748-1.357-6.008-1.161-8.55,0.538l-51.209,34.133 c-2.372,1.587-3.797,4.25-3.797,7.1v30.259c-5.077,4.062-17.545,12.407-34.133,12.407c-16.427,0-29.013-8.388-34.133-12.433 v-30.234c0-2.85-1.425-5.513-3.797-7.1l-51.2-34.133c-2.543-1.698-5.803-1.894-8.55-0.538l-34.133,17.067 c-0.154,0.077-0.239,0.213-0.375,0.299c-0.512,0.29-0.939,0.674-1.374,1.075c-0.435,0.384-0.853,0.734-1.186,1.178 c-0.102,0.137-0.256,0.213-0.35,0.35c-0.205,0.307-0.239,0.657-0.401,0.99c-0.265,0.529-0.521,1.05-0.674,1.63 c-0.137,0.529-0.179,1.05-0.205,1.596c-0.034,0.538-0.06,1.058,0.008,1.604c0.068,0.597,0.265,1.143,0.461,1.707 c0.119,0.341,0.111,0.7,0.273,1.024c0.077,0.154,0.222,0.247,0.307,0.393c0.282,0.495,0.666,0.913,1.058,1.348 c0.384,0.427,0.742,0.853,1.186,1.195c0.137,0.102,0.213,0.256,0.35,0.35l51.2,34.133c1.459,0.973,3.106,1.434,4.727,1.434 c2.756,0,5.47-1.331,7.108-3.797c2.62-3.925,1.562-9.225-2.364-11.836l-38.972-25.975l16.555-8.277l43.281,28.851V486.4 c0,2.261,0.896,4.437,2.5,6.033C208.102,493.235,227.2,512,256,512s47.898-18.765,48.7-19.567c1.604-1.596,2.5-3.772,2.5-6.033 v-29.568l43.29-28.851l16.546,8.277l-38.972,25.975c-3.925,2.611-4.983,7.91-2.364,11.836c1.638,2.466,4.352,3.797,7.108,3.797 c1.621,0,3.268-0.461,4.727-1.434l51.2-34.133c0.137-0.094,0.205-0.239,0.333-0.341c0.478-0.35,0.853-0.794,1.254-1.246 c0.358-0.427,0.725-0.811,0.998-1.289c0.085-0.154,0.239-0.247,0.324-0.41c0.171-0.35,0.171-0.725,0.29-1.084 c0.179-0.538,0.367-1.05,0.435-1.613c0.077-0.58,0.051-1.126,0.009-1.698C392.354,434.108,392.32,433.613,392.183,433.109z"/>
                <path fill="${i}" d="M57.037,409.165c0.896,0.29,1.809,0.435,2.697,0.435c3.575,0,6.903-2.261,8.09-5.837 C68.89,400.572,93.867,324.855,93.867,256v-76.8C93.867,45.193,182.033,17.067,256,17.067c25.199,0,77.636,0,85.649,11.128 c0.333,0.452,0.828,1.135,0.128,3.243c-0.956,2.842-0.341,5.965,1.604,8.235c1.946,2.278,4.932,3.362,7.885,2.876 c10.863-1.792,20.412,0.93,29.184,8.354c22.895,19.396,37.683,69.76,37.683,128.299V256c0,77.457,25.071,145.22,26.138,148.062 c1.656,4.412,6.571,6.639,10.991,5.001c4.412-1.655,6.647-6.571,5.001-10.991C460.006,397.406,435.2,330.257,435.2,256v-76.8 c0-50.415-11.486-114.014-43.716-141.321c-9.745-8.243-20.932-12.621-32.836-12.902c-0.683-2.773-1.903-5.035-3.149-6.767 C343.356,1.374,303.258,0,256,0C140.442,0,76.8,63.642,76.8,179.2V256c0,66.039-24.909,141.611-25.156,142.37 C50.15,402.842,52.565,407.672,57.037,409.165z"/>
                <path fill="${i}" d="M91.802,426.923C19.814,444.919,1.195,498.492,0.444,500.77c-1.493,4.471,0.922,9.301,5.393,10.795 C6.733,511.864,7.646,512,8.533,512c3.576,0,6.904-2.261,8.09-5.837c0.162-0.469,16.316-46.942,79.309-62.686 c4.574-1.143,7.356-5.777,6.212-10.351C101.001,428.561,96.367,425.771,91.802,426.923z"/>
                <path fill="${i}" d="M213.333,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.985,2.261,9.148,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564C204.8,235.11,208.614,238.933,213.333,238.933 z"/>
                <path fill="${i}" d="M511.556,500.77c-0.751-2.278-19.371-55.851-91.358-73.847c-4.574-1.161-9.199,1.638-10.342,6.204 c-1.143,4.574,1.638,9.207,6.212,10.351c62.524,15.633,78.66,60.809,79.309,62.686c1.186,3.576,4.514,5.837,8.09,5.837 c0.888,0,1.801-0.137,2.697-0.435C510.635,510.071,513.05,505.242,511.556,500.77z"/>
                <path fill="${i}" d="M256,332.8c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.051-11.913 c-3.251-3.345-8.61-3.439-12.015-0.247c-0.273,0.247-6.707,6.127-19.669,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.32-3.251-8.67-3.226-11.981,0.085c-3.337,3.337-3.337,8.73,0,12.066C225.493,322.893,235.972,332.8,256,332.8z"/>
                <path fill="${i}" d="M298.667,238.933c4.719,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.173-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.59-13.124-24.636-13.124c-14.046,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.546,8.969,3.456,11.23 c3.994,2.261,9.156,0.819,11.554-3.123c0.085-0.128,0.503-0.623,1.092-1.195v5.564 C290.133,235.11,293.948,238.933,298.667,238.933z"/>
                <path fill="${i}" d="M389.129,189.449c-8.542-6.443-30.729-26.957-30.729-44.382c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533 c0,24.678,24.354,47.249,34.014,55.228c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548 s-78.575-48.23-86.229-63.548c-8.542-17.084-33.237-83.379-33.237-115.652v-25.728c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.54-11.947-1.707C279.561,152.994,129.51,153.6,128,153.6 c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.385,20.77,55.834,72.986,101.504,72.986 s91.119-52.216,101.504-72.986c8.158-16.316,35.029-86.656,35.029-123.281C392.533,193.587,391.27,191.061,389.129,189.449z"/>
            </svg>`},e.icon.husband=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512.007 512.007" >
                <path fill="${i}" d="M121.835,255.249c6.229,16.196,26.803,68.42,41.737,90.82l1.348,2.039c10.957,16.614,29.295,44.425,91.085,44.425 c61.79,0,80.128-27.81,91.085-44.425l1.348-2.039c14.933-22.4,35.507-74.624,41.737-90.82c11.145-2.773,19.43-12.86,19.43-24.849 v-34.133c0-11.127-7.134-20.617-17.067-24.141V128c0-33.69-17.741-95.923-83.362-101.931c-0.128-4.028-1.459-7.27-2.944-9.668 C297.844,2.85,274.292,0,256.005,0c-151.842,0-153.6,143.616-153.6,145.067c0,4.71,3.814,8.525,8.516,8.525h0.017 c4.702,0,8.516-3.806,8.533-8.508c0.017-5.231,1.937-128.017,136.533-128.017c24.132,0,33.801,5.222,35.712,8.311 c0.265,0.435,0.99,1.604-0.683,4.941c-1.323,2.645-1.178,5.786,0.375,8.303c1.562,2.509,4.301,4.045,7.262,4.045 c75.657,0,76.791,81.86,76.8,85.333v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533V230.4 c0,4.702-3.823,8.533-8.533,8.533c-3.558,0-6.741,2.21-7.996,5.538c-0.247,0.674-25.446,67.644-41.771,92.126l-1.399,2.116 c-10.223,15.514-24.235,36.753-76.834,36.753c-52.599,0-66.611-21.239-76.834-36.753l-1.399-2.116 c-16.324-24.482-41.523-91.452-41.771-92.126c-1.254-3.328-4.437-5.538-7.996-5.538c-4.71,0-8.533-3.831-8.533-8.533v-34.133 c0-2.313,0.922-4.412,2.423-5.948c3.089,6.955,9.421,13.21,20.053,14.268l29.193,21.897c2.27,16.623,16.418,29.517,33.664,29.517 h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133h17.067 c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947c-2.825-3.772-8.175-4.548-11.947-1.707 l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133c-14.114,0-25.6,11.486-25.6,25.6 c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.469,0-21.077,7.62-24.328,18.022l-16.282-12.211 c6.716-16.23,12.8-40.235,14.524-57.088c26.897-0.478,104.713-3.763,139.332-25.37c7.851,30.31,33.058,55.817,34.321,57.08 c3.336,3.336,8.73,3.336,12.066,0c3.336-3.337,3.336-8.73,0-12.066c-0.316-0.316-31.633-31.983-31.633-62.234 c0-3.831-2.56-7.202-6.255-8.226c-3.661-1.016-7.629,0.546-9.591,3.831c-12.425,20.693-93.022,29.995-146.287,29.995 c-4.719,0-8.533,3.823-8.533,8.533c0,13.858-6.554,41.515-13.508,58.539c-2.722-1.638-3.49-4.693-3.558-7.339 c0-4.71-3.814-8.533-8.533-8.533c-14.114,0-25.6,11.486-25.6,25.6V230.4C102.405,242.389,110.691,252.476,121.835,255.249z M273.071,213.333c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533 c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067V213.333z M187.738,213.333 c0-4.702,3.823-8.533,8.533-8.533h34.133c4.71,0,8.533,3.831,8.533,8.533v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067V213.333z"/>
                <path fill="${i}" d="M298.663,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.182,7.629-30.319,7.629c-4.719,0-8.533,3.823-8.533,8.533 s3.814,8.533,8.533,8.533c0.725,0,16.853-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.84,315.733,298.646,311.927,298.663,307.226z"/>
                <path fill="${i}" d="M247.471,324.267c-4.719,0-8.533,3.823-8.533,8.533c0,4.71,3.814,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.471z"/>
                <path fill="${i}" d="M511.749,501.393l-8.721-34.756c-12.706-38.135-73.114-56.687-184.67-56.687c-0.879,0-1.758,0-2.645,0.009 c-4.053,0.009-7.544,2.867-8.337,6.852l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052 c4.608,0.896,9.114-2.074,10.044-6.69l15.693-78.114c97.724,0.452,154.436,15.957,163.934,44.373l8.533,34.133 c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256C510.11,510.601,512.892,505.976,511.749,501.393z"/>
                <path fill="${i}" d="M204.634,416.461c-0.794-3.994-4.292-6.861-8.363-6.861c-116.386,0-174.148,17.596-187.477,57.66l-8.533,34.133 c-1.152,4.582,1.638,9.207,6.212,10.351C7.164,511.923,7.864,512,8.547,512c3.823,0,7.296-2.586,8.269-6.46l8.346-33.51 c9.95-29.841,63.667-44.689,164.122-45.338l15.693,78.447c0.913,4.617,5.367,7.629,10.035,6.699 c4.617-0.93,7.62-5.427,6.69-10.044L204.634,416.461z"/>
                <path fill="${i}" d="M256.005,409.6c-14.114,0-25.6,11.486-25.6,25.6c0,11.11,7.159,20.489,17.067,24.021v44.245 c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533V459.23c9.907-3.541,17.067-12.919,17.067-24.03 C281.605,421.086,270.119,409.6,256.005,409.6z M256.005,443.733c-4.71,0-8.533-3.831-8.533-8.533 c0-4.702,3.823-8.533,8.533-8.533c4.71,0,8.533,3.831,8.533,8.533C264.538,439.902,260.715,443.733,256.005,443.733z"/>
            </svg>`},e.icon.father=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512.002 512.002" >
                <path fill="${i}" d="M366.934,128.001c0-4.71-3.814-8.533-8.533-8.533c-2.091,0-51.2-0.683-51.2-59.733c0-4.71-3.814-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,75.921,67.584,76.8,68.267,76.8C363.12,136.534,366.934,132.711,366.934,128.001z"/>
                <path fill="${i}" d="M256.001,196.268c0-14.114-11.486-25.6-25.6-25.6h-34.133c-11.46,0-21.069,7.62-24.329,18.022l-21.751-16.316 c-3.772-2.825-9.114-2.048-11.947,1.707c-2.825,3.772-2.065,9.122,1.707,11.947l31.189,23.39 c2.278,16.623,16.418,29.517,33.664,29.517h17.067c18.825,0,34.133-15.309,34.133-34.133c0,18.825,15.309,34.133,34.133,34.133 h17.067c17.237,0,31.394-12.894,33.664-29.517l31.189-23.39c3.772-2.825,4.54-8.175,1.707-11.947 c-2.825-3.772-8.175-4.548-11.947-1.707l-21.751,16.316c-3.251-10.402-12.86-18.022-24.329-18.022h-34.133 C267.487,170.668,256.001,182.153,256.001,196.268z M238.934,204.801c0,9.412-7.654,17.067-17.067,17.067h-17.067 c-9.412,0-17.067-7.654-17.067-17.067v-8.533c0-4.702,3.831-8.533,8.533-8.533h34.133c4.702,0,8.533,3.831,8.533,8.533V204.801z M324.268,196.268v8.533c0,9.412-7.654,17.067-17.067,17.067h-17.067c-9.412,0-17.067-7.654-17.067-17.067v-8.533 c0-4.702,3.823-8.533,8.533-8.533h34.133C320.445,187.734,324.268,191.566,324.268,196.268z"/>
                <path fill="${i}" d="M298.659,307.226c0.009-4.702-3.797-8.533-8.499-8.559c-0.162,0-15.42-0.171-30.345-7.629 c-2.398-1.203-5.231-1.203-7.629,0c-14.925,7.458-30.191,7.629-30.319,7.629c-4.71,0-8.533,3.823-8.533,8.533 s3.823,8.533,8.533,8.533c0.725,0,16.845-0.094,34.133-7.646c17.28,7.552,33.408,7.646,34.133,7.646 C294.836,315.734,298.642,311.928,298.659,307.226z"/>
                <path fill="${i}" d="M120.986,237.953c4.378,18.611,18.91,76.877,34.048,99.584c10.974,16.452,36.668,54.997,100.966,54.997 s89.993-38.545,100.966-54.997c15.138-22.707,29.67-80.973,34.048-99.584c10.718-3.055,18.586-12.937,18.586-24.619v-34.133 c0-11.127-7.134-20.617-17.067-24.141v-44.126c0-1.109-1.562-110.933-136.533-110.933c-151.842,0-153.6,126.72-153.6,128 c0,4.702,3.806,8.516,8.516,8.525h0.017c4.693,0,8.516-3.806,8.533-8.499c0.017-4.54,2.048-110.959,136.533-110.959 c117.581,0,119.441,90.061,119.467,93.867v51.2c0,4.71,3.814,8.533,8.533,8.533c4.71,0,8.533,3.831,8.533,8.533v34.133 c0,4.702-3.823,8.533-8.533,8.533c-4.002,0-7.458,2.782-8.337,6.682c-0.162,0.751-16.896,75.52-32.896,99.516 c-10.257,15.386-31.599,47.403-86.767,47.403s-76.51-32.017-86.767-47.403c-15.992-23.979-32.734-98.765-32.905-99.516 c-0.87-3.9-4.326-6.682-8.329-6.682c-4.702,0-8.533-3.831-8.533-8.533v-34.133c0-4.702,3.831-8.533,8.533-8.533 c1.323,0,2.637-0.307,3.814-0.896c2.978-1.493,72.986-37.333,72.986-110.037c0-4.71-3.823-8.533-8.533-8.533 s-8.533,3.823-8.533,8.533c0,56.678-52.523,88.636-62.08,93.978c-13.022,1.186-23.253,12.169-23.253,25.489v34.133 C102.401,225.016,110.269,234.898,120.986,237.953z"/>
                <path fill="${i}" d="M196.097,416.462c-0.794-3.994-4.292-6.861-8.363-6.861c-140.399,0-168.892,27.409-178.944,57.66l-8.533,34.133 c-1.143,4.582,1.638,9.207,6.204,10.351c0.7,0.179,1.391,0.256,2.082,0.256c3.823,0,7.296-2.586,8.269-6.46l8.354-33.51 c7.339-22.025,31.718-44.527,155.58-45.338l15.693,78.447c0.913,4.617,5.393,7.603,10.035,6.699 c4.625-0.93,7.62-5.427,6.69-10.044L196.097,416.462z"/>
                <path fill="${i}" d="M511.745,501.394l-8.721-34.756c-7.117-21.342-39.689-57.216-178.782-56.678c-4.062,0.009-7.544,2.867-8.337,6.852 l-17.067,84.975c-0.93,4.625,2.065,9.122,6.682,10.052c4.591,0.896,9.114-2.074,10.044-6.69l15.693-78.114 c103.714,0.674,148.412,23.484,155.401,44.373l8.533,34.133c0.973,3.874,4.446,6.468,8.269,6.46c0.683,0,1.382-0.077,2.074-0.256 C510.106,510.601,512.888,505.976,511.745,501.394z"/>
                <path fill="${i}" d="M256.257,426.668h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,426.668,256.257,426.668z"/>
                <path fill="${i}" d="M256.257,494.934h-0.085c-4.71,0-8.491,3.823-8.491,8.533s3.866,8.533,8.576,8.533c4.71,0,8.533-3.823,8.533-8.533 S260.967,494.934,256.257,494.934z"/>
                <path fill="${i}" d="M247.468,324.268c-4.71,0-8.533,3.823-8.533,8.533c0,4.71,3.823,8.533,8.533,8.533h17.067 c4.719,0,8.533-3.823,8.533-8.533c0-4.71-3.814-8.533-8.533-8.533H247.468z"/>
                <path fill="${i}" d="M256.257,460.801h-0.085c-4.71,0-8.491,3.823-8.491,8.533c0,4.71,3.866,8.533,8.576,8.533 c4.71,0,8.533-3.823,8.533-8.533C264.79,464.624,260.967,460.801,256.257,460.801z"/>
            </svg>`},e.icon.mother=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512.011 512.011" >
                <path fill="${i}" d="M299.355,445.356c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475c2.304,0,4.523-0.853,6.059-2.475c1.621-1.536,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-5.973C308.23,442.113,302.512,442.199,299.355,445.356z"/>
                <path fill="${i}" d="M276.23,458.668c-1.621,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,5.973 c1.621,1.621,3.84,2.56,6.059,2.56c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.56-3.755,2.56-5.973 c0-2.304-0.939-4.437-2.56-6.059C285.104,455.511,279.387,455.511,276.23,458.668z"/>
                <path fill="${i}" d="M392.539,196.268c0-2.68-1.263-5.205-3.405-6.818c-8.55-6.443-30.729-26.957-30.729-44.382 c0-4.71-3.823-8.533-8.533-8.533s-8.533,3.823-8.533,8.533c0,24.678,24.354,47.249,34.014,55.228 c-1.835,33.476-24.917,95.223-33.118,111.625c-7.654,15.317-48.154,63.548-86.229,63.548s-78.575-48.23-86.229-63.548 c-8.542-17.084-33.237-83.379-33.237-115.652V170.54c33.835-0.802,157.321-6.929,218.453-52.779 c3.772-2.825,4.531-8.175,1.707-11.947c-2.825-3.763-8.166-4.531-11.947-1.707c-65.186,48.887-215.236,49.493-216.747,49.493 c-4.71,0-8.533,3.823-8.533,8.533v34.133c0,36.625,26.871,106.965,35.029,123.281c10.394,20.77,55.834,72.986,101.504,72.986 s91.11-52.215,101.504-72.986C365.668,303.233,392.539,232.893,392.539,196.268z"/>
                <path fill="${i}" d="M249.947,463.276c-1.536,1.621-2.475,3.84-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475s4.437-0.939,6.059-2.475c1.536-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.939-4.437-2.475-6.059C258.907,460.119,253.104,460.119,249.947,463.276z"/>
                <path fill="${i}" d="M34.139,230.401c0,18.85,6.75,36.659,19.098,50.688c-1.348,5.76-2.031,11.648-2.031,17.579 c0,42.342,34.458,76.8,76.8,76.8c6.494,0,12.954-0.819,19.191-2.432c4.565-1.178,7.305-5.828,6.127-10.394 c-1.178-4.565-5.828-7.305-10.394-6.127c-4.847,1.254-9.865,1.886-14.925,1.886c-32.939,0-59.733-26.795-59.733-59.733 c0-5.922,0.879-11.793,2.603-17.459c0.922-3.021,0.102-6.298-2.133-8.525c-11.307-11.298-17.536-26.308-17.536-42.283 c0-19.251,9.421-37.453,25.199-48.674c3.78-2.688,4.719-7.893,2.116-11.742c-6.707-9.89-10.249-21.461-10.249-33.451 c0-28.843,20.591-53.53,48.947-58.701c2.432-0.452,4.557-1.929,5.811-4.053c18.987-32.137,40.892-56.713,133.888-56.713 c71.714,0,128.947,23.484,142.413,58.436c0.888,2.304,2.731,4.105,5.052,4.949c23.535,8.559,39.356,31.095,39.356,56.081 c0,11.989-3.541,23.561-10.249,33.451c-2.603,3.849-1.664,9.054,2.116,11.742c15.778,11.221,25.199,29.423,25.199,48.674 c0,15.974-6.229,30.984-17.536,42.283c-2.236,2.227-3.055,5.504-2.133,8.525c1.724,5.666,2.603,11.537,2.603,17.459 c0,32.939-26.795,59.733-59.733,59.733c-5.018,0-10.001-0.623-14.814-1.852c-4.574-1.186-9.207,1.579-10.377,6.144 c-1.169,4.574,1.587,9.216,6.153,10.385c6.195,1.587,12.595,2.389,19.038,2.389c42.342,0,76.8-34.458,76.8-76.8 c0-5.931-0.683-11.819-2.031-17.579c12.348-14.029,19.098-31.838,19.098-50.688c0-22.11-9.643-43.128-26.138-57.643 c5.956-11.102,9.071-23.475,9.071-36.224c0-30.865-18.748-58.82-47.044-70.733C395.475,25.704,334.598,0.001,256.919,0.001 c-90.172,0-121.984,21.7-146.62,61.85c-34.475,8.115-59.093,38.921-59.093,74.684c0,12.749,3.115,25.122,9.071,36.224 C43.782,187.274,34.139,208.291,34.139,230.401z"/>
                <path fill="${i}" d="M316.507,424.876c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 c1.621,1.536,3.755,2.475,5.973,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.755,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C325.382,421.719,319.664,421.719,316.507,424.876z"/>
                <path fill="${i}" d="M223.664,458.668c-1.536,1.621-2.475,3.755-2.475,6.059c0,2.219,0.939,4.437,2.475,6.059 c1.621,1.536,3.84,2.475,6.059,2.475c2.304,0,4.437-0.939,6.059-2.475c1.621-1.621,2.475-3.84,2.475-6.059 c0-2.219-0.853-4.437-2.475-6.059C232.624,455.511,226.907,455.511,223.664,458.668z"/>
                <path fill="${i}" d="M337.67,411.905c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.072-12.032,0.085c-1.621,1.536-2.56,3.755-2.56,5.973c0,2.304,0.939,4.437,2.56,6.059 c1.536,1.621,3.755,2.475,5.973,2.475C333.915,414.38,336.048,413.527,337.67,411.905z"/>
                <path fill="${i}" d="M213.339,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124c-14.054,0-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.156,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C204.806,235.112,208.629,238.935,213.339,238.935z"/>
                <path fill="${i}" d="M256.006,332.801c20.028,0,30.507-9.907,31.633-11.034c3.294-3.294,3.285-8.567,0.043-11.913 c-3.234-3.345-8.61-3.439-12.015-0.247c-0.265,0.247-6.699,6.127-19.661,6.127c-12.774,0-19.208-5.709-19.652-6.118 c-3.336-3.251-8.678-3.217-11.981,0.085c-3.337,3.336-3.337,8.73,0,12.066C225.499,322.894,235.978,332.801,256.006,332.801z"/>
                <path fill="${i}" d="M298.672,238.935c4.71,0,8.533-3.823,8.533-8.533v-5.615c0.546,0.529,0.922,0.964,0.964,1.024 c1.519,2.918,4.497,4.591,7.578,4.591c1.323,0,2.671-0.307,3.934-0.964c4.181-2.176,5.803-7.33,3.627-11.511 c-2.534-4.873-10.581-13.124-24.636-13.124s-22.101,8.252-24.636,13.124c-2.125,4.087-0.555,8.969,3.456,11.23 c4.011,2.287,9.165,0.811,11.563-3.123c0.077-0.128,0.495-0.623,1.084-1.195v5.564 C290.139,235.112,293.962,238.935,298.672,238.935z"/>
                <path fill="${i}" d="M511.571,500.771l-8.533-25.6c-8.883-26.658-62.464-65.212-136.098-65.212c-3.482,0-6.613,2.116-7.919,5.333 c-0.316,0.802-33.015,79.642-103.014,79.642c-69.99,0-102.69-79.181-103.014-79.983c-1.306-3.226-4.437-5.35-7.919-5.35 c-106.001,0-130.97,50.185-136.098,65.57l-8.533,25.6c-1.493,4.471,0.93,9.301,5.402,10.795c4.48,1.502,9.301-0.93,10.795-5.402 l8.533-25.6c8.465-25.412,42.974-52.514,114.381-53.845c9.293,19.703,45.577,85.282,116.454,85.282 c70.827,0,107.102-65.229,116.437-84.898c64.051,1.835,108.339,35.294,114.398,53.461l8.533,25.6 c1.195,3.576,4.523,5.837,8.098,5.837c0.887,0,1.801-0.137,2.697-0.435C510.64,510.073,513.064,505.243,511.571,500.771z"/>
                <path fill="${i}" d="M375.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533c4.71,0,8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533C379.295,273.068,375.472,276.891,375.472,281.601z"/>
                <path fill="${i}" d="M188.934,405.847c0-2.219-0.939-4.437-2.56-5.973c-3.157-3.243-8.875-3.243-12.032,0 c-1.621,1.536-2.475,3.755-2.475,5.973c0,2.304,0.853,4.437,2.475,6.059s3.755,2.475,6.059,2.475 c2.219,0,4.437-0.853,5.973-2.475C187.995,410.284,188.934,408.151,188.934,405.847z"/>
                <path fill="${i}" d="M189.531,439.468c2.219,0,4.437-0.939,5.973-2.475c1.621-1.621,2.475-3.755,2.475-6.059c0-2.219-0.853-4.437-2.475-6.059 c-3.157-3.157-8.875-3.157-12.032,0c-1.621,1.621-2.475,3.84-2.475,6.059c0,2.304,0.853,4.437,2.475,6.059 C185.008,438.529,187.227,439.468,189.531,439.468z"/>
                <path fill="${i}" d="M200.624,445.356c-1.621,1.621-2.56,3.755-2.56,6.059c0,2.219,0.939,4.437,2.56,5.973c1.621,1.621,3.755,2.56,6.059,2.56 c2.219,0,4.437-0.939,5.973-2.56c1.621-1.536,2.475-3.755,2.475-5.973c0-2.304-0.853-4.523-2.475-6.059 C209.499,442.199,203.782,442.199,200.624,445.356z"/>
                <path fill="${i}" d="M119.472,281.601v17.067c0,4.71,3.823,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-17.067 c0-4.71-3.823-8.533-8.533-8.533S119.472,276.891,119.472,281.601z"/>
            </svg>`},e.icon.teddy=function(t,n,i,r,o){return e.isNEU(r)&&(r=0),e.isNEU(o)&&(o=0),`<svg width="${t}" height="${n}" x="${r}" y="${o}" viewBox="0 0 512 512">
                <path fill="${i}" d="M234.513,246.613c9.378-1.929,16.555-9.02,21.487-15.863c4.932,6.844,12.109,13.935,21.487,15.863 c1.459,0.299,3.089,0.486,4.873,0.486c6.118,0,13.978-2.304,22.34-10.667c3.337-3.337,3.337-8.73,0-12.066s-8.73-3.337-12.066,0 c-4.361,4.369-8.337,6.212-11.699,5.53c-6.912-1.408-13.611-12.203-16.401-18.364c9.523-3.866,17.067-13.577,17.067-23.799 c0-9.353-9.566-14.933-25.6-14.933c-16.026,0-25.6,5.581-25.6,14.933c0,10.223,7.535,19.934,17.067,23.799 c-2.807,6.178-9.498,16.956-16.401,18.364c-3.405,0.666-7.339-1.178-11.699-5.53c-3.336-3.337-8.73-3.337-12.066,0 s-3.337,8.73,0,12.066C218.104,247.236,228.062,247.91,234.513,246.613z M263.748,190.669c-1.502,2.944-4.873,5.598-7.748,5.598	s-6.246-2.654-7.748-5.598C251.793,189.833,260.207,189.833,263.748,190.669z"/>
                <path fill="${i}" d="M390.033,53.7c1.621,1.613,2.5,3.755,2.5,6.033s-0.879,4.42-2.5,6.025c-3.337,3.337-3.337,8.738,0,12.075 c1.664,1.664,3.849,2.5,6.033,2.5s4.369-0.836,6.033-2.492c4.838-4.838,7.501-11.273,7.501-18.108s-2.662-13.269-7.501-18.099 c-9.984-9.984-26.214-9.984-36.198,0c-3.337,3.328-3.337,8.73,0,12.066s8.73,3.337,12.066,0 C381.303,50.372,386.697,50.372,390.033,53.7z"/>
                <path fill="${i}" d="M311.467,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C298.667,130.79,304.41,136.533,311.467,136.533z"/>
                <path fill="${i}" d="M200.533,136.533c7.057,0,12.8-5.743,12.8-12.8c0-7.057-5.743-12.8-12.8-12.8s-12.8,5.743-12.8,12.8 C187.733,130.79,193.476,136.533,200.533,136.533z"/>
                <path fill="${i}" d="M115.934,80.333c2.185,0,4.369-0.836,6.042-2.5c3.328-3.337,3.328-8.738-0.009-12.075c-1.613-1.604-2.5-3.746-2.5-6.025 s0.887-4.42,2.509-6.033c3.209-3.226,8.841-3.226,12.058,0c3.328,3.337,8.738,3.328,12.066,0 c3.337-3.328,3.337-8.738,0.009-12.066c-9.677-9.677-26.539-9.668-36.207-0.009c-4.838,4.838-7.501,11.273-7.501,18.108 s2.662,13.269,7.501,18.108C111.565,79.497,113.749,80.333,115.934,80.333z"/>
                <path fill="${i}" d="M498.552,286.191c-28.262-23.945-91.742-14.2-98.884-13.005c-4.651,0.768-7.791,5.171-7.014,9.813 c0.777,4.651,5.171,7.799,9.813,7.014c17.246-2.867,66.133-6.827,85.052,9.199c5.06,4.284,7.415,9.54,7.415,16.521 c0,3.977-1.476,6.946-4.779,9.626c-24.098,19.567-114.33,5.982-147.063-0.913c-3.703-0.776-7.441,0.981-9.242,4.275 c-1.801,3.311-1.212,7.424,1.434,10.095c0.12,0.119,8.499,8.755,12.493,19.951c-2.125-0.222-4.267-0.367-6.443-0.367 c-37.641,0-68.267,34.458-68.267,76.8c0,7.629,1.024,14.993,2.884,21.956c-3.823,1.715-10.197,3.644-19.951,3.644 c-10.052,0-16.367-2.082-19.908-3.814c1.826-6.912,2.842-14.217,2.842-21.786c0-42.342-30.626-76.8-68.267-76.8 c-2.176,0-4.318,0.145-6.443,0.367c3.994-11.196,12.373-19.831,12.476-19.934c2.671-2.671,3.268-6.775,1.468-10.095 c-1.792-3.319-5.521-5.069-9.259-4.292c-32.725,6.895-122.974,20.48-147.063,0.913c-3.302-2.68-4.779-5.649-4.779-9.626 c0-6.98,2.355-12.228,7.407-16.512c18.867-15.991,67.806-12.066,85.06-9.208c4.651,0.794,9.045-2.364,9.813-7.014 c0.776-4.651-2.364-9.045-7.006-9.813c-7.151-1.195-70.613-10.957-98.884,13.005C4.651,293.649,0,303.863,0,315.733 c0,9.079,3.831,16.998,11.093,22.886c27.179,22.05,102.818,12.783,140.535,6.426c-2.825,5.47-5.188,11.896-6.11,18.825 c-25.216,11.29-43.119,38.98-43.119,71.33c0,42.342,30.626,76.8,68.267,76.8c25.446,0,47.642-15.778,59.383-39.057 c5.743,2.56,14.174,4.924,25.95,4.924c11.674,0,20.164-2.287,26.035-4.77C293.794,496.29,315.938,512,341.333,512 c37.641,0,68.267-34.458,68.267-76.8c0-32.35-17.903-60.041-43.119-71.33c-0.922-6.929-3.277-13.355-6.101-18.825 c37.717,6.357,113.365,15.633,140.527-6.426c7.262-5.888,11.093-13.807,11.093-22.886 C512,303.863,507.349,293.649,498.552,286.191z M170.667,494.933c-28.237,0-51.2-26.795-51.2-59.733s22.963-59.733,51.2-59.733 s51.2,26.795,51.2,59.733S198.904,494.933,170.667,494.933z M392.533,435.2c0,32.939-22.963,59.733-51.2,59.733 c-20.983,0-39.04-14.814-46.942-35.942c-0.145-0.614-0.324-1.186-0.606-1.766c-2.338-6.818-3.652-14.242-3.652-22.025 c0-32.939,22.963-59.733,51.2-59.733C369.57,375.467,392.533,402.261,392.533,435.2z"/>
                <path fill="${i}" d="M307.2,443.733c0,18.825,15.309,34.133,34.133,34.133c18.825,0,34.133-15.309,34.133-34.133 c0-18.825-15.309-34.133-34.133-34.133C322.509,409.6,307.2,424.909,307.2,443.733z M358.4,443.733 c0,9.412-7.654,17.067-17.067,17.067c-9.404,0-17.067-7.654-17.067-17.067c0-9.412,7.663-17.067,17.067-17.067 C350.746,426.667,358.4,434.321,358.4,443.733z"/>
                <path fill="${i}" d="M115.541,118.161c-8.619,21.709-13.141,45.525-13.141,69.572c0,67.849,52.762,136.533,153.6,136.533 s153.6-68.685,153.6-136.533c0-24.491-4.412-47.846-13.107-69.581c26.957-5.76,47.24-29.764,47.24-58.419 C443.733,26.795,416.93,0,384,0c-24.67,0-46.14,14.916-55.108,36.745C307.115,23.859,282.368,17.067,256,17.067 c-26.615,0-51.2,6.716-73.259,19.925C174.08,14.754,153.088,0,128,0C95.061,0,68.267,26.795,68.267,59.733 C68.267,88.397,88.559,112.41,115.541,118.161z M128,17.067c19.226,0,35.021,12.177,40.115,30.054 c-11.085,8.61-21.163,18.816-29.901,30.592c-2.807,3.789-2.014,9.131,1.775,11.938c3.789,2.816,9.139,2.022,11.938-1.766 c8.9-12.006,19.26-22.281,30.788-30.507C204.288,41.95,228.949,34.133,256,34.133c41.429,0,78.396,19.098,104.098,53.786 c1.681,2.253,4.25,3.447,6.869,3.447c1.766,0,3.55-0.546,5.077-1.681c3.78-2.799,4.574-8.149,1.775-11.938 c-8.969-12.092-19.157-22.485-30.345-31.104c5.427-17.374,21.632-29.577,40.525-29.577c23.526,0,42.667,19.14,42.667,42.667 S407.526,102.4,384,102.4c-2.935,0-5.658,1.502-7.228,3.985c-1.553,2.483-1.732,5.589-0.461,8.243 c10.761,22.443,16.222,47.044,16.222,73.105C392.533,247.1,345.634,307.2,256,307.2s-136.533-60.1-136.533-119.467 c0-25.617,5.615-50.901,16.23-73.122c1.263-2.637,1.084-5.751-0.478-8.226c-1.562-2.483-4.292-3.985-7.219-3.985 c-23.526,0-42.667-19.14-42.667-42.667S104.474,17.067,128,17.067z"/>
                <path fill="${i}" d="M256,290.133c47.053,0,85.333-30.626,85.333-68.267c0-36.258-36.489-76.8-85.333-76.8s-85.333,40.542-85.333,76.8 C170.667,259.507,208.947,290.133,256,290.133z M256,162.133c38.451,0,68.267,32.111,68.267,59.733 c0,28.237-30.626,51.2-68.267,51.2c-37.641,0-68.267-22.963-68.267-51.2C187.733,194.244,217.557,162.133,256,162.133z"/>
                <path fill="${i}" d="M170.667,409.6c-18.825,0-34.133,15.309-34.133,34.133c0,18.825,15.309,34.133,34.133,34.133 s34.133-15.309,34.133-34.133C204.8,424.909,189.491,409.6,170.667,409.6z M170.667,460.8c-9.412,0-17.067-7.654-17.067-17.067 c0-9.412,7.654-17.067,17.067-17.067c9.412,0,17.067,7.654,17.067,17.067C187.733,453.146,180.079,460.8,170.667,460.8z"/>
            </svg>`},e.prototype.exportPDFProfile=function(t,n){t=this._defaultExportProfileOptions(t,"pdf"),this._exportProfile(t,n)},e.prototype.exportPDFPreview=function(t){e.pdfPrevUI.show(this,t)},e.prototype.exportPNGProfile=function(t,n){t=this._defaultExportProfileOptions(t,"png"),this._exportProfile(t,n)},e.prototype.shareProfile=function(t){var n;typeof t=="object"?t=(n=t).focusId:n=this.editUI.content(t,!0,!0,"100%",!0);var i=new URL(window.location.href);i.searchParams.append("nodeId",t);var r={title:n.title,text:n.shareText,url:i.href};try{navigator.share(r)}catch(o){console.error("error: "+o)}},e.prototype.exportPDF=function(t,n){t=this._defaultExportOptions(t,"pdf"),this._export(t,n)},e.prototype.exportPNG=function(t,n){t=this._defaultExportOptions(t,"png"),this._export(t,n)},e.prototype.exportSVG=function(t,n){t=this._defaultExportOptions(t,"svg"),this._export(t,n)},e.prototype._defaultExportOptions=function(t,n){return t==null&&(t={}),n=="svg"?(t.ext="svg",t.mime="image/svg+xml"):n=="pdf"?(t.mime="application/pdf",t.ext="pdf"):n=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="FamilyTree."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="fit"),t.header==null&&(t.header=""),n=="pdf"&&t.footer==null?t.footer="Page {current-page} of {total-pages}":t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="bft-"+this.config.mode),t},e.prototype._export=function(t,n){var i=this,r={id:t.nodeId,expandChildren:t.expandChildren,min:t.min};t.margin&&t.margin[0]<2&&(t.margin[0]=2),t.margin&&t.margin[1]<2&&(t.margin[1]=2),t.margin&&t.margin[2]<2&&(t.margin[2]=2),t.margin&&t.margin[3]<2&&(t.margin[3]=2),this._draw(!1,e.action.exporting,r,function(o,s){var l=document.createElement("div");if(l.innerHTML=o,t.padding>0){var c=l.querySelector("svg"),d=e._getViewBox(c);d[0]-=t.padding,d[1]-=t.padding,d[2]+=2*t.padding,d[3]+=2*t.padding,c.setAttribute("viewBox",d.join()),c.setAttribute("width",d[2]),c.setAttribute("height",d[3])}if(t.ext=="svg")if(n)n(t,l.innerHTML);else{(c=l.querySelector("svg")).classList.add("bft-"+i.config.mode);var u={content:l.innerHTML,options:t,styles:""},f=e.events.publish("exportstart",[i,u]),h=i.element.querySelector("[data-bft-styles]");if(h&&(u.styles+=h.outerHTML),u.styles&&(l.childNodes[0].insertAdjacentHTML("afterbegin",u.styles),u.content=l.innerHTML),f===!1||(f=e.events.publish("exportend",[i,u]))===!1)return!1;e._downloadFile(t.mime,u.content,u.options.filename,u.options.openInNewTab,u.options.ext)}else i._pages(t,l.querySelector("svg"),s,function(p){var g={content:l.innerHTML,options:t,pages:p,styles:""},v=e.events.publish("exportstart",[i,g]),_=i.element.querySelector("[data-bft-styles]");if(_&&(g.styles+=_.outerHTML),v===!1)return!1;n||e.loading.show(i),n?n(i,g,l.querySelector("svg")):(g=JSON.stringify(g),e._ajax(i.config.exportUrl+"/v3","POST",g,"arraybuffer",function(w){var m=e.events.publish("exportend",[i,w]);if(e.loading.hide(i),m===!1)return!1;e._downloadFile(t.mime,w,t.filename,t.openInNewTab,t.ext)}))})})},e.prototype.exportCSV=function(t){var n=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"csv"),i=this.getNode(n.nodeId),r=null;i?(r=[],e._exportIterateForJSON_XML_CSV(this,i,n,r)):n.min===!1||n.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,n,r):r=JSON.parse(JSON.stringify(this.config.nodes));var o={ext:"csv",filename:t,options:n,nodes:r};if(e.events.publish("exportstart",[this,o])===!1)return!1;var s=e._json2csv(o.nodes),l={ext:o.ext,filename:o.filename,options:n,nodes:o.nodes,content:s};if(e.events.publish("exportend",[this,l])===!1)return!1;e._downloadFile("text/csv;charset=utf-8;","\uFEFF"+l.content,l.options.filename,l.options.openInNewTab,l.ext)},e.prototype.exportXML=function(t){var n=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"xml"),i=this.getNode(n.nodeId),r=null;i?(r=[],e._exportIterateForJSON_XML_CSV(this,i,n,r)):n.min===!1||n.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,n,r):r=JSON.parse(JSON.stringify(this.config.nodes));var o={ext:"xml",filename:t,options:n,nodes:r};if(e.events.publish("exportstart",[this,o])===!1)return!1;var s=e._json2xml(o.nodes),l={ext:o.ext,filename:o.filename,options:n,nodes:o.nodes,content:s};if(e.events.publish("exportend",[this,l])===!1)return!1;e._downloadFile("application/xml",l.content,l.options.filename,l.options.openInNewTab,l.ext)},e.prototype.exportJSON=function(t){var n=e._defaultExportProfileOptionsForCSV_SVG_JSON(t,"json"),i=this.getNode(n.nodeId),r=null;i?(r=[],e._exportIterateForJSON_XML_CSV(this,i,n,r)):n.min===!1||n.expandChildren===!1?e._exportIterateForJSON_XML_CSV(this,this.roots,n,r):r=JSON.parse(JSON.stringify(this.config.nodes));var o={ext:"json",filename:n.filename,options:n,nodes:r};if(e.events.publish("exportstart",[this,o])===!1)return!1;var s={ext:o.ext,filename:o.filename,options:n,nodes:o.nodes,content:JSON.stringify(o.nodes)};if(e.events.publish("exportend",[this,s])===!1)return!1;e._downloadFile("application/json",s.content,s.options.filename,s.options.openInNewTab,s.ext)},e._exportIterateForJSON_XML_CSV=function(t,n,i,r){if(Array.isArray(n))for(var o=0;o<n.length;o++)e._exportIterateForJSON_XML_CSV(t,n[o],i,r);else{var s=t.get(n.id);if(r.push(s),i.min)for(o=0;o<n.stChildrenIds.length;o++)e._exportIterateForJSON_XML_CSV(t,t.getNode(n.stChildrenIds[o]),i,r);else for(o=0;o<n.stChildren.length;o++)e._exportIterateForJSON_XML_CSV(t,n.stChildren[o],i,r);if(i.expandChildren)for(o=0;o<n.childrenIds.length;o++)e._exportIterateForJSON_XML_CSV(t,t.getNode(n.childrenIds[o]),i,r);else for(o=0;o<n.children.length;o++)e._exportIterateForJSON_XML_CSV(t,n.children[o],i,r)}},e.prototype._pages=function(t,n,i,r){t.format=="A5"&&t.scale!="fit"||t.format=="A4"&&t.scale!="fit"||t.format=="A3"&&t.scale!="fit"||t.format=="A2"&&t.scale!="fit"||t.format=="A1"&&t.scale!="fit"||t.format=="Letter"&&t.scale!="fit"||t.format=="Legal"&&t.scale!="fit"?r(this._pagesA100(t,n,t.scale)):t.format=="A5"&&t.scale=="fit"||t.format=="A4"&&t.scale=="fit"||t.format=="A3"&&t.scale=="fit"||t.format=="A2"&&t.scale=="fit"||t.format=="A1"&&t.scale=="fit"||t.format=="Letter"&&t.scale=="fit"||t.format=="Legal"&&t.scale=="fit"?r(this._pagesAfit(t,n,i)):t.format=="fit"&&r(this._pagesFit(t,n))},e.prototype._pagesFit=function(t,n){var i=n.getAttribute("width"),r=n.getAttribute("height"),o=e._getViewBox(n),s={w:parseFloat(i),h:parseFloat(r)};return[{vb:o,size:{w:s.w+(t.margin[1]+t.margin[3]),h:s.h+(t.margin[0]+t.margin[2])},innerSize:s}]},e.prototype._pagesAfit=function(t,n,i){var r=n.getAttribute("width"),o=0,s=0;switch(t.format){case"A5":o=e.A5w,s=e.A5h;break;case"A4":o=e.A4w,s=e.A4h;break;case"A3":o=e.A3w,s=e.A3h;break;case"A2":o=e.A2w,s=e.A2h;break;case"A1":o=e.A1w,s=e.A1h;break;case"Letter":o=e.Letterw,s=e.Letterh;break;case"Legal":o=e.Legalw,s=e.Legalh}var l=t.landscape?s-(t.margin[1]+t.margin[3]):o-(t.margin[1]+t.margin[3]),c=(t.landscape,t.margin[0],t.margin[2],l/r);return this._pagesA100(t,n,100*c,i)},e.prototype._pagesA100=function(t,n,i,r){var o=e._getViewBox(n),s=0,l=0;switch(t.format){case"A5":s=e.A5w,l=e.A5h;break;case"A4":s=e.A4w,l=e.A4h;break;case"A3":s=e.A3w,l=e.A3h;break;case"A2":s=e.A2w,l=e.A2h;break;case"A1":s=e.A1w,l=e.A1h;break;case"Letter":s=e.Letterw,l=e.Letterh;break;case"Legal":s=e.Legalw,l=e.Legalh}var c=o[0],d=o[1],u=o[2],f=o[3],h={w:t.landscape?l-(t.margin[1]+t.margin[3]):s-(t.margin[1]+t.margin[3]),h:t.landscape?s-(t.margin[0]+t.margin[2]):l-(t.margin[0]+t.margin[2])},p={w:t.landscape?l:s,h:t.landscape?s:l};n.setAttribute("width",h.w),n.setAttribute("height",h.h);var g=h.w*(100/i),v=h.h*(100/i),_=c,w=d,m=[],x=!0;if(!e.EXPORT_PAGES_CUT_NODES&&t.scale=="fit"){n.setAttribute("preserveAspectRatio","xMinYMin");for(var y=Object.keys(r.bordersByRootIdAndLevel),b=r.bordersByRootIdAndLevel[y[0]],C=Object.keys(b).length,E=1;E<y.length;E++)C<Object.keys(r.bordersByRootIdAndLevel[y[E]]).length&&(b=r.bordersByRootIdAndLevel[y[E]],C=Object.keys(b).length);for(var N=0,L=0;;){for(L=N;!(C<=N);){if((b[N].maxY-b[N].minY)/(100/i)>h.h){x=!1;break}var O=(b[N].minY-b[L].minY)/(100/i);if(N==C-1&&(O=(b[N].maxY-b[L].minY)/(100/i)),O>h.h)break;N++}if(!x)break;var X=(N==C?b[N-1].maxY:b[N-1].minY)-b[L].minY;if(X==0){x=!1;break}if(T=(T=[_,b[L].minY,g,X]).join(),m.push({vb:T,innerSize:{w:h.x,h:X/(100/i)-1},size:p}),N==C)break;N--}m.length&&(m[m.length-1].innerSize.h+=1)}if(!x||e.EXPORT_PAGES_CUT_NODES||t.scale!="fit")for(n.setAttribute("preserveAspectRatio","xMinYMin slice"),m=[];_<u+c;){for(;w<f+d;){var T;T=(T=[_,w,g,v]).join(),m.push({vb:T,innerSize:h,size:p}),w+=v}_+=g,w=d}return m},e.prototype._defaultExportProfileOptions=function(t,n){return e.isNEU(t)||t.id==null||t.nodeId!=null||(t.nodeId=t.id),(e.isNEU(t)||e.isNEU(t.nodeId))&&console.error("options.nodeId is not defilned"),n=="svg"?(t.ext="svg",t.mime="image/svg+xml"):n=="pdf"?(t.mime="application/pdf",t.ext="pdf"):n=="png"&&(t.mime="image/png",t.ext="png"),t.margin==null&&(t.margin=[50,40,50,40]),t.padding==null&&(t.padding=0),t.landscape==null&&(t.landscape=!1),t.filename==null&&(t.filename="Profile."+t.ext),t.scale==null&&(t.scale="fit"),t.format==null&&(t.format="A4"),t.header==null&&(t.header=""),t.footer==null&&(t.footer=""),t.openInNewTab==null&&(t.openInNewTab=!1),t.mode==null&&(t.mode="bft-"+this.config.mode),t},e._defaultExportProfileOptionsForCSV_SVG_JSON=function(t,n){return e.isNEU(t)&&(t={}),typeof t=="string"&&(t={filename:t}),e.isNEU(t.filename)&&(t.filename=`FamilyTree.${n}`),e.isNEU(t.expandChildren)&&(t.expandChildren=!0),e.isNEU(t.min)&&(t.min=!0),e.isNEU(t.openInNewTab)&&(t.openInNewTab=!1),t},e.prototype._exportProfile=function(t,n){var i=this,r=0,o=0;switch(t.format){case"A5":r=e.A5w,o=e.A5h;break;case"A4":r=e.A4w,o=e.A4h;break;case"A3":r=e.A3w,o=e.A3h;break;case"A2":r=e.A2w,o=e.A2h;break;case"A1":r=e.A1w,o=e.A1h;break;case"Letter":r=e.Letterw,o=e.Letterh;break;case"Legal":r=e.Legalw,o=e.Legalh}var s={w:t.landscape?o-(t.margin[1]+t.margin[3]):r-(t.margin[1]+t.margin[3]),h:t.landscape?r-(t.margin[0]+t.margin[2]):o-(t.margin[0]+t.margin[2])},l={w:t.landscape?o:r,h:t.landscape?r:o},c=this.editUI.content(t.nodeId,!0,!0,"100%",!0).element;e.input.init(c);var d={content:c.outerHTML,options:t,pages:[{vb:"",innerSize:s,size:l}],styles:""};if(!n){if(e.events.publish("exportstart",[i,d])===!1)return!1;e.loading.show(i)}var u=this.element.querySelector("[data-bft-styles]");u&&(d.styles+=u.outerHTML);var f=this.getSvg().querySelector("defs");if(f)for(var h=0;h<f.children.length;h++)f.children[h].nodeName.toLowerCase()=="style"&&(d.styles+=f.children[h].outerHTML);d=JSON.stringify(d),e._ajax(this.config.exportUrl+"/v3","POST",d,"arraybuffer",function(p){if(n)n(i,p);else{var g=e.events.publish("exportend",[i,p]);if(e.loading.hide(i),g===!1)return!1;e._downloadFile(t.mime,p,t.filename,t.openInNewTab,t.ext)}})},e===void 0&&(e={}),e.events=function(){var t={};return{on:function(n,i,r){Array.isArray(t[n])||(t[n]=[]),t[n].push({listener:i,event_id:r})},removeAll:function(n){Array.isArray(t[n])||(t[n]=[]),t[n]=[]},remove:function(n,i,r){var o=!1;if(t[n]&&Array.isArray(t[n])&&t[n].length>0)for(var s=t[n].length-1;s>=0;s--)(!e.isNEU(r)&&!e.isNEU(i)&&t[n][s].event_id==r&&t[n][s].listener==i||!e.isNEU(r)&&e.isNEU(i)&&t[n][s].event_id==r||e.isNEU(r)&&!e.isNEU(i)&&t[n][s].listener==i||e.isNEU(r)&&e.isNEU(i))&&(t[n].splice(s,1),o=!0);return o},has:function(n,i){if(t[n]&&Array.isArray(t[n])&&t[n].length>0){if(e.isNEU(i))return!0;for(var r=0;r<t[n].length;r++)if(t[n][r].event_id==i)return!0}return!1},removeForEventId:function(n){for(var i in t)if(Array.isArray(t[i]))for(var r=t[i].length-1;r>=0;r--)t[i][r].event_id==n&&t[i].splice(r,1)},publish:function(n,i){if(t[n]){for(var r=[],o=0;o<t[n].length;o++){var s=t[n][o];s.event_id!=null&&s.event_id!=i[0]._event_id||r.push(s.listener)}if(r.length>0){var l=!0;for(o=0;o<r.length&&(i.length==1?l=r[o](i[0])&&l:i.length==2?l=r[o](i[0],i[1])&&l:i.length==3?l=r[o](i[0],i[1],i[2])&&l:i.length==4?l=r[o](i[0],i[1],i[2],i[3])&&l:i.length==5&&(l=r[o](i[0],i[1],i[2],i[3],i[4])&&l),l!==!1);o++);return l}}}}}(),e.prototype.importCSV=function(){var t=this,n=document.createElement("INPUT");n.setAttribute("type","file"),n.setAttribute("accept",".csv"),n.style.display="none",n.onchange=function(i){var r=i.target,o=new FileReader;o.onload=function(){var s=o.result,l=e._csvToArray(s),c=[],d=l[0];e._importSetColumnNames(d,function(u){for(var f=1;f<l.length;f++){for(var h={},p=0;p<l[f].length;p++){var g=u[p],v=l[f][p];h[g]=e._convertStringToArray(g,v)}h.id.trim()!=""&&c.push(h)}var _={nodes:c,columnNames:l[0]};e.events.publish("import",[t,_])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=_.nodes,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())})},o.readAsText(r.files[0])},n.click()},e._importSetColumnNames=function(t,n){if(t.indexOf("id")==-1||t.indexOf("pid")==-1){var i=document.createElement("DIV"),r=document.createElement("P");r.style.padding="5px",r.style.color="rgb(122, 122, 122)",r.innerHTML=e.IMPORT_MESSAGE,i.appendChild(r);var o=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),c=document.createElement("span");o.setAttribute("id","bft-sampleDialog"),o.style.height="260px",o.style.width="400px",o.style.background="white",o.style.border="0.5px solid grey",o.style.position="fixed",o.style.overflow="hidden",o.style.zIndex="99",s.setAttribute("id","title"),s.style.backgroundColor="#e5e5e5",s.style.fontWeight="bold",s.style.color="rgb(122, 122, 122)",s.style.height="20px",s.style.padding="3px 0 0 7px",c.setAttribute("id","close"),c.style.cursor="pointer",c.style.position="absolute",c.style.color="rgb(122, 122, 122)",c.style.fontWeight="bold",c.style.top="2px",c.style.zIndex=100,l.setAttribute("id","content"),l.style.padding="2px",s.innerHTML="Import Organizational Chart Data",c.innerHTML="&times;";var d=document.createElement("HR");d.style.height="0.1px",d.style.backgroundColor="#aeaeae",d.style.border="none",d.style.margin="0",o.appendChild(s),o.appendChild(d),l.appendChild(i),o.appendChild(l),o.appendChild(c),document.body.appendChild(o),e._importCenter(o),c.style.left=o.offsetWidth-20+"px";var u=document.createElement("div");u.setAttribute("id","overlay"),u.style.width="100%",u.style.height="100%",u.style.left=0,u.style.top=0,u.style.position="fixed",u.style.background="grey",u.style.opacity="0.5",u.style.zIndex=98,document.body.appendChild(u),o._overlay=u;var f=document.createElement("LABEL"),h=document.createTextNode("Name:");f.setAttribute("for","bft-id-select"),f.appendChild(h),f.style.fontSize="16px",f.style.color="rgb(122, 122, 122)",f.style.padding="5px",f.style.margin="5px",f.style.width="30%",f.style.textAlign="right",f.style.display="inline-block",i.appendChild(f);var p=document.createElement("SELECT");p.id="bft-id-select",p.style.fontSize="16px",p.style.color="rgb(122, 122, 122)",p.style.padding="5px",p.style.margin="5px",p.style.width="60%",p.style.border="1px solid #aeaeae",i.appendChild(p);var g=document.createElement("BR");i.appendChild(g);for(var v=0;v<t.length;v++){(y=document.createElement("option")).setAttribute("value",t[v]);var _=document.createTextNode(t[v]);y.appendChild(_),p.appendChild(y)}var w=document.createElement("LABEL"),m=document.createTextNode("Reports to:");w.setAttribute("for","pid-select"),w.appendChild(m),w.style.fontSize="16px",w.style.color="rgb(122, 122, 122)",w.style.padding="5px",w.style.margin="5px",w.style.width="30%",w.style.textAlign="right",w.style.display="inline-block",i.appendChild(w);var x=document.createElement("SELECT");for(x.id="pid-select",x.style.fontSize="16px",x.style.color="rgb(122, 122, 122)",x.style.padding="5px",x.style.margin="5px",x.style.width="60%",x.style.border="1px solid #aeaeae",i.appendChild(x),v=0;v<t.length;v++){var y;(y=document.createElement("option")).setAttribute("value",t[v]),_=document.createTextNode(t[v]),y.appendChild(_),x.appendChild(y)}var b=document.createElement("BUTTON");b.innerHTML="Import",b.style.fontSize="16px",b.style.color="rgb(122, 122, 122)",b.style.padding="5px 20px",b.style.margin="20px auto",b.style.display="block",b.onclick=function(){o.style.display="none",o._overlay&&o._overlay.parentNode.removeChild(o._overlay);var E=p.options[p.selectedIndex].value,N=t.indexOf(E);t[N]="id";var L=x.options[x.selectedIndex].value,O=t.indexOf(L);t[O]="pid",n(t)};var C=document.createElement("DIV");return C.appendChild(b),i.appendChild(C),c.onclick=function(E){o._overlay&&o._overlay.parentNode.removeChild(o._overlay),o.parentNode.removeChild(o),E.stopPropagation()},s.onmousedown=function(E){E=E||window.event,o._dragging=!0,o._originalLeft=o.offsetLeft,o._originalTop=o.offsetTop,o._mouseLeft=E.clientX,o._mouseTop=E.clientY},document.onmousemove=function(E){E=E||window.event,o._dragging&&(o.style.left=o._originalLeft+E.clientX-o._mouseLeft+"px",o.style.top=o._originalTop+E.clientY-o._mouseTop+"px")},document.onmouseup=function(E){E=E||window.event,o._dragging&&(o.style.left=o._originalLeft+E.clientX-o._mouseLeft+"px",o.style.top=o._originalTop+E.clientY-o._mouseTop+"px",o._dragging=!1)},o}n(t)},e._importCenter=function(t){t&&(t.style.left=(window.innerWidth-t.offsetWidth)/2+"px",t.style.top=(window.innerHeight-t.offsetHeight)/2+"px")},e.prototype.importXML=function(){var t=this,n=document.createElement("INPUT");n.setAttribute("type","file"),n.setAttribute("accept",".xml"),n.style.display="none",n.onchange=function(i){var r=i.target,o=new FileReader;o.onload=function(){var s=o.result,l=e._xml2json(s);e.events.publish("import",[t,l])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=l,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},o.readAsText(r.files[0])},n.click()},e.prototype.importJSON=function(){var t=this,n=document.createElement("INPUT");n.setAttribute("type","file"),n.setAttribute("accept",".json"),n.style.display="none",n.onchange=function(i){var r=i.target,o=new FileReader;o.onload=function(){var s=o.result,l=JSON.parse(s);e.events.publish("import",[t,l])!=0&&(t._putInUndoStack(),t.clearRedo(),t.config.nodes=l,e.events.publish("updated",[t]),t.filterUI.update(),t.draw())},o.readAsText(r.files[0])},n.click()},e.prototype.__importJSON=e.prototype.importJSON,e.prototype.importJSON=function(){this.config.roots=[],this.__importJSON()},e.prototype.__importCSV=e.prototype.importCSV,e.prototype.importCSV=function(){this.config.roots=[],this.__importCSV()},e.prototype.__importXML=e.prototype.importXML,e.prototype.importXML=function(){this.config.roots=[],this.__importXML()},e._importSetColumnNames=function(t,n){n(t)},e.prototype.expand=function(t,n,i){this._resetMovableNodes();var r={id:t,ids:n};this._draw(!1,e.action.expand,r,i)},e.prototype.collapse=function(t,n,i){this._resetMovableNodes();var r={id:t,ids:n};this._draw(!1,e.action.collapse,r,i)},e.prototype.expandCollapse=function(t,n,i,r){this._resetMovableNodes(),Array.isArray(n)||(n=[]),Array.isArray(i)||(i=[]);var o={id:t,expandIds:n,collapseIds:i,ids:n.concat(i)};this._draw(!1,e.action.collapse,o,r)},e.prototype.changeRoots=function(t,n,i){this.config.roots=n;var r={id:t,changeRoots:n};this._draw(!1,e.action.update,r,i)},e.prototype._resetMovableNodes=function(){if(e.RESET_MOVABLE_ONEXPANDCOLLAPSE&&this.config.movable!=null){for(var t=!1,n=0;n<this.config.nodes.length;n++){var i=this.config.nodes[n];i.movex!=null&&(i.movex=0,t=!0),i.movey!=null&&(i.movey=0,t=!0)}t&&e.events.publish("updated",[this])}},e.prototype.maximize=function(t,n,i,r){var o=this,s={id:t,options:{}};e.isNEU(s.id)&&(s.id=this.roots[0].id,s.all=!0),s.options.horizontal=!1,s.options.vertical=!1,n&&(s.options.horizontal=n),i&&(s.options.vertical=i),this._draw(!1,e.action.maximize,s,function(){o.ripple(t),r&&r()})},e.prototype.minimize=function(t,n){var i=this,r={id:t};e.isNEU(r.id)&&(r.id=this.roots[0].id,r.all=!0),this._draw(!1,e.action.minimize,r,function(){i.ripple(t),n&&n()})},e.prototype._expCollHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var n=this.getNode(t),i=this.getCollapsedIds(n);if(i.length){if(e.events.publish("expcollclick",[this,!1,t,i])===!1)return!1;this.expand(t,i,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,n.childrenIds])===!1)return!1;this.collapse(t,n.childrenIds,!1)}},e.prototype._upHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var n=this._upHandlerCreateArgs(t);if(e.events.publish("up-click",[this,n])===!1)return!1;this.changeRoots(n.id,n.roots,!1)},e.prototype._upHandlerCreateArgs=function(t){var n,i=this.getNode(t),r=Object.assign([],this.config.roots),o=this.getNode(i.pid);if(o&&(n=o),n){if(Array.isArray(r)){var s=r.indexOf(i.id);s!=-1&&r.splice(s,1)}else r=[];r.push(n.id)}return{id:i.id,roots:r}},e.prototype._upHandlerCreateArgs=function(t){var n=this.getNode(t),i=Object.assign([],this.config.roots),r=this.getRecentRootsByNodeId(t);return Array.isArray(i)||(i=[]),e._changeRootOption(i,r,this.manager.rootList),{id:n.id,roots:i}},String.prototype.replaceAll||(String.prototype.replaceAll=function(t,n){return this.replace(new RegExp(t,"g"),n)}),String.prototype.endsWith||(String.prototype.endsWith=function(t){return this.indexOf(t,this.length-t.length)!==-1}),String.prototype.splice||(String.prototype.splice=function(t,n,i){return this.slice(0,t)+i+this.slice(t+Math.abs(n))}),String.prototype.insert||(String.prototype.insert=function(t,n){return t>0?this.substring(0,t)+n+this.substr(t):n+this}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var t=this.concat(),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.has||Object.defineProperty(Array.prototype,"has",{value:function(t){for(var n=0;n<this.length;n++)if(this[n]==t)return!0;return!1},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.compare||Object.defineProperty(Array.prototype,"compare",{value:function(t){if(this.length!=t.length)return!1;for(var n=0;n<this.length;n++)if(!t.has(this[n]))return!1;return!0},writable:!0,configurable:!0,enumerable:!1}),Object.assign||Object.defineProperty(Object,"assign",{value:function(t,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(o!=null)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},writable:!0,configurable:!0}),e.prototype._globalMouseDownHandler=function(t,n){var i={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(n.type.indexOf("touch")!=-1&&(n.touches.length==1?this._touch={x:n.touches[0].clientX,y:n.touches[0].clientY}:this._touch=null,i={move:"touchmove",up:"touchend",touchstart:"touchstart"}),t==n.target)return n.stopPropagation(),n.preventDefault(),void this._mouseDownHandler(t,n,i);if(this.config.nodeMouseClick==e.action.pan){for(var r=n.target;r!=t&&!r.hasAttribute(e.attr.control_expcoll_id)&&!r.hasAttribute(e.attr.control_up_id);)r=r.parentNode;if(!r.hasAttribute(e.attr.control_expcoll_id)&&!r.hasAttribute(e.attr.control_up_id))return n.stopPropagation(),n.preventDefault(),void this._mouseDownHandler(t,n,i)}for(var o=n.target;o!=t;){if(o.hasAttribute(e.attr.node_id))return void this._nodeMouseDownHandler(o,n,i);if(o.hasAttribute(e.attr.control_node_circle_menu_name))return n.stopPropagation(),n.preventDefault(),void this._nodeCircleNodeMenuItemMouseDownHandler(o,n,i);o=o.parentNode}},e.prototype._globalClickHandler=function(t,n){if(n.type.indexOf("touch")!=-1&&this._touch&&n.changedTouches.length==1){if(n.changedTouches.length){var i={x:n.changedTouches[0].clientX,y:n.changedTouches[0].clientY},r=e.t(this.config.template,!1,this.getScale()).size,o=this.getScale(),s=Math.abs(i.x-this._touch.x)/o,l=Math.abs(i.y-this._touch.y)/o;if(this._touch=null,s>r[0]/10||l>r[1]/10)return}}else if(n.type.indexOf("touch")!=-1&&this._touch==null)return;for(var c=n.target;c!=t;){if(c.hasAttribute(e.attr.control_expcoll_id)){var d=c.getAttribute(e.attr.control_expcoll_id),u=this.getNode(d);return void this._expCollHandler(u.id)}if(c.hasAttribute(e.attr.node_id))return d=c.getAttribute(e.attr.node_id),u=this.getNode(d),void this._nodeClickHandler(u.id,n);if(c.hasAttribute(e.attr.control_node_menu_id))return n.stopPropagation(),n.preventDefault(),d=c.getAttribute(e.attr.control_node_menu_id),u=this.getNode(d),void this._nodeMenuClickHandler(u.id,c,n);if(c.hasAttribute(e.attr.control_node_circle_menu_id))return n.stopPropagation(),n.preventDefault(),d=c.getAttribute(e.attr.control_node_circle_menu_id),void this._nodeCircleMenuClickHandler(d);if(c.hasAttribute(e.attr.control_node_circle_menu_name))return n.stopPropagation(),n.preventDefault(),void this._nodeCircleMenuItemClickHandler(c,n);if(c.hasAttribute(e.attr.control_add))return void this._lonelyButtonHandler();if(c.hasAttribute(e.attr.control_up_id))return d=c.getAttribute(e.attr.control_up_id),n.stopPropagation(),n.preventDefault(),void this._upHandler(d);if(c.hasAttribute(e.attr.c_link_from))return void e.events.publish("clink-click",[this,{from:c.getAttribute(e.attr.c_link_from),to:c.getAttribute(e.attr.c_link_to),event:n}]);if(c.hasAttribute(e.attr.s_link_from))return void e.events.publish("slink-click",[this,{from:c.getAttribute(e.attr.s_link_from),to:c.getAttribute(e.attr.s_link_to),event:n}]);c=c.parentNode}},e.prototype._globalContextHandler=function(t,n){for(var i=n.target;i!=t;){if(i.hasAttribute(e.attr.node_id)){var r=i.getAttribute(e.attr.node_id),o=this.getNode(r);return void this._nodeContextHandler(o.id,n)}i=i.parentNode}},e.prototype._nodeContextHandler=function(t,n){n.preventDefault(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var i=this.get(t),r=null;if(i!=null&&Array.isArray(i.tags))for(var o=0;o<i.tags.length;o++){var s=i.tags[o];this.config.tags[s]&&this.config.tags[s].nodeContextMenu&&(r=this.config.tags[s].nodeContextMenu)}var l=this.element.getBoundingClientRect(),c=n.clientX-l.left,d=n.clientY-l.top;this.nodeContextMenuUI.show(c,d,t,null,r)},e.prototype._globalDbClickHandler=function(t,n){for(var i=n.target;i!=t;){if(i.hasAttribute(e.attr.node_id)){var r=i.getAttribute(e.attr.node_id),o=this.getNode(r);return void this._nodeDbClickHandler(o.id,n)}i=i.parentNode}},e.prototype._mouseScrollHandler=function(t,n){this.__mouseScrollHandler(this.getSvg(),n)},e.prototype.__mouseScrollHandler=function(t,n){if(n.ctrlKey){if(this.config.mouseScrool==e.action.zoom)return}else if(this.config.mouseScrool==e.action.ctrlZoom||this.config.mouseScrool!=e.action.zoom)return;var i=this,r=!1,o=this.config.zoom.speed,s=this.config.zoom.smooth,l=0,c=this.getScale(),d=e._centerPointInPercent(t,n.pageX,n.pageY),u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h){setTimeout(h,20)};n.preventDefault();var f=n.delta||n.wheelDelta;f===void 0&&(f=-n.detail),f=Math.max(-1,Math.min(1,f)),l+=-f*o,r||function h(){r=!0;var p=(l-c)/s;p>0?p++:p--,c+=p,i.zoom(1-p/12/50,d),parseInt(c)==parseInt(l)?r=!1:u(h)}()},e.prototype._nodeCircleNodeMenuItemMouseDownHandler=function(t,n,i){var r=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),o=t.getAttribute(e.attr.control_node_circle_menu_name),s=this.nodeCircleMenuUI._menu[o];if(s.draggable){var l=this,c=e._getClientXY(n),d=this.getNode(r);t._dragEventFired=!1;var u=l.getScale(),f=null,h=null;this._gragStartedId=r,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var p=this.getSvg(),g={x:c.x,y:c.y},v=t.cloneNode(!0);p.insertBefore(v,p.firstChild);var _=e._getTransform(v),w=_[4],m=_[5],x=function(E){for(;E&&!E.hasAttribute(e.attr.control_node_circle_menu_wrraper_id);)E=E.parentNode;if(E){var N=e._getTransform(E);return{x:N[4],y:N[5]}}console.error("cannot find parent"+e.attr.control_node_circle_menu_wrraper_id)}(t);v.setAttribute("transform","matrix(1,0,0,1,"+(w+x.x)+","+(m+x.y)+")"),v.style.opacity=.7;var y=function(E,N){if(E!=null){N.classList.remove("bft-drag-over");for(var L=e.getStParentNodes(l.getNode(f)),O=0;O<L.length;O++){var X=l.getNodeElement(L[O].id);X&&(X.style.opacity=1)}}},b=function(E){if(g){var N=e._getClientXY(E),L=E.target;e.isMobile()&&(L=document.elementFromPoint(N.x,N.y)),N.x+=x.x*u,N.y+=x.y*u;var O=e._getOffsetXY(l.element,E),X={left:l.width()-(O.x+l.config.padding)<0,right:O.x-l.config.padding<0,up:l.height()-(O.y+l.config.padding)<0,down:O.y-l.config.padding<0};if(X.left||X.right||X.up||X.down){p.classList&&(p.classList.remove("bft-cursor-grab"),p.classList.add("bft-cursor-move"),p.classList.remove("bft-cursor-nodrop"),p.classList.remove("bft-cursor-copy"));var T=_[4],$=_[5],G=g.x,te=g.y,K=N.x,H=N.y;l.moveStart(X,function(oe){_[4]=T+oe.x,_[5]=$+oe.y,g.x=G-oe.xWithoutScale,g.y=te-oe.yWithoutScale,N.x=K-oe.xWithoutScale,N.y=H-oe.yWithoutScale,v.setAttribute("transform","matrix("+_.toString()+")")})}else{for(l.moveEnd(),p.classList&&(p.classList.add("bft-cursor-grab"),p.classList.remove("bft-cursor-move"),p.classList.remove("bft-cursor-nodrop"),p.classList.remove("bft-cursor-copy")),y(f,h),f=null,h=null;L!=null&&L!=p;){if(L.hasAttribute&&L.hasAttribute(e.attr.node_id)){var F=L.getAttribute(e.attr.node_id);f=F,h=L;break}L=L.parentNode}if(f!=null){h.classList.add("bft-drag-over");for(var W=l.getNode(f),ie=e.getStParentNodes(W),Z=0;Z<ie.length;Z++){var re=l.getNodeElement(ie[Z].id);re&&(re.style.opacity=.1)}p.classList.remove("bft-cursor-grab"),p.classList.remove("bft-cursor-move"),p.classList.add("bft-cursor-copy"),p.classList.remove("bft-cursor-nodrop")}var ue=(N.x-g.x)/u,B=(N.y-g.y)/u;_[4]=w+ue,_[5]=m+B,!t._dragEventFired&&(Math.abs(N.x-g.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(N.y-g.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[l.nodeCircleMenuUI,{from:F,menuItem:s,menuItemName:o}])===!1&&C(),t._dragEventFired=!0),v.setAttribute("transform","matrix("+_.toString()+")")}}},C=function(E){if(l.moveEnd(),p.classList&&(p.classList.remove("bft-cursor-grab"),p.classList.remove("bft-cursor-move"),p.classList.remove("bft-cursor-nodrop"),p.classList.remove("bft-cursor-copy")),p.removeEventListener(i.move,b),p.removeEventListener(i.up,C),i.leave&&p.removeEventListener(i.leave,C),d.id==f||f==null)return p.removeChild(v),l._gragStartedId=null,void(t._dragEventFired&&e.events.publish("drop",[l.nodeCircleMenuUI,{from:d.id,menuItemName:o,menuItem:s,event:E}]));var N=l.getNode(f);e.events.publish("drop",[l.nodeCircleMenuUI,{from:d.id,to:N.id,menuItem:s,menuItemName:o,event:E}]),y(f,h),p.removeChild(v),l._gragStartedId=null};p.addEventListener(i.move,b),p.addEventListener(i.up,C),i.leave&&p.addEventListener(i.leave,C)}},e.prototype._nodeMouseDownHandler=function(t,n,i){var r=t.getAttribute(e.attr.node_id),o=this.getNode(r);this.config.movable&&!e.getRootOf(o).stParent?this._movableHandler(t,n,i):this.config.enableDragDrop&&this._dragDropHandler(t,n,i)},e.prototype._movableHandler=function(t,n,i){var r=this,o=t.getAttribute(e.attr.node_id),s=[],l=function(H,F){if(Array.isArray(H))for(var W=0;W<H.length;W++)l(H[W],F);else{for(F.push(H.id),W=0;W<H.stChildren.length;W++)l(H.stChildren[W],F);for(W=0;W<H.children.length;W++)l(H.children[W],F)}},c=function(H,F){if(Array.isArray(H))for(var W=0;W<H.length;W++)l(H[W],F);else{for(F.push(H.id),W=0;W<H.stChildrenIds.length;W++)c(r.getNode(H.stChildrenIds[W]),F);for(W=0;W<H.childrenIds.length;W++)c(r.getNode(H.childrenIds[W]),F)}},d=this.getNode(o);l(d,s);for(var u=this.getSvg(),f=e._getClientXY(n),h=[],p=[],g=[],v=[],_=[],w=[],m=[],x=[],y=0;y<s.length;y++){var b=this.getNode(s[y]);h.push(b),g.push({x:b.x,y:b.y});var C=this.getNodeElement(s[y]);if(C){_.push(C);var E=e._getTransform(C);v.push({x:E[4],y:E[5]}),p.push(E);var N=this.element.querySelector(`[data-ctrl-ec-id="${s[y]}"]`);if(N){w.push(N);var L=e._getTransform(N);m.push(L),x.push({x:L[4],y:L[5]})}else w.push(null),m.push(null),x.push(null);if(this.config.movable==e.movable.node)break}}t._dragEventFired=!1;var O=null,X=null;this._gragStartedId=s[0],document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var T={x:f.x,y:f.y},$=r.getScale(),G=function(H,F){if(H!=null){F.classList.remove("bft-drag-over");for(var W=r.getNode(O),ie=e.getStParentNodes(W),Z=0;Z<ie.length;Z++){var re=r.getNodeElement(ie[Z].id);re&&(re.style.opacity=1)}}},te=function(H){if(T){var F=e._getClientXY(H),W=H.target;e.isMobile()&&(W=document.elementFromPoint(F.x,F.y));var ie=e._getOffsetXY(r.element,H),Z={left:r.width()-(ie.x+r.config.padding)<0,right:ie.x-r.config.padding<0,up:r.height()-(ie.y+r.config.padding)<0,down:ie.y-r.config.padding<0};if(Z.left||Z.right||Z.up||Z.down){u.classList&&(u.classList.remove("bft-cursor-grab"),u.classList.add("bft-cursor-move"),u.classList.remove("bft-cursor-nodrop"),u.classList.remove("bft-cursor-copy"));for(var re=[],ue=[],B=[],oe=[],A=0;A<p.length;A++)re.push(p[A][4]),ue.push(p[A][5]),m[A]?(B.push(m[A][4]),oe.push(m[A][5])):(B.push(null),oe.push(null));var V=T.x,j=T.y,Q=F.x,fe=F.y;r.moveStart(Z,function(J){for(var z=0;z<p.length;z++){var ee=re[z],ne=ue[z],ce=B[z],he=oe[z];p[z][4]=ee+J.x,p[z][5]=ne+J.y,T.x=V-J.xWithoutScale,T.y=j-J.yWithoutScale,F.x=Q-J.xWithoutScale,F.y=fe-J.yWithoutScale,h[z].x=ee+J.x,h[z].y=ne+J.y,h[z].movex=J.x,h[z].movey=J.y,m[z]&&(m[z][4]=ce+J.x,m[z][5]=he+J.y);for(var ae=e.ui.link(h[z],r,$,r.response.bordersByRootIdAndLevel,r.nodes,e.action.update,!0),ge=0;ge<ae.length;ge++){var we=ae[ge];(pe=r.element.querySelector(`[data-l-id="[${we.id}][${we.childId}]"]`))&&(pe.innerHTML=we.html)}if(h[z].parent)for(ae=e.ui.link(h[z].parent,r,$,r.response.bordersByRootIdAndLevel,r.nodes,e.action.update,!0),ge=0;ge<ae.length;ge++){var pe;we=ae[ge],(pe=r.element.querySelector(`[data-l-id="[${we.id}][${we.childId}]"]`))&&(pe.innerHTML=we.html)}_[z].setAttribute("transform","matrix("+p[z].toString()+")"),w[z]&&w[z].setAttribute("transform","matrix("+m[z].toString()+")")}})}else{if(r.moveEnd(),u.classList&&(u.classList.add("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.remove("bft-cursor-nodrop"),u.classList.remove("bft-cursor-copy")),G(O,X),O=null,X=null,r.config.enableDragDrop)for(;W!=null&&W!=u;){if(W.hasAttribute&&W.hasAttribute(e.attr.node_id)){var S=W.getAttribute(e.attr.node_id);if(r._gragStartedId&&S!=r._gragStartedId){O=S,X=W;break}}W=W.parentNode}if(O!=null){X.classList.add("bft-drag-over");for(var k=r.getNode(O),I=e.getStParentNodes(k),M=0;M<I.length;M++){var U=r.getNodeElement(I[M].id);U&&(U.style.opacity=.1)}!r.canUpdateLink(h[0].id,O)&&u.classList?(u.classList.remove("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.remove("bft-cursor-copy"),u.classList.add("bft-cursor-nodrop")):u.classList&&(u.classList.remove("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.add("bft-cursor-copy"),u.classList.remove("bft-cursor-nodrop"))}var P=(F.x-T.x)/$,Y=(F.y-T.y)/$;for(A=0;A<p.length;A++){p[A][4]=v[A].x+P,p[A][5]=v[A].y+Y,m[A]&&(m[A][4]=x[A].x+P,m[A][5]=x[A].y+Y),h[A].x=g[A].x+P,h[A].y=g[A].y+Y,h[A].movex=P,h[A].movey=Y;var q=e.ui.link(h[A],r,$,r.response.bordersByRootIdAndLevel,r.nodes,e.action.update,!0);for(M=0;M<q.length;M++){var D=q[M];(R=r.element.querySelector(`[data-l-id="[${D.id}][${D.childId}]"]`))&&(R.innerHTML=D.html)}}if(d.parent)if(r.config.movable==e.movable.detachTree)(R=r.element.querySelector(`[data-l-id="[${d.parent.id}][${d.id}]"]`))&&R.parentElement.removeChild(R);else for(q=e.ui.link(d.parent,r,$,r.response.bordersByRootIdAndLevel,r.nodes,e.action.update,!0),M=0;M<q.length;M++){var R;D=q[M],(R=r.element.querySelector(`[data-l-id="[${D.id}][${D.childId}]"]`))&&(R.innerHTML=D.html)}if(!t._dragEventFired&&(Math.abs(F.x-T.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(F.y-T.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)){if(e.events.publish("drag",[r,o,H,s])===!1&&K(),r.config.enableDragDrop)for(A=0;A<_.length;A++)u.insertBefore(_[A],u.firstChild);t._dragEventFired=!0}for(A=0;A<p.length;A++)_[A].setAttribute("transform","matrix("+p[A].toString()+")"),w[A]&&w[A].setAttribute("transform","matrix("+m[A].toString()+")")}}},K=function(H){for(var F=0;F<h.length;F++)h[F].x=g[F].x,h[F].y=g[F].y;if(r.moveEnd(),u.classList&&(u.classList.remove("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.remove("bft-cursor-nodrop"),u.classList.remove("bft-cursor-copy")),u.removeEventListener(i.move,te),u.removeEventListener(i.up,K),i.leave&&u.removeEventListener(i.leave,K),h[0].id!=O&&O!=null){var W=r.getNode(O);if((ie=e.events.publish("drop",[r,h[0].id,W.id,_[0],H]))===!1)return G(O,X),void(r._gragStartedId=null);r.canUpdateLink(h[0].id,O)?((oe=r.get(h[0].id)).pid=O,oe.stpid=null,r.updateNode(oe,null,!0)):G(O,X),r._gragStartedId=null}else{if(t._dragEventFired){var ie=e.events.publish("drop",[r,h[0].id,void 0,_[0],H]);if(r.config.movable&&ie!==!1)if(r.config.movable==e.movable.detachTree){var Z=e._getTransform(r.getNodeElement(d.id));(oe=r.get(d.id)).pid=null,oe.stpid=null,r.updateNode(oe,null,!0)}else{var re=[];r.config.movable==e.movable.node?re.push(d.id):c(d,re);var ue=(Z=e._getTransform(r.getNodeElement(d.id)))[4]-d.x,B=Z[5]-d.y;for(F=0;F<re.length;F++){var oe;(oe=r.get(re[F]))&&(oe.movex!=null?oe.movex+=ue:oe.movex=ue,oe.movey!=null?oe.movey+=B:oe.movey=B,r.update(oe))}e.events.publish("updated",[r]),r.draw(e.action.update,{dragNodeIdList:re})}}r._gragStartedId=null}};u.addEventListener(i.move,te),u.addEventListener(i.up,K),i.leave&&u.addEventListener(i.leave,K)},e.prototype._dragDropHandler=function(t,n,i){var r=e._getClientXY(n),o=t.getAttribute(e.attr.node_id),s=this.getNode(o);t._dragEventFired=!1;var l=null,c=null;this._gragStartedId=o,this.element.style.mozUserSelect=this.element.style.webkitUserSelect=this.element.style.userSelect="none";var d=this,u=this.getSvg(),f={x:r.x,y:r.y},h=e._getTransform(t),p=h[4],g=h[5],v=d.getScale(),_=t.cloneNode(!0);_.setAttribute("data-n-id","draging"),u.insertBefore(_,u.firstChild),_.style.opacity=.7;var w=function(y,b){if(y!=null){b.classList.remove("bft-drag-over");for(var C=d.getNode(l),E=e.getStParentNodes(C),N=0;N<E.length;N++){var L=d.getNodeElement(E[N].id);L&&(L.style.opacity=1)}}},m=function(y){if(f){var b=e._getClientXY(y),C=y.target;e.isMobile()&&(C=document.elementFromPoint(b.x,b.y));var E=e._getOffsetXY(d.element,y),N={left:d.width()-(E.x+d.config.padding)<0,right:E.x-d.config.padding<0,up:d.height()-(E.y+d.config.padding)<0,down:E.y-d.config.padding<0};if(N.left||N.right||N.up||N.down){u.classList&&(u.classList.remove("bft-cursor-grab"),u.classList.add("bft-cursor-move"),u.classList.remove("bft-cursor-nodrop"),u.classList.remove("bft-cursor-copy"));var L=h[4],O=h[5],X=f.x,T=f.y,$=b.x,G=b.y;d.moveStart(N,function(re){h[4]=L+re.x,h[5]=O+re.y,f.x=X-re.xWithoutScale,f.y=T-re.yWithoutScale,b.x=$-re.xWithoutScale,b.y=G-re.yWithoutScale,_.setAttribute("transform","matrix("+h.toString()+")")})}else{if(d.moveEnd(),u.classList&&(u.classList.add("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.remove("bft-cursor-nodrop"),u.classList.remove("bft-cursor-copy")),w(l,c),l=null,c=null,d.config.enableDragDrop)for(;C!=null&&C!=u;){if(C.hasAttribute&&C.hasAttribute(e.attr.node_id)){var te=C.getAttribute(e.attr.node_id);if(d._gragStartedId&&te!=d._gragStartedId){l=te,c=C;break}}C=C.parentNode}if(l=="draging"&&(l=null,c=null),l!=null){c.classList.add("bft-drag-over");for(var K=d.getNode(l),H=e.getStParentNodes(K),F=0;F<H.length;F++){var W=d.getNodeElement(H[F].id);W&&(W.style.opacity=.1)}!d.canUpdateLink(s.id,l)&&u.classList?(u.classList.remove("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.remove("bft-cursor-copy"),u.classList.add("bft-cursor-nodrop")):u.classList&&(u.classList.remove("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.add("bft-cursor-copy"),u.classList.remove("bft-cursor-nodrop"))}var ie=(b.x-f.x)/v,Z=(b.y-f.y)/v;h[4]=p+ie,h[5]=g+Z,!t._dragEventFired&&(Math.abs(b.x-f.x)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(b.y-f.y)>e.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(e.events.publish("drag",[d,te,y])===!1&&x(),t._dragEventFired=!0),_.setAttribute("transform","matrix("+h.toString()+")")}}},x=function(y){if(d.moveEnd(),u.classList&&(u.classList.remove("bft-cursor-grab"),u.classList.remove("bft-cursor-move"),u.classList.remove("bft-cursor-nodrop"),u.classList.remove("bft-cursor-copy")),u.removeEventListener(i.move,m),u.removeEventListener(i.up,x),i.leave&&u.removeEventListener(i.leave,x),s.id==l||l==null)return t._dragEventFired&&e.events.publish("drop",[d,s.id,void 0,_,y]),u.removeChild(_),void(d._gragStartedId=null);var b=d.getNode(l);if(e.events.publish("drop",[d,s.id,b.id,_,y])===!1)return w(l,c),u.removeChild(_),void(d._gragStartedId=null);if(d.canUpdateLink(s.id,l)){var C=d.get(s.id);C.pid=l,C.stpid=null,C.movex!=null&&(C.movex=void 0),C.movey!=null&&(C.movey=void 0),d.updateNode(C,null,!0)}else u.removeChild(_),w(l,c);d._gragStartedId=null};u.addEventListener(i.move,m),u.addEventListener(i.up,x),i.leave&&u.addEventListener(i.leave,x)},e.prototype._resizeHandler=function(t,n){if(this.isVisible){var i=this.getViewBox(),r=this.getSvg(),o=r.getAttribute("width"),s=r.getAttribute("height"),l=o/i[2],c=s/i[3],d=l>c?c:l;r.setAttribute("width",this.width()),r.setAttribute("height",this.height()),i[2]=this.width()/d,i[3]=this.height()/d,this.setViewBox(i),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,e.action.resize)}},e.prototype._nodeDbClickHandler=function(t,n){if(e.events.publish("dbclick",[this,this.get(t)])===!1)return!1;this._commonClickHandler(t,n,this.config.nodeMouseDbClick)},e.prototype._nodeClickHandler=function(t,n){var i=this.getNodeElement(t);if(i&&i._dragEventFired)i._dragEventFired=!1;else{if(e.events.publish("click",[this,{node:this.getNode(t),event:n}])===!1)return!1;this._commonClickHandler(t,n,this.config.nodeMouseClick)}},e.prototype._nodeCircleMenuItemClickHandler=function(t,n){var i=t.parentNode.getAttribute(e.attr.control_node_circle_menu_wrraper_id),r=t.getAttribute(e.attr.control_node_circle_menu_name),o=this.nodeCircleMenuUI._menu[r];e.events.publish("click",[this.nodeCircleMenuUI,{nodeId:i,menuItemName:r,menuItem:o,event:n}])},e.prototype._nodeCircleMenuClickHandler=function(t){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var n=this.getNode(t),i=null;if(Array.isArray(n.tags))for(var r=0;r<n.tags.length;r++){var o=n.tags[r];this.config.tags[o]&&this.config.tags[o].nodeCircleMenu&&(i=this.config.tags[o].nodeCircleMenu)}this.nodeCircleMenuUI.show(t,i)},e.prototype._commonClickHandler=function(t,n,i){var r;e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide(),i==e.action.expandCollapse&&this.toggleExpandCollapse(t,n),i==e.action.edit&&(r=this.getNode(t))&&(this.editUI.show(r.id),this.ripple(r.id,n.clientX,n.clientY)),i==e.action.details&&(r=this.getNode(t))&&(this.editUI.show(r.id,!0),this.ripple(r.id,n.clientX,n.clientY))},e.prototype._menuHandlerMouseDownHandler=function(t,n){n.stopPropagation(),n.preventDefault()},e.prototype._nodeMenuClickHandler=function(t,n,i){e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var r=this.getNode(t),o=null;if(Array.isArray(r.tags))for(var s=0;s<r.tags.length;s++){var l=r.tags[s];this.config.tags[l]&&this.config.tags[l].nodeMenu&&(o=this.config.tags[l].nodeMenu)}this.nodeMenuUI.showStickIn(n,t,null,o)},e.prototype._menuClickHandler=function(t,n){n.stopPropagation(),n.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(t.offsetLeft,t.offsetTop)},e.prototype._lonelyButtonHandler=function(){var t={id:this.generateId()};this.addNode(t,null,!0)!==!1&&this.center(t.id)},e.prototype.toggleExpandCollapse=function(t,n){var i=this.getNode(t),r=this.getCollapsedIds(i);if(r.length){if(e.events.publish("expcollclick",[this,!1,t,r])===!1)return!1;this.expand(t,r,!1)}else{if(e.events.publish("expcollclick",[this,!0,t,i.childrenIds])===!1)return!1;this.collapse(t,i.childrenIds,!1)}n&&this.ripple(i.id,n.clientX,n.clientY)},e.prototype._move=function(t,n,i){i[0]=n,i[1]=t,this.setViewBox(i),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},e.prototype.moveStart=function(t,n,i,r){if(t){if(!this._moveInterval){var o=this,s=this.getViewBox().slice(0),l=this.getScale(),c=0,d=0,u=1;e.isNEU(i)&&(i=e.anim.inSin),e.isNEU(r)&&(r=3e3),this._moveInterval=setInterval(function(){var f={x:0,y:0,xWithoutScale:0,yWithoutScale:0};t.left?(c++,f.x=c*e.MOVE_STEP/l,f.xWithoutScale=c*e.MOVE_STEP):t.right&&(c++,f.x=-c*e.MOVE_STEP/l,f.xWithoutScale=-c*e.MOVE_STEP),t.up?(d++,f.y=d*e.MOVE_STEP/l,f.yWithoutScale=d*e.MOVE_STEP):t.down&&(d++,f.y=-d*e.MOVE_STEP/l,f.yWithoutScale=-d*e.MOVE_STEP);var h=i((10*u-10)/r);f.x=f.x*h,f.xWithoutScale=f.xWithoutScale*h,f.y=f.y*h,f.yWithoutScale=f.yWithoutScale*h,o.setViewBox([s[0]+f.x,s[1]+f.y,s[2],s[3]]),n&&n(f),u+=1},10)}}else console.error("movePosition parameter not defined")},e.prototype.moveEnd=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null)},e===void 0&&(e={}),e.node=function(t,n,i,r){this.templateName=r,this.id=t,this.pid=n,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=i,this.tags||(this.tags=[])},e.prototype._mouseDownHandler=function(t,n,i){var r=this;e.HIDE_EDIT_FORM_ON_PAN&&this.editUI.hide(),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var o=this.getViewBox(),s=this.getScale(),l=e._getClientTouchesXY(n,0),c=e._getClientTouchesXY(n,1),d={diffX:0,diffY:0,x0:l.x,y0:l.y,type:"pan",viewBoxLeft:o[0],viewBoxTop:o[1]};n.touches&&n.touches.length>1&&(d.type="pinch",d.dist=Math.sqrt((l.x-c.x)*(l.x-c.x)+(l.y-c.y)*(l.y-c.y))),d.type=="pan"&&(this._hideBeforeAnimation(),this._changeCursorOnPanStart(o,s,n));var u=function(h){var p=e._getClientTouchesXY(h,0);if(d&&d.type=="pan"){r._hideBeforeAnimation(),d.diffX=p.x-d.x0,d.diffY=p.y-d.y0;var g=-d.diffY/s+d.viewBoxTop,v=-d.diffX/s+d.viewBoxLeft;r._move(g,v,o)}else if(d&&d.type=="pinch"){var _=e._getClientTouchesXY(h,1),w=Math.sqrt((p.x-_.x)*(p.x-_.x)+(p.y-_.y)*(p.y-_.y)),m=1+(w-d.dist)/(d.dist/100)/100;d.dist=w;var x=e._pinchMiddlePointInPercent(r.element,r.width(),r.height(),h);r.zoom(m,x)}},f=function(){d.type=="pan"&&r.config.sticky?setTimeout(function(){e._moveToBoundaryArea(t,r.getViewBox(),r.response.boundary,function(){r._draw(!0,e.action.pan)})},0):d.type!="pan"||r.config.sticky||setTimeout(function(){r._draw(!0,e.action.pan)},0),d.type=="pan"&&r._changeCursorOnPanEnd(),d=null,t.removeEventListener(i.move,u),t.removeEventListener(i.up,f),i.leave&&t.removeEventListener(i.leave,f),i.touchstart&&t.removeEventListener(i.touchstart,f)};this.config.enablePan&&(t.addEventListener(i.move,u),t.addEventListener(i.up,f),i.leave&&t.addEventListener(i.leave,f),i.touchstart&&t.addEventListener(i.touchstart,f))},e.prototype._changeCursorOnPanStart=function(t,n,i){var r=this.getPointerElement(),o=e._getOffsetXY(this.element,i),s=o.x/n+t[0]-16/n,l=o.y/n+t[1]-16/n;r.style.display="inherit",r.setAttribute("transform","matrix(0,0,0,0,"+s+","+l+")"),e.animate(r,{transform:[0,0,0,0,s,l],opacity:0},{transform:[1/n,0,0,1/n,s,l],opacity:1},300,e.anim.outBack)},e.prototype._changeCursorOnPanEnd=function(){this.getPointerElement().style.display="none"},e.searchUI=function(){this.lastSearch=[],this._searchAfterEnterPress=!1,this._event_id=e._guid(),this.instance=null},e.searchUI.prototype.init=function(t){this.instance=t,this.obj=this.instance,this._initSearchFields();var n=this,i=this.instance.config.padding-10,r=this.instance.config.padding-10,o=this.instance.getMenuButton();if(o){var s=o.getBoundingClientRect(),l=this.instance.getSvg().getBoundingClientRect();i=l.right-s.left+10,r=s.top-l.top-10}var c=document.createElement("div");c.classList.add("bft-search"),c.style.right=i+"px",c.style.top=r+"px";var d=e.elements.textbox({},{label:e.SEARCH_PLACEHOLDER,btn:"X"},"320px");c.innerHTML+=d.html,this.xBtn=c.querySelector("[data-input-btn]"),this.xBtn.style.display="none",this.searchTableWrapper=document.createElement("div"),c.appendChild(this.searchTableWrapper);var u=this.instance.getSvg().nextSibling;this.instance.element.insertBefore(c,u),e.input.init(c),this.input=document.getElementById(d.id),this.xBtn.addEventListener("click",function(p){p.preventDefault(),n.hide()}),this.input.addEventListener("keypress",function(p){p.key=="Enter"&&p.preventDefault()}),this.input.addEventListener("focus",function(p){n.xBtn.style.display="",n._search()}),this.input.addEventListener("blur",function(p){e.isNEU(n.input.value)&&e.SEARCH_HELP_SYMBOL!=n.input.value&&(n.xBtn.style.display="none")}),this.input.addEventListener("keydown",function(p){(p.key=="ArrowDown"||p.key=="ArrowUp")&&p.preventDefault()}),this.input.addEventListener("keyup",function(p){p.key=="ArrowDown"?f():p.key=="ArrowUp"?h():p.key=="Enter"?n._enterHandler():p.key=="Escape"?n.hide():this.value.length>=e.MINIMUM_SYMBOLS_IN_SEARCH_INPUT&&n._search()});var f=function(){var p=n.instance.element.querySelectorAll("[data-search-item-id]"),g=n.instance.element.querySelector('[data-selected="yes"]');g==null&&p.length>0?p[0].setAttribute("data-selected","yes"):p.length>0&&g.nextSibling&&g.nextSibling.setAttribute&&(g.removeAttribute("data-selected"),g.nextSibling.setAttribute("data-selected","yes"))},h=function(){var p=n.instance.element.querySelectorAll("[data-search-item-id]"),g=n.instance.element.querySelector('[data-selected="yes"]');g==null&&p.length>0?p[p.length-1].setAttribute("data-selected","yes"):p.length>0&&g.previousSibling&&g.previousSibling.setAttribute&&(g.removeAttribute("data-selected"),g.previousSibling.setAttribute("data-selected","yes"))}},e.searchUI.prototype._enterHandler=function(){var t=this.instance.element.querySelector('[data-selected="yes"]');if(t){if(t.hasAttribute("data-search-item-id")){var n=t.getAttribute("data-search-item-id");if(this.input.value!=e.SEARCH_HELP_SYMBOL){var i=e.events.publish("",[this.instance,n]),r=e.events.publish("searchclick",[this,{nodeId:n}]);i===!1&&(r=!1),r!=0&&this.instance.center(n)}else this.input.value=n+" ",this.searchTableWrapper.innerHTML=""}}else this._searchAfterEnterPress=!0,this.__search(),this.searchTableWrapper.innerHTML="",this.instance.draw()},e.searchUI.prototype._initSearchFields=function(){if(this.instance.config.searchFields==null){this._searchFields=[];for(var t=0;t<this.instance.response.allFields.length;t++){var n=this.instance.response.allFields[t];n=="tags"||e._fieldIsImg(this.instance.config,n)||this._searchFields.indexOf(n)==-1&&this._searchFields.push(n)}}else this._searchFields=this.instance.config.searchFields;if(this.instance.config.searchFieldsAbbreviation==null)for(this.searchFieldsAbbreviation={},t=0;t<this._searchFields.length;t++){for(var i=this._searchFields[t],r=0,o=i.slice(0,r+1).toLowerCase();this.searchFieldsAbbreviation[o];)r++,o=i.slice(0,r+1).toLowerCase();this.searchFieldsAbbreviation[o]=i}else this.searchFieldsAbbreviation=this.instance.config.searchFieldsAbbreviation;this._searchFieldsAbbreviation=this.searchFieldsAbbreviation},e.searchUI.prototype.find=function(t){this.input&&(this.input.value=t,document.activeElement==this.input?this._search(t):this.input.focus())},e.searchUI.prototype.addMatchTag=function(t){if(this._searchAfterEnterPress){for(var n=0;n<this.lastSearch.length;n++)if(this.lastSearch[n].id==t)return!0;return!1}return null},e.searchUI.prototype.__search=function(){this.lastSearch=e._search.search(this.instance.config.nodes,this.input.value,this._searchFields,this._searchFields,this.instance.config.searchDisplayField,this.instance.config.searchFieldsWeight,this.searchFieldsAbbreviation)},e.searchUI.prototype._search=function(){var t,n=this;if(this._searchAfterEnterPress=!1,this.input.value==e.SEARCH_HELP_SYMBOL)t=this.helpView();else{this.__search();var i=e._getFistImgField(this.instance.config);t=`<table border="0" cellspacing="0" cellpadding="0">
                        <tbody>
                            ${function(){for(var s="",l=0;l<n.lastSearch.length&&!(l>=e.SEARCH_RESULT_LIMIT);l++){var c=n.lastSearch[l],d="";if(i){var u=n.instance._get(c.id);typeof i=="function"?d=i(n.instance,n.instance.getNode(c.id),u):u[i]&&(d=u[i])}var f="",h="";n.instance.config.searchDisplayField==c.__searchField?f=c.__searchMarks:n.instance.config.searchDisplayField?(f=c[n.instance.config.searchDisplayField],e.isNEU(f)&&(f=""),h=c.__searchMarks):f=c.__searchMarks;var p={img:d,nodeId:c.id,first:f,second:h,searchItem:c,html:e.searchUI.createItem(d,c.id,f,h)};e.events.publish("add-item",[n,p]),s+=p.html}return s}()}  
                        </tbody>
                    </table>`}this.searchTableWrapper.innerHTML=t;for(var r=this.instance.element.querySelectorAll("[data-search-item-id]"),o=0;o<r.length;o++)r[o].addEventListener("click",function(){if(this.hasAttribute("data-search-item-id")){var s=this.getAttribute("data-search-item-id");if(n.input.value!=e.SEARCH_HELP_SYMBOL){var l=e.events.publish("searchclick",[n.instance,s]),c=e.events.publish("searchclick",[n,{nodeId:s}]);if(l===!1&&(c=!1),c!==!1){n.instance.center(this.getAttribute("data-search-item-id"));var d=n.instance.element.querySelector('[data-selected="yes"]');d&&d.removeAttribute("data-selected"),this.setAttribute("data-selected","yes"),n.input.focus()}}else n.input.value=s+" ",n.searchTableWrapper.innerHTML="",n.input.focus()}});e.events.publish("show-items",[this,{}])},e.searchUI.prototype.helpView=function(){var t='<table border="0" cellspacing="0" cellpadding="0">';for(var n in this.searchFieldsAbbreviation)t+=`<tr data-search-item-id="${n}" style="height: 50px;"><td class="bft-search-image-td" style="text-align: center;">${n}</td><td class="bft-search-text-td">${this.searchFieldsAbbreviation[n]}</td></tr>`;return t+="</table>"},e.searchUI.createItem=function(t,n,i,r){return i&&(i="<b>"+i+"</b>"),`<tr data-search-item-id="${n}">
                <td class="bft-search-image-td">
                    ${t=t?`<div class="bft-search-photo" style="background-image: url(${t})"></div>`:`<div class="bft-search-photo">${e.icon.user(32,32,"#aeaeae")}</div>`}
                </td>
                <td class="bft-search-text-td">${i} <br/>${r}</td>
            </tr>`},e.searchUI.prototype.hide=function(){if(e.events.publish("hide",[this])===!1)return!1;this._searchAfterEnterPress&&(this._searchAfterEnterPress=!1,this.instance.draw()),this.lastSearch=[],this.xBtn&&(this.xBtn.style.display="none"),this.searchTableWrapper&&(this.searchTableWrapper.innerHTML=""),this.input&&(this.input.value="",document.activeElement==this.input&&this.input.blur(),document.activeElement==this.xBtn&&e.input.blurHandler(this.input))},e.searchUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e===void 0&&(e={}),e.manager=function(t){this.config=t.config,this.layoutConfigs=t._layoutConfigs,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1,this.rootList=[],this.instance=t,this._fixAdjustForExport={x:0,y:0}},e.manager.prototype.read=function(t,n,i,r,o,s,l,c){var d=this;e.state._get(this.config.state,n,i,function(u){d.state=u,d.action=o,d.actionParams=s,o!=e.action.init||!d.state||s&&s.method&&s.method=="fit"?(d.viewBox=r,d.vbIsInitializedFromState=!1):(d.viewBox=d.state.vb,d.vbIsInitializedFromState=!0,Array.isArray(d.state.roots)&&(d.config.roots=d.state.roots));var f=d.maxX,h=d.maxY,p=d.minX,g=d.minY,v=d.bordersByRootIdAndLevel,_=d.roots,w=d.nodes;if(t){var m=e.manager._getResponse(n,i,d.visibleNodeIds,d.config,f,h,p,g,d.viewBox,_,d.action,d.actionParams,w,d.oldNodes,d.vbIsInitializedFromState);o!=e.action.exporting&&(d.maxX=f,d.maxY=h,d.minX=p,d.minY=g,d.roots=_,d.nodes=w,d.visibleNodeIds=m.visibleNodeIds),m.bordersByRootIdAndLevel=v,m.roots=_,m.adjustify={x:0,y:0},d.state&&(m.adjustify=d.state.adjustify),l(m)}else d.oldNodes=w||null,d._read(function(x){f=x.maxX,h=x.maxY,p=x.minX,g=x.minY,v=x.bordersByRootIdAndLevel,_=x.roots,w=x.nodes;var y=e.manager._getResponse(n,i,d.visibleNodeIds,d.config,f,h,p,g,d.viewBox,_,d.action,d.actionParams,w,d.oldNodes,d.vbIsInitializedFromState);y.notif=x.limit,y.roots=_,y.bordersByRootIdAndLevel=v,y.adjustify=x.adjustify,o!=e.action.exporting&&(d.maxX=f,d.maxY=h,d.minX=p,d.minY=g,d.roots=_,d.nodes=w,d.visibleNodeIds=y.visibleNodeIds,d.bordersByRootIdAndLevel=v,d.rootList=x.rootList),l(y)},c)})},e.manager.prototype._read=function(t,n){var i=this,r=e.manager._createNodes(this.instance);n(r);var o=r.nodes,s=r.roots,l=e.remote;l==null&&(l=e.local),l._setPositions(s,i.layoutConfigs,function(c){var d=e.manager._doNotChangePositionOfClickedNodeIfAny(s,o,i.action,i.actionParams,i.oldNodes,i.config.orientation);i.state&&i.action==e.action.init&&(d=i.state.adjustify),i.action==e.action.exporting?d=i._fixAdjustForExport:i._fixAdjustForExport=d;for(var u={minX:null,minY:null,maxX:null,maxY:null},f={},h=[],p=0;p<s.length;p++)e.manager._setMinMaxXYAdjustifyIterate(s[p],s[p],u,0,f,d,i.config.orientation,h);for(var g in h)for(var v in h[g]){var _=f[g][v],w=h[g][v];_.minX==null&&_.minY==null&&_.maxX==null&&_.maxY==null&&e._setMinMaxXY(w,_)}t({minX:u.minX,minY:u.minY,maxX:u.maxX,maxY:u.maxY,bordersByRootIdAndLevel:f,nodes:o,roots:s,rootList:r.rootList,limit:c,adjustify:d})},o)},e===void 0&&(e={}),e.manager._initDinamicNode=function(t,n,i){n&&(t.lcn=n),i&&(t.isAssistant=!0);var r=e.t(t.templateName);t.w=r&&r.size?r.size[0]:0,t.h=r&&r.size?r.size[1]:0,t.isSplit=t.templateName=="split",t.isMirror=t.templateName=="mirror",t.isSubLevel=t.templateName=="subLevel"},e.manager._setCollpasedProperty=function(t,n,i,r,o,s,l){t.collapsed==null&&n.collapse&&n.collapse.allChildren?t.collapsed=!0:t.collapsed==null&&(t.collapsed=!1),o==e.action.expand&&i.ids.indexOf(t.id)!=-1&&(t.collapsed=!1),o==e.action.collapse&&(i.expandIds||i.collapseIds)?i.expandIds&&i.expandIds.indexOf(t.id)!=-1?t.collapsed=!1:i.collapseIds&&i.collapseIds.indexOf(t.id)!=-1&&(t.collapsed=!0):o==e.action.collapse&&i.ids.indexOf(t.id)!=-1&&(t.collapsed=!0),o==e.action.expand&&i.ids=="all"&&(t.collapsed=!1),o==e.action.exporting&&i.expandChildren&&(t.collapsed=!1),o==e.action.init&&l!=null?t.collapsed=!l.exp.has(t.id):o==e.action.init?t.tags.indexOf("left-partner")!=-1||t.tags.indexOf("right-partner")!=-1||t.tags.indexOf("partner")!=-1||t.parentPartner?t.collapsed=n.collapse&&s>=n.collapse.level&&r.indexOf(t.id)==-1:t.collapsed=n.collapse&&s>=n.collapse.level-1&&r.indexOf(t.id)==-1:o==e.action.centerNode||o==e.action.insert||o==e.action.expand||o==e.action.collapse?r.has(t.id)&&(t.collapsed=!1):o==e.action.update&&i&&i.changeRoots&&i.changeRoots.has(t.id)&&(t.collapsed=!1)},e.manager._initNode=function(t,n,i,r,o,s,l){var c=l.manager.config,d=l.manager.layoutConfigs,u=l.manager.action,f=l.manager.actionParams,h=l.manager.state,p=d[i||"base"];t.parent==null&&e.manager._setCollpasedProperty(t,p,f,o,u,r-1,h);for(var g=0;g<t.childrenIds.length;g++){var v=n[t.childrenIds[g]];if(e.manager._setCollpasedProperty(v,p,f,o,u,r,h),!v.collapsed){if(v.parent=t,v.ppid!=null){var _=n[v.ppid];_&&(v.parentPartner=_)}(v.tags.indexOf("left-partner")!=-1||v.tags.indexOf("right-partner")!=-1||v.tags.indexOf("partner")!=-1||v.parentPartner)&&s.indexOf(t.id)==-1&&s.push(t.id),t.children.push(v)}}if(u!=e.action.minimize||t.min?u==e.action.maximize&&t.min===!0?(f.all||f.id==t.id)&&(t.min=!1):u==e.action.exporting&&f.min===!1?t.min=!1:u==e.action.init&&h!=null&&(t.min=h.min.has(t.id)):(f.all||f.id==t.id)&&(t.min=!0),!t.min)for(g=0;g<t.stChildrenIds.length;g++)v=n[t.stChildrenIds[g]],t.tags&&t.tags.has("filter")||(v.stParent=t,t.stChildren.push(v));r!=null&&(t.level=r),i&&(t.lcn=i);var w=e._getSubLevels(t.tags,c.tags);w>0&&(t.subLevels=w),t.tags.indexOf("assistant")!=-1&&t.parent!=null&&(t.isAssistant=!0);var m=e.t(t.templateName,t.min);t.w=m&&m.size?m.size[0]:0,t.h=m&&m.size?m.size[1]:0,t.padding=m&&m.padding?m.padding:[0,0,0,0];var x={node:t};e.events.publish("node-initialized",[l,x])},e.manager._iterate=function(t,n,i,r,o,s,l,c,d,u,f,h){var p=h.manager.layoutConfigs;if(e.manager._initNode(n,i,d,r,u,f,h),n.isAssistant&&(s[n.pid]||(s[n.pid]=[]),s[n.pid].push(n.id)),n.subLevels>0&&l.push(n.id),e.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN&&!n.isAssistant&&n.parent){if(n.parent&&n.parent.children.length&&n.parent.children[n.parent.children.length-1]==n){for(var g=[],v=0,_=0,w=0;w<n.parent.children.length;w++)(m=n.parent.children[w]).tags.indexOf("partner")==-1&&m.tags.indexOf("left-partner")==-1&&m.tags.indexOf("right-partner")==-1&&m.tags.indexOf("assistant")==-1&&m.children.length==0?g.push(m.id):m.tags.indexOf("assistant")!=-1?v++:m.tags.indexOf("partner")==-1&&m.tags.indexOf("left-partner")==-1&&m.tags.indexOf("right-partner")==-1||_++;(e.MIXED_LAYOUT_ALL_NODES&&g.length>1&&g.length==n.parent.children.length-v-_||!e.MIXED_LAYOUT_ALL_NODES&&g.length>1)&&(c[n.pid]=g)}}else if(!n.isAssistant&&n.childrenIds.length==0&&n.parent&&!c[n.pid]){for(g=[],v=0,_=0,w=0;w<n.parent.children.length;w++){var m;(m=n.parent.children[w]).tags.indexOf("partner")==-1&&m.tags.indexOf("left-partner")==-1&&m.tags.indexOf("right-partner")==-1&&m.tags.indexOf("assistant")==-1&&m.childrenIds.length==0?g.push(m.id):m.tags.indexOf("assistant")!=-1?v++:m.tags.indexOf("partner")==-1&&m.tags.indexOf("left-partner")==-1&&m.tags.indexOf("right-partner")==-1||_++}(e.MIXED_LAYOUT_ALL_NODES&&g.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&g.length==n.parent.childrenIds.length-v-_||!e.MIXED_LAYOUT_ALL_NODES&&g.length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN)&&(c[n.pid]=g)}n.stChildren.length&&(t.stContainerNodes||(t.stContainerNodes=[]),t.stContainerNodes.push(n));for(var x=0;x<n.stChildren.length;x++){var y="";for(w=0;w<n.tags.length;w++)if(p[n.tags[w]]){y=n.tags[w];break}o.push(n.stChildren[x].id),e.manager._iterate(t,n.stChildren[x],i,0,o,s,l,c,y,u,f,h)}for(r++,x=0;x<n.children.length;x++)e.manager._iterate(t,n.children[x],i,r,o,s,l,c,d,u,f,h)},e.manager.__createNodes=function(t,n,i,r,o,s,l,c){for(var d=[],u=e._addDottedLines(i),f=0;f<u.length;f++){var h,p=u[f];h=e.STRING_TAGS?p.tags?p.tags.split(","):[]:Array.isArray(p.tags)?p.tags.slice(0):[],c.filterUI.addFilterTag(p)&&h.unshift("filter");var g=c.searchUI.addMatchTag(p.id);g===!0?h.unshift("match"):g===!1&&h.unshift("no-match");var v=e._getTemplate(h,i.tags,i.template),_=new e.node(p.id,p.pid,h,v);e.isNEU(p.ppid)||(_.ppid=p.ppid),e.isNEU(p.stpid)||(_.stpid=p.stpid),i.orderBy!=null&&(_.order=e.manager._getOrderFieldValue(p,i.orderBy)),p.movex!=null&&(_.movex=p.movex),p.movey!=null&&(_.movey=p.movey),t[p.id]=_,d.push(p.id)}for(i.orderBy!=null&&d.sort(function(C,E){var N=t[C].order,L=t[E].order;return typeof N=="number"||typeof L=="number"?(N==null&&(N=-1),L==null&&(L=-1),i.orderBy.desc?L-N:N-L):typeof N=="string"||typeof L=="string"?(N==null&&(N=""),L==null&&(L=""),i.orderBy.desc?L.localeCompare(N):N.localeCompare(L)):void 0}),f=0;f<d.length;f++){var w=d[f],m=(_=t[w],s?s[w]:null),x=t[_.stpid],y=t[_.pid];if(x||(_.stpid=null),y||(_.pid=null),x){var b=s?s[x.id]:null;b&&(x.min=b.min),x.stChildrenIds.push(_.id)}else y?(m&&(_.collapsed=m.collapsed,_.min=m.min),y.childrenIds.push(_.id)):(m&&(_.collapsed=m.collapsed,_.min=m.min),n.push(_),l.push(_.id));r==e.action.init&&(_.min=e._getMin(_,i))}},e.manager._createNodes=function(t){var n=t.manager.config,i=t.manager.layoutConfigs,r=t.manager.action,o=t.manager.actionParams,s=t.manager.oldNodes,l=t.manager.state,c={},d=[],u=[];if(e.manager.__createNodes(c,d,n,r,o,s,u,t),n.roots!=null){d=[];for(var f=0;f<n.roots.length;f++){var h=c[n.roots[f]];if(h&&r==e.action.centerNode){for(var p=h;p.pid!=null||p.stpid!=null;)p=p.pid==null&&p.stpid!=null?c[p.stpid]:c[p.pid];for(var g=c[o.id];(g.pid!=null||g.stpid!=null)&&g!=h;)g=g.pid==null&&g.stpid!=null?c[g.stpid]:c[g.pid];p==g&&(h=p)}if(h){for(var v=!1,_=0;_<d.length;_++)if(d[_].id==h.id){v=!0;break}v||(e.isNEU(h.pid)||(Ie=(x=c[h.pid]).childrenIds.indexOf(h.id))>-1&&x.childrenIds.splice(Ie,1),d.push(h))}}for(n.roots=[],f=0;f<d.length;f++)n.roots.push(d[f].id)}r==e.action.exporting&&o.id!=null&&(m=c[o.id])&&(m.pid=null,d=[m]);var w=[];if(r==e.action.init&&n.expand&&n.expand.nodes&&l==null)for(f=0;f<n.expand.nodes.length;f++){var m=c[n.expand.nodes[f]];for(n.expand.allChildren===!0&&e.manager._addExpandedNodeIdsIterate(m,c,w);m;)w.push(m.id),m.pid==null&&m.stpid!=null?(m=c[m.stpid]).min=!1:m=c[m.pid]}else if(r==e.action.expand&&o.ids&&o.ids!="all"||r==e.action.collapse&&o&&o.expandIds)for(z=r==e.action.expand?o.ids:o.expandIds,f=0;f<z.length;f++)for(var x=c[(m=c[z[f]]).pid];x;)w.push(x.id),x.pid==null&&x.stpid!=null?(x=c[x.stpid]).min=!1:x=c[x.pid];else if(r==e.action.centerNode){for(var y=c[o.id];y;){if(w.push(y.id),o.options.parentState===e.COLLAPSE_PARENT_NEIGHBORS&&y)for(f=0;f<y.childrenIds.length;f++)(B=c[y.childrenIds[f]]).collapsed=!0;y.pid==null&&y.stpid!=null?(y=c[y.stpid]).min=!1:y=c[y.pid]}if(y=c[o.id],o.options.childrenState===e.COLLAPSE_SUB_CHILDRENS)for(f=0;f<y.childrenIds.length;f++){(C=c[y.childrenIds[f]]).collapsed=!1;for(var b=0;b<C.childrenIds.length;b++)c[C.childrenIds[b]].collapsed=!0}if(o.options.parentState===e.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(x=c[y.pid]))for(f=0;f<x.childrenIds.length;f++){var C;if((C=c[x.childrenIds[f]])!=y)for(C.collapsed=!1,b=0;b<C.childrenIds.length;b++)c[C.childrenIds[b]].collapsed=!0}}else if(r==e.action.insert)for(m=c[o.insertedNodeId];m;)w.push(m.id),m.pid==null&&m.stpid!=null?(m=c[m.stpid]).min=!1:m=c[m.pid];var E=[],N={},L=[],O={},X=[];for(f=0;f<d.length;f++)e.manager._iterate(d[f],d[f],c,0,E,N,L,O,"",w,X,t);if(r==e.action.collapse&&o&&Array.isArray(o.expandIds)&&Array.isArray(o.collapseIds))for(f=0;f<o.ids.length;f++)o.expandIds.has(o.collapseIds[f])?console.error(`id ${o.collapseIds[f]} exist in both collapseIds and expandIds`):(m=c[o.collapseIds[f]])&&(m.collapsed=!0);for(f=d.length-1;f>=0;f--)d[f].collapsed&&d.splice(f,1);for(f=0;f<X.length;f++){m=c[X[f]];var T=[],$=[],G=[],te={},K=0,H=0,F=0,W=[],ie=[];for(b=0;b<m.children.length;b++)(B=m.children[b]).isAssistant?T.push(B.id):B.tags.indexOf("right-partner")!=-1?(B.isPartner=1,B.children=[],$.push(B.id)):B.tags.indexOf("left-partner")!=-1?(B.isPartner=2,B.children=[],G.push(B.id)):B.tags.indexOf("partner")==-1||K%2?B.tags.indexOf("partner")!=-1&&K%2?(B.isPartner=2,B.children=[],G.push(B.id),K++):B.parentPartner?(te[B.parentPartner.id]||(te[B.parentPartner.id]=[]),te[B.parentPartner.id].push(B.id)):T.push(B.id):(B.isPartner=1,B.children=[],$.push(B.id),K++);m.children=[];var Z=[];for(b=0;b<$.length;b++){te[(B=c[$[b]]).id]?m.children.push(B):m.children.splice(0,0,B);for(var re=0;re<B.childrenIds.length;re++)Z.push(B.childrenIds[re])}var ue=[];for(b=0;b<G.length;b++)for(te[(B=c[G[b]]).id]?m.children.push(B):m.children.splice(0,0,B),re=0;re<B.childrenIds.length;re++)ue.push(B.childrenIds[re]);for(b=0;b<ue.length;b++)(B=c[ue[b]]).collapsed||(B.parentPartner=B.parent,B.parent=m,B.isChildOfPartner=!0,m.children.push(B));for(b=G.length-1;b>=0;b--)if(te[G[b]])for(_=0;_<te[G[b]].length;_++)m.children.push(c[te[G[b]][_]]),H++,ie.indexOf(G[b])==-1&&ie.push(G[b]);for(b=0;b<T.length;b++){var B=c[T[b]];m.children.push(B)}for(b=0;b<$.length;b++)if(te[$[b]])for(_=0;_<te[$[b]].length;_++)m.children.push(c[te[$[b]][_]]),F++,W.indexOf($[b])==-1&&W.push($[b]);for(b=0;b<Z.length;b++)(B=c[Z[b]]).collapsed||(B.parentPartner=B.parent,B.parent=m,B.isChildOfPartner=!0,m.children.push(B));m.partnerSeparation=Math.max(ie.length,W.length)*n.partnerChildrenSplitSeparation+n.minPartnerSeparation,T.length||!H||F?T.length||H||!F?T.length||H!=1||F!=1?T.length||H||F?!T.length||H||F?T.length&&(H||F)?m.hasPartners=7:m.hasPartners=1:m.hasPartners=6:m.hasPartners=5:m.hasPartners=4:m.hasPartners=3:m.hasPartners=2}for(f=0;f<L.length;f++){var oe=i[(m=c[L[f]]).lcn?m.lcn:"base"];for(b=0;b<m.subLevels;b++){var A=new e.node(m.id+"_sub_level_index_"+b,m.pid,[],"subLevel");e.manager._initDinamicNode(A,m.lcn),(x=m.parent)&&((Ie=x.children.indexOf(m))>-1&&(x.children.splice(Ie,1),x.children.splice(Ie,0,A)),A.children.push(m),A.parent=x,m.parent=A,c[A.id]=A)}}for(var V in N){(x=c[V]).hasAssistants=!0,A=new e.node(x.id+"_split_assitant_0",x.id,["assistant"],"split"),e.manager._initDinamicNode(A,x.lcn,!0),c[A.id]=A;var j=[];for(b=x.children.length-1;b>=0;b--)(B=x.children[b]).isAssistant?(B.parent=null,x.children.splice(b,1),j.splice(0,0,B.id)):B.isPartner||(B.parent&&O[B.parent.id]&&A&&B.parent.id!=A.id&&(Object.defineProperty(O,A.id,Object.getOwnPropertyDescriptor(O,B.parent.id)),delete O[B.parent.id]),B.parent=A,A.children.unshift(B),x.children.splice(b,1));if(j.length%2){var Q=c[j[j.length-1]],fe=new e.node(Q.id+"_mirror",x.pid,[],"mirror");e.manager._initDinamicNode(fe,Q.lcn,!0),fe.isAssistant=!0,fe.w=Q.w,fe.h=Q.h,c[fe.id]=fe,j.splice(j.length-1,0,fe.id)}var S=1;for(b=j.length-1;b>=0;b--)if(b%2&&b!=j.length-1){var k=new e.node(x.id+"_split_assitant_"+S,x.pid,[],"split");e.manager._initDinamicNode(k,x.lcn,!0),c[k.id]=k,j.splice(b,0,k.id),S++}else b%2&&j.splice(b,0,A.id);for(b=0;b<j.length;b+=3){var I=null;I=b==0?x:c[j[b-2]];var M=c[j[b]],U=c[j[b+1]],P=c[j[b+2]];M.parent=I,U.parent=I,P.parent=I,I.children.push(M),I.children.push(U),I.children.push(P)}}var Y=!1;for(var q in i)if((oe=i[q]).layout!=0){Y=!0;break}var D=e.events.has("node-layout",t._event_id);if(Y||D){var R={nodes:c,config:n,action:r,actionParams:o};if(L.length){var J=!1;for(var V in O){var z=O[V];for(f=0;f<z.length;f++)if((m=c[z[f]]).subLevels){J=!0;break}if(J)break}if(J){var ee={},ne={},ce={};for(var V in O){z=O[V];var he=!1,ae=null;for(f=0;f<z.length;f++){var ge=z[f];(ae===null||L.has(ge))&&(ae=c[ge].parent.id,he||e.isNEU(c[ge].subLevels)||(he=c[ge].subLevels>0)),ee[ae]||(ee[ae]=[]),ee[ae].push(ge),he&&(ce[ae]=V,ne[ae]||(ne[ae]=[]),ne[ae].push(ge))}}for(var V in O={},ne)if(ne[V].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN){var we=ce[V];for(f=c[we].children.length-1;f>=0;f--)B=c[we].children[f],ne[V].has(B.id)&&c[we].children.splice(f,1)}for(var V in ee)ee[V].length>e.MIXED_LAYOUT_IF_NUMBER_OF_CHILDREN_IS_MORE_THEN&&(O[V]=ee[V])}}for(var V in O){for(var pe=x=c[V];pe.isSplit;)pe=c[pe.pid];for(;pe.isSubLevel;)pe=c[pe.pid];if((oe=i[x.lcn?x.lcn:"base"]).layout!=0||D){R.pnode=x,R.layout=oe.layout,R.layoutGridColumns=n.layoutGridColumns,R.childrenIds=O[V],R.lastChildrenPidIds=O,R.subLevels=0,R.layouts=[],e.events.publish("node-layout",[t,R]),e.events.publish("layout",[R]),R.layouts.length||R.layouts.push({layout:R.layout,childrenIds:R.childrenIds,subLevels:R.subLevels,layoutGridColumns:R.layoutGridColumns});for(var Ne=0;Ne<R.layouts.length;Ne++){var se=R.layouts[Ne];for(e.isNEU(se.subLevels)&&(se.subLevels=0),e.isNEU(se.layout)&&(se.layout=oe.layout),pe=x=c[V];pe.isSplit;)pe=c[pe.pid];for(;pe.isSubLevel;)pe=c[pe.pid];var Ye=x;for(b=0;b<se.subLevels;b++)A=new e.node(Ne+"_sublevel_layout_"+b,Ye.id,[],"subLevel"),e.manager._initDinamicNode(A,Ye.lcn),A.parent=Ye,Ye.children.push(A),c[A.id]=A,Ye=A;if(se.subLevels){for(b=0;b<se.childrenIds.length;b++){var Ie;B=c[se.childrenIds[b]],(Ie=x.children.indexOf(B))!=-1&&x.children.splice(Ie,1),B.parent=Ye,Ye.children.push(B)}x=Ye}if(se.layout==e.layout.grid&&se.childrenIds.length>2){se.layoutGridColumns=="dynamic"&&(se.layoutGridColumns=e._getDynamicGridCoulumns(se.childrenIds.length));var Le=x.id;for(f=x.children.length-1;f>=0;f--)for(b=0;b<se.childrenIds.length;b++)if(ge=se.childrenIds[b],x.children[f].id==ge){x.children.splice(f,1);break}var Xe=se.layoutGridColumns;for(Xe%2!=0&&Xe>2&&Xe--,f=0;f<se.childrenIds.length;f+=Xe){var yt=null;for(b=0;b<Xe;b++){var qo=f+Xe>=se.childrenIds.length;if(se.childrenIds.length-1<f+b)break;(B=c[ge=se.childrenIds[f+b]]).parent=c[Le],c[Le].children.push(B),qo||(Xe/2-1==b&&(yt=new e.node(se.childrenIds[f+b-1]+"_grid_pseudo_node_"+se.childrenIds[f+b+1],Le,[],"subLevel"),e.manager._initDinamicNode(yt,x.lcn),yt.parent=c[Le],c[Le].children.push(yt),c[yt.id]=yt),Xe-1==b&&(Le=yt.id))}}}if(se.layout==e.layout.mixed){var Un=se.childrenIds;for(f=Un.length-1;f>=0;f--){for(x=(B=c[Un[f]]).parent,B.layout=e.layout.mixed,b=x.children.length-1;b>=0;b--)if(B.id==x.children[b].id){x.children.splice(b,1);break}if(f>0){var Ri=c[Un[f-1]];B.parent=Ri,B.layout=e.layout.mixed,Ri.children.push(B)}else x.children.push(B)}}else if(se.layout>1){A=new e.node(Ne+"_"+x.id+"_split_0",pe.id,[],"split"),e.manager._initDinamicNode(A,x.lcn),c[A.id]=A,A.layout=se.layout;var Ue=[];for(f=se.childrenIds.length-1;f>=0;f--){for(B=c[se.childrenIds[f]],b=0;b<x.children.length;b++)x.children[b].id==B.id&&x.children.splice(b,1);if(B.parent=null,B.layout=se.layout,se.layout!=e.layout.treeRightOffset&&se.layout!=e.layout.treeRight||Ue.splice(0,0,B.id),se.layout>2){var $t=new e.node(Ne+"_"+B.id+"_mirror",pe.id,[],"mirror");e.manager._initDinamicNode($t,B.lcn),$t.layout=se.layout,c[$t.id]=$t,Ue.splice(0,0,$t.id)}se.layout!=e.layout.treeRightOffset&&se.layout!=e.layout.treeRight&&Ue.splice(0,0,B.id)}for(S=1,b=Ue.length-1;b>=0;b--)b%2&&b!=Ue.length-1?(k=new e.node(Ne+"_"+x.id+"_split_"+S,pe.id,[],"split"),e.manager._initDinamicNode(k,x.lcn),k.layout=se.layout,c[k.id]=k,Ue.splice(b,0,k.id),S++):b%2&&Ue.splice(b,0,A.id);for(b=0;b<Ue.length;b+=3)I=null,b==0&&(I=x),M=c[Ue[b]],U=c[Ue[b+1]],P=c[Ue[b+2]],b!=0&&(I=c[Ue[b-3]]),b==0||U||(I=c[Ue[b-2]]),M.parent=I,I.children.push(M),U&&(b!=0&&(I=c[Ue[b-2]]),U.parent=I,I.children.push(U)),P&&(b!=0&&(I=c[Ue[b-1]]),P.parent=I,I.children.push(P))}}}}}if(e.VERTICAL_CHILDREN_ASSISTANT)for(f=0;f<d.length;f++)e.manager._verticalAssistantIterate(d[f],c);return R={nodes:c,roots:d},e.events.publish("nodes-initialized",[t,R]),{nodes:R.nodes,roots:R.roots,rootList:u}},e.manager._getOrderFieldValue=function(t,n){var i=n;return n.field&&(i=n.field),t[i]},e.manager._getNodeWidth=function(t,n){switch(n.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:return t.w;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:return t.h}return 0},e.manager._isVisible=function(t,n,i,r){if(t.x!=null&&t.y!=null){if(n.lazyLoading&&r!==e.action.exporting){let s=function(l,c){var d=l.x,u=l.y,f=l.w,h=l.h,p=c[0]-e.LAZY_LOADING_FACTOR,g=c[2]+e.LAZY_LOADING_FACTOR+c[0],v=c[1]-e.LAZY_LOADING_FACTOR,_=c[3]+e.LAZY_LOADING_FACTOR+c[1],w=d+f>p&&g>d;return w&&(w=u+h>v&&_>u),w};if(s(t,i))return!0;for(var o=0;o<t.children.length;o++)if(s(t.children[o],i))return!0;return!1}return!0}},e.manager.getAllFields=function(t){var n=[e.TAGS];for(var i in t.nodeBinding)n.push(t.nodeBinding[i]);for(i=0;i<t.nodes.length;i++)for(var r in t.nodes[i])r!==e.ID&&r!==e.TAGS&&r!==e.NODES&&r!==e.PID&&r!==e.STPID&&r!=="movex"&&r!=="movey"&&(t.nodeBinding[r]||n.has(r)||n.push(r));return n},e.manager._getMostDeepChild=function(t){if(t){var n=t;return function i(r){r.sl>n.sl&&(n=r);for(var o=0;o<r.children.length;o++)i(r.children[o])}(t),n}},e.manager._getResponse=function(t,n,i,r,o,s,l,c,d,u,f,h,p,g,v){var _=u[0],w=[],m={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},x=[[],[],[]],y=o-l+2*r.padding,b=s-c+2*r.padding,C=e.getScale(d,t,n,r.scaleInitial,r.scaleMax,r.scaleMin,y,b);if(m.top=c-r.padding,m.left=l-r.padding,m.bottom=s+r.padding-n/C,m.right=o+r.padding-t/C,m.maxX=o,m.minX=l,m.maxY=s,m.minY=c,u.length==0||d==null&&!v&&r.align==e.CENTER){var E=Math.ceil(t/C),N=Math.ceil(n/C),L=0,O=0;if(E-2*r.padding>=o-l)switch(L=(o+l)/2-E/2,r.orientation){case e.orientation.right:case e.orientation.right_top:L=(l-o)/2-E/2}else switch(L=_.x-E/2+e.manager._getNodeWidth(_,r)/2,r.orientation){case e.orientation.right:case e.orientation.right_top:(L=-(E/2-(l-o)/2))<r.padding-E&&(L=r.padding-E);break;case e.orientation.left:case e.orientation.bottom_left:case e.orientation.top_left:case e.orientation.left_top:(L=-(E/2-(o-l)/2))>-r.padding&&(L=-r.padding)}if(N-2*r.padding>=s-c)switch(O=(s+c)/2-N/2,r.orientation){case e.orientation.bottom:case e.orientation.bottom_left:O=(c-s)/2-N/2}else switch((O=-(N/2-(s-c)/2))>-r.padding&&(O=-r.padding),r.orientation){case e.orientation.bottom:case e.orientation.bottom_left:(O=-(N/2-(c-s)/2))<r.padding-N&&(O=r.padding-N);break;case e.orientation.left:case e.orientation.right:O=_.y-N/2+e.manager._getNodeWidth(_,r)/2}d=[L,O,E,N]}else if(d==null&&!v&&r.align==e.ORIENTATION){switch(E=Math.ceil(t/C),N=Math.ceil(n/C),L=0,O=0,r.orientation){case e.orientation.top:L=_.x-E/2+e.manager._getNodeWidth(_,r)/2,O=-r.padding;break;case e.orientation.bottom:L=_.x-E/2+e.manager._getNodeWidth(_,r)/2,O=r.padding-N;break;case e.orientation.left:L=-r.padding,O=_.y-N/2+e.manager._getNodeWidth(_,r)/2;break;case e.orientation.right:L=r.padding-E,O=_.y-N/2+e.manager._getNodeWidth(_,r)/2;break;case e.orientation.top_left:L=-r.padding,O=-r.padding;break;case e.orientation.right_top:L=r.padding-E,O=-r.padding;break;case e.orientation.left_top:L=-r.padding,O=-r.padding;break;case e.orientation.bottom_left:L=-r.padding,O=r.padding-N}d=[L,O,E,N],r.sticky&&(d[0]<m.left&&d[0]<m.right&&(d[0]=m.left>m.right?m.right:m.left),d[0]>m.right&&d[0]>m.left&&(d[0]=m.left>m.right?m.left:m.right),d[1]<m.top&&d[1]<m.bottom&&(d[1]=m.top>m.bottom?m.bottom:m.top),d[1]>m.bottom&&d[1]>m.top&&(d[1]=m.top>m.bottom?m.top:m.bottom))}if(f==e.action.centerNode||f==e.action.maximize){var X=p[h.id];h.options.horizontal==1&&(d[0]=X.x+X.w/2-d[2]/2),h.options.vertical==1&&(d[1]=X.y+X.h/2-d[3]/2),r.sticky&&(d[0]<m.left&&d[0]<m.right&&(d[0]=m.left>m.right?m.right:m.left),d[0]>m.right&&d[0]>m.left&&(d[0]=m.left>m.right?m.left:m.right),d[1]<m.top&&d[1]<m.bottom&&(d[1]=m.top>m.bottom?m.bottom:m.top),d[1]>m.bottom&&d[1]>m.top&&(d[1]=m.top>m.bottom?m.top:m.bottom))}if(f==e.action.insert||f==e.action.expand||f==e.action.collapse||f==e.action.update||f==e.action.centerNode){var T=null;if(f==e.action.insert&&h&&h.insertedNodeId!=null&&h.insertedNodeId!=null)T=p[h.insertedNodeId];else if(f==e.action.update&&h&&h.visId!=null&&h.visId!=null)T=p[h.visId];else if(f!=e.action.expand&&f!=e.action.collapse||!h||h.id==null||h.id==null){if(f==e.action.centerNode){switch(r.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:h.options.vertical||(T=p[h.id]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:h.options.horizontal||(T=p[h.id])}T&&(T=e.manager._getMostDeepChild(T,p))}}else T=p[h.id],T=e.manager._getMostDeepChild(T,p);if(!e.FIXED_POSITION_ON_CLICK&&T)switch(r.orientation){case e.orientation.top:case e.orientation.top_left:var $=T.y+T.h-d[3]+r.padding;d[1]<$&&(d[1]=$);break;case e.orientation.bottom:case e.orientation.bottom_left:$=T.y-r.padding,d[1]>$&&(d[1]=$);break;case e.orientation.right:case e.orientation.right_top:$=T.x-r.padding,d[0]>$&&(d[0]=$);break;case e.orientation.left:case e.orientation.left_top:$=T.x+T.w-d[2]+r.padding,d[0]<$&&(d[0]=$)}}for(var G=0;G<u.length;G++)e.manager._iterate2(u[G],p,r,d,f,h,w,g,i,x);return{animations:x,boundary:m,viewBox:d,visibleNodeIds:w,nodes:p,allFields:e.manager.getAllFields(r)}},e.manager._iterate2=function(t,n,i,r,o,s,l,c,d,u){if(e.manager._isVisible(t,i,r,o)){l.push(t.id);var f=null;if((o==e.action.expand||o==e.action.collapse||o==e.action.maximize)&&c&&c[t.id]&&s.method=="expandCollapseToLevel"){if(f={x:(v=c[t.id]).x,y:v.y},v){f={x:v.x,y:v.y};for(var h=t,p=null;h!=null;)c[h.id]&&c[h.id].collapsed&&(p=h),h=h.parent;p&&p.parent&&(f={x:p.parent.x,y:p.parent.y})}if(_=n[s.id]){for(h=t.parent;h!=null;)h=h.parent;h&&(f={x:_.x+_.w/2-t.w/2,y:_.y+_.h/2-t.h/2})}}else if((o==e.action.expand||o==e.action.collapse)&&c&&c[t.id]){if(f={x:(v=c[t.id]).x,y:v.y},s.ids=="all"&&v){for(f={x:v.x,y:v.y},h=t,p=null;h!=null;)c[h.id]&&c[h.id].collapsed&&(p=h),h=h.parent;p&&p.parent&&(f={x:p.parent.x,y:p.parent.y})}if(_=n[s.id]){for(h=t.parent;h!=null&&s.ids.indexOf(t.id)==-1&&s.ids.indexOf(h.id)==-1;)h=h.parent;h&&(f={x:_.x+_.w/2-t.w/2,y:_.y+_.h/2-t.h/2})}}else if(o==e.action.centerNode&&c&&c[t.id])(v=c[t.id]).x!=null&&v.y!=null&&(f={x:v.x,y:v.y}),(g=n[s.id])&&g==t&&(h=t.parent)&&h.id==s.id&&(f={x:g.x+g.w/2-t.w/2,y:g.y+g.h/2-t.h/2});else if(o==e.action.maximize&&c&&c[t.id]){var g;(v=c[t.id]).x!=null&&v.y!=null&&(f={x:v.x,y:v.y}),(g=n[s.id])&&g==t&&(h=t.parent)&&h.id==s.id&&(f={x:g.x+g.w/2-t.w/2,y:g.y+g.h/2-t.h/2})}else if(o==e.action.minimize&&c&&c[t.id])f={x:(v=c[t.id]).x,y:v.y};else if(o==e.action.insert&&s&&s.insertedNodeId==t.id&&t.parent)f={x:t.parent.x,y:t.parent.y};else if(o!=e.action.update&&o!=e.action.insert||!c)o!==e.action.exporting&&o!==e.action.init&&d.indexOf(t.id)==-1&&(u[0].push(t.id),u[1].push({opacity:0}),u[2].push({opacity:1}));else{var v,_;if((!(v=c[t.id])||e.isNEU(v.x)&&e.isNEU(v.y))&&s){if(_=n[s.id]){for(h=_;h&&h.id==t.id;)h=h.parent;h&&(f={x:_.x,y:_.y})}}else v&&(f={x:v.x,y:v.y})}f!=null&&f.x!=null&&f.y!=null&&(f.x!=t.x||f.y!=t.y)&&(s&&s.dragNodeIdList&&s.dragNodeIdList.indexOf(t.id)!=-1||(u[0].push(t.id),u[1].push({transform:[1,0,0,1,f.x,f.y]}),u[2].push({transform:[1,0,0,1,t.x,t.y]})))}for(var w=0;w<t.stChildren.length;w++)e.manager._iterate2(t.stChildren[w],n,i,r,o,s,l,c,d,u);for(w=0;w<t.children.length;w++)e.manager._iterate2(t.children[w],n,i,r,o,s,l,c,d,u)},e.manager._addExpandedNodeIdsIterate=function(t,n,i){for(var r=0;r<t.childrenIds.length;r++)i.push(t.childrenIds[r]),e.manager._addExpandedNodeIdsIterate(n[t.childrenIds[r]],n,i)},e.manager._setMinMaxXYAdjustifyIterate=function(t,n,i,r,o,s,l,c){t.x+=s.x,t.y+=s.y;for(var d=0;d<t.stChildren.length;d++)e.manager._setMinMaxXYAdjustifyIterate(t.stChildren[d],t.stChildren[d],i,0,o,s,l,c);for(t.isPartner?t.sl=r-1:t.sl=r,o[n.id]==null&&(o[n.id]={}),o[n.id][t.sl]==null&&(o[n.id][t.sl]={minX:null,minY:null,maxX:null,maxY:null}),t.layout?(c[n.id]==null&&(c[n.id]={}),c[n.id][t.sl]==null&&(c[n.id][t.sl]=t)):e._setMinMaxXY(t,o[n.id][t.sl]),t.movex!=null&&(t.x+=t.movex),t.movey!=null&&(t.y+=t.movey),e._setMinMaxXY(t,i),r++,d=0;d<t.children.length;d++)e.manager._setMinMaxXYAdjustifyIterate(t.children[d],n,i,r,o,s,l,c)},e.manager._doNotChangePositionOfClickedNodeIfAny=function(t,n,i,r,o,s){if(i!=e.action.expand&&i!=e.action.collapse&&i!=e.action.minimize&&i!=e.action.maximize&&i!=e.action.centerNode&&i!=e.action.update&&i!=e.action.insert)return{x:0,y:0};if(i==e.action.update&&(!r||r.id==null)){if(!t||!t.length)return{x:0,y:0};r={id:t[0].id}}if(r.id==null)return{x:0,y:0};var l=r.id;(i==e.action.minimize&&n[l].parent||i==e.action.maximize&&n[l].parent)&&(l=n[l].pid);var c=n[l],d=o[l];if(!d)return{x:0,y:0};var u=d.movex!=null?d.movex:0,f=d.movey!=null?d.movey:0;return{x:(d.x?d.x-u:0)-c.x,y:(d.y?d.y-f:0)-c.y}},e.manager._verticalAssistantIterate=function(t,n){for(var i=0;i<t.stChildren.length;i++)e.manager._verticalAssistantIterate(t.stChildren[i],n);if(t.children.length==3)e.manager._verticalAssistantIterate(t.children[0],n),e.manager._verticalAssistantIterate(t.children[2],n),e.manager._verticalAssistantIterate(t.children[1],n);else for(i=0;i<t.children.length;i++)e.manager._verticalAssistantIterate(t.children[i],n);if(t.isAssistant&&t.isSplit&&t.children.length){for(var r=t.parent.children[0],o=t.parent.children[2],s=t.parent;!s.hasAssistants;)s=s.parent;var l={max:0},c={max:0};e.manager._verticalAssistantLevelCountIterate(r,0,l),e.manager._verticalAssistantLevelCountIterate(o,0,c);var d=Math.max(l.max,c.max),u=[];for(i=0;i<d;i++){var f=new e.node(t.parent.id+"_split_assitant_level_"+i,t.pid,[],"subLevel");e.manager._initDinamicNode(f,t.lcn,!0),i>0&&(u[i-1].children.push(f),f.parent=u[i-1]),n[f.id]=f,u.push(f)}if(u.length){for(var h=u[u.length-1],p=u[0],g=t.children.length-1;g>=0;g--){var v=t.children[g];h.children.unshift(v),v.parent=h,t.children.splice(g,1)}t.children.push(p),p.parent=t}}},e.manager._verticalAssistantLevelCountIterate=function(t,n,i){i.max<n&&(i.max=n),n++;for(var r=0;r<t.children.length;r++)e.manager._verticalAssistantLevelCountIterate(t.children[r],n,i)},e._addDottedLines=function(t){var n=t.nodes;if((t.groupDottedLines.length||t.dottedLines.length)&&(n=JSON.parse(JSON.stringify(n))),t.groupDottedLines.length)for(var i=[],r=0;r<t.groupDottedLines.length;r++){var o=t.groupDottedLines[r];o.rootId==null&&(o.rootId=o.to);var s=`balkan_group_dotted_${o.rootId}`;if(!i.has(s)){for(var l=0;l<n.length;l++)if(n[l].id==o.rootId){(f=JSON.parse(JSON.stringify(n[l]))).id=`balkan_group_dotted_${o.rootId}_balkan_id_${n[l].id}`,f.pid=void 0,f.stpid=n[l].id,n.push(f),i.push(s),n[l].tags||(n[l].tags=[]),n[l].tags.push("group-dotted-lines"),n[l].tags.push("group-dotted-lines-"+s);break}}for(l=0;l<n.length;l++)if(n[l].id==o.from){if((f=JSON.parse(JSON.stringify(n[l]))).id=`balkan_group_dotted_${o.rootId}_balkan_id_${n[l].id}`,f.pid=`balkan_group_dotted_${o.rootId}_balkan_id_${o.to}`,f.tags){var c=f.tags.indexOf("group-dotted-lines");c!=-1&&f.tags.splice(c,1)}if(f.tags||(f.tags=[]),f.tags.push("bft-dotted-connector"),o.tags)for(var d=0;d<o.tags.length;d++)f.tags.push(o.tags[d]);n.push(f);break}}if(t.dottedLines.length)for(r=0;r<t.dottedLines.length;r++){var u=t.dottedLines[r];for(u.rootId==null&&(u.rootId=u.to),l=0;l<n.length;l++)if(n[l].id==u.from){var f;if((f=JSON.parse(JSON.stringify(n[l]))).id=`balkan_dotted_${u.rootId}_balkan_id_${n[l].id}`,u.rootId==u.to?f.pid=u.to:f.pid=`balkan_dotted_${u.rootId}_balkan_id_${u.to}`,f.tags||(f.tags=[]),f.tags.push("bft-dotted-connector"),u.tags)for(d=0;d<u.tags.length;d++)f.tags.push(u.tags[d]);n.push(f);break}}return n},e.manager.__createNodes=function(t,n,i,r,o,s,l,c){for(var d=i.nodes,u=[],f={},h={},p=0;p<d.length;p++){var g,v=d[p];g=e.STRING_TAGS?v.tags?v.tags.split(","):[]:Array.isArray(v.tags)?v.tags.slice(0):[],c.filterUI.addFilterTag(v)&&g.push("filter");var _=c.searchUI.addMatchTag(v.id);_===!0?g.unshift("match"):_===!1&&g.unshift("no-match"),v.gender&&g.push(v.gender);var w=e._getTemplate(g,i.tags,i.template);v.templateName&&(w=v.templateName);var m=new e.node(v.id,v.pid,g,w);m.ftChildrenIds=[],m.rids=[],e.isNEU(v.ppid)||(m.ppid=v.ppid),e.isNEU(v.stpid)||(m.stpid=v.stpid),e.isNEU(v.mid)||(m.mid=v.mid),e.isNEU(v.fid)||(m.fid=v.fid),e.isNEU(v.gender)||(m.gender=v.gender),Array.isArray(v.pids)?m.pids=v.pids:m.pids=[],i.orderBy!=null&&(m.order=e.manager._getOrderFieldValue(v,i.orderBy)),t[v.id]=m,e.isNEU(m.stpid)?(e.isNEU(m.mid)||(f[m.mid]||(f[m.mid]=[]),f[m.mid].push(m.id)),e.isNEU(m.fid)||(f[m.fid]||(f[m.fid]=[]),f[m.fid].push(m.id)),e.isNEU(m.mid)&&e.isNEU(m.fid)&&e.isNEU(m.stpid)&&(u.has(m.id)||u.push(m.id))):(h[m.stpid]||(h[m.stpid]=[]),h[m.stpid].push(m.id))}if(i.orderBy!=null&&f)for(var x in f)f[x].sort(function(X,T){var $=t[X].order,G=t[T].order;return typeof $=="number"||typeof G=="number"?($==null&&($=-1),G==null&&(G=-1),i.orderBy.desc?G-$:$-G):typeof $=="string"||typeof G=="string"?($==null&&($=""),G==null&&(G=""),i.orderBy.desc?G.localeCompare($):$.localeCompare(G)):void 0});for(p=0;p<u.length;p++){var y=t[u[p]];if(y){var b=[];e.manager._iterateSetRootIds(y.id,y.id,h,f,t,b),l.push(b)}}for(p=0;p<l.length;p++)for(var C=0;C<l.length;C++)if(C!=p){for(var E=l[p],N=l[C],L=!1,O=0;O<E.length;O++)if(N.has(E[O])){L=!0;break}L&&(l[p]=E.concat(N).unique(),l[C]=[])}for(p=l.length-1;p>=0;p--)l[p].length||l.splice(p,1);if(!i.roots||!i.roots.length)for(i.roots=[],p=l.length-1;p>=0;p--)i.roots.push(l[p][0]);for(p=0;p<i.roots.length;p++)e.manager._iterateFT(i.roots[p],h,f,t,s,n,r,o,i)},e.manager._iterateSetRootIds=function(t,n,i,r,o,s){var l=o[t];if(l){l.rids.has(n)||l.rids.push(n);for(var c=0;c<l.rids.length;c++)s.has(l.rids[c])||s.push(l.rids[c]);for(c=0;c<l.pids.length;c++){var d=o[l.pids[c]];if(d)for(var u=0;u<d.rids.length;u++)s.has(d.rids[u])||s.push(d.rids[u])}if(i[l.id])for(c=0;c<i[l.id].length;c++)e.manager._iterateSetRootIds(i[l.id][c],n,i,r,o,s);if(r[l.id])for(c=0;c<r[l.id].length;c++)e.manager._iterateSetRootIds(r[l.id][c],n,i,r,o,s)}},e.manager._iterateFT=function(t,n,i,r,o,s,l,c,d){var u,f=r[t],h=o?o[t]:null,p=r[f.stpid],g=r[f.mid],v=r[f.fid];if(p||(f.stpid=null),g?v&&(g.tags.has("partner")||g.tags.has("left-partner")||g.tags.has("right-partner"))?(f.pid=v.id,u=v,f.ppid=g.id):(f.pid=g.id,u=g,v&&(f.ppid=v.id)):v?g&&(v.tags.has("partner")||v.tags.has("left-partner")||v.tags.has("right-partner"))?(f.pid=g.id,u=g,f.ppid=v.id):(f.pid=v.id,u=v,g&&(f.ppid=g.id)):f.pid,p){var _=o?o[p.id]:null;_&&(p.min=_.min),p.stChildrenIds.push(f.id)}else g||v?(h&&(f.collapsed=h.collapsed,f.min=h.min),u&&!u.childrenIds.has(f.id)&&u.childrenIds.push(f.id),g&&!g.ftChildrenIds.has(f.id)&&g.ftChildrenIds.push(f.id),v&&!v.ftChildrenIds.has(f.id)&&v.ftChildrenIds.push(f.id)):(h&&(f.collapsed=h.collapsed,f.min=h.min),s.push(f));l==e.action.init&&(f.min=e._getMin(f,d));for(var w=0;w<f.pids.length;w++){var m=r[f.pids[w]];if(m){m.pid=f.id;var x=o?o[m.id]:null;if(x&&(m.collapsed=x.collapsed,m.min=x.min),l==e.action.init&&(m.min=e._getMin(m,d)),c&&h&&x&&c.id==f.id?x.hasPartners&&h.isPartner==1?m.tags.push("left-partner"):x.hasPartners&&h.isPartner==2||h.isPartner==1?m.tags.push("right-partner"):h.isPartner==2?m.tags.push("left-partner"):m.tags.push("partner"):x&&x.isPartner==2?m.tags.push("left-partner"):x&&x.isPartner==1?m.tags.push("right-partner"):m.tags.push("partner"),!e.isNEU(m)&&i[m.id])for(var y=0;y<i[m.id].length;y++){var b=r[i[m.id][y]];b&&(e.isNEU(b.fid)||e.isNEU(b.mid))&&e.manager._iterateFT(i[m.id][y],n,i,r,o,s,l,c,d)}f.childrenIds.push(m.id)}}if(n[t])for(y=0;y<n[t].length;y++)e.manager._iterateFT(n[t][y],n,i,r,o,s,l,c,d);if(i[t])for(y=0;y<i[t].length;y++)e.manager._iterateFT(i[t][y],n,i,r,o,s,l,c,d)},e.manager.getAllFields=function(t){var n=[e.TAGS];for(var i in t.nodeBinding)n.push(t.nodeBinding[i]);for(i=0;i<t.nodes.length;i++)for(var r in t.nodes[i])r!==e.ID&&r!==e.TAGS&&r!==e.NODES&&r!==e.PID&&r!==e.STPID&&r!=="mid"&&r!=="fid"&&r!=="pids"&&(t.nodeBinding[r]||n.has(r)||n.push(r));return n},e.templates={},e.templates.base={defs:`<g transform="matrix(1,0,0,1,0,0)" id="dot"><circle class="bft-fill" cx="0" cy="0" r="5" stroke="#aeaeae" stroke-width="1"></circle></g>
            <g id="base_node_menu" style="cursor:pointer;"><rect x="0" y="0" fill="transparent" width="22" height="22"></rect><circle cx="4" cy="11" r="2" fill="#aeaeae"></circle><circle cx="11" cy="11" r="2" fill="#aeaeae"></circle><circle cx="18" cy="11" r="2" fill="#aeaeae"></circle></g>
            <g style="cursor: pointer;" id="base_tree_menu">
                <rect x="0" y="0" width="25" height="25" fill="transparent"></rect>
                ${e.icon.addUser(25,25,"#fff",0,0)}
            </g>
            <g style="cursor: pointer;" id="base_tree_menu_close">
                <circle cx="12.5" cy="12.5" r="12" fill="#F57C00"></circle>
                ${e.icon.close(25,25,"#fff",0,0)}
            </g>            
            <g id="base_up">
                <circle cx="15" cy="15" r="15" fill="#fff" stroke="#aeaeae" stroke-width="1"></circle>
                ${e.icon.ft(20,20,"#aeaeae",5,5)}
            </g>
            <clipPath id="base_img_0"><rect id="base_img_0_stroke" stroke-width="3" stroke="#fff" x="170" y="-5" rx="25" ry="25" width="70" height="70"></rect></clipPath>`,size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:0,svg:'<svg class="{randId} {template}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',menuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" '+e.attr.control_export_menu+'=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',padding:[50,20,35,20],nodeMenuButton:`<use ${e.attr.control_node_menu_id}="{id}" x="220" y="95" xlink:href="#base_node_menu"/>`,nodeTreeMenuButton:'<use data-ctrl-n-t-menu-id="{id}" x="10" y="10" xlink:href="#base_tree_menu"/>',nodeTreeMenuCloseButton:'<use data-ctrl-n-t-menu-c="" x="10" y="10" xlink:href="#base_tree_menu_close"/>',up:'<use x="110" y="-10" xlink:href="#base_up"/>',img_0:'<use xlink:href="#base_img_0_stroke" /><image preserveAspectRatio="xMidYMid slice" clip-path="url(#base_img_0)" xlink:href="{val}"  x="170" y="-5"  width="70" height="70"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+e.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>'},e.templates.dot=Object.assign({},e.templates.base),e.templates.dot.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.dot.size=[10,10],e.templates.dot.nodeMenuButton="",e.templates.dot.nodeTreeMenuButton="",e.templates.dot.nodeTreeMenuCloseButton="",e.templates.dot.up="",e.templates.john=Object.assign({},e.templates.base),e.templates.john.nodeMenuButton=`<use ${e.attr.control_node_menu_id}="{id}" x="90" y="50" xlink:href="#base_node_menu"/>`,e.templates.john.defs=`<style>                          
                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{
                                            background-color: #aeaeae;
                                        }
                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{
                                            background-color: #039BE5;
                                        }        
                                        .{randId}.male div.bft-img-button:hover{
                                            background-color: #F57C00;
                                        }
                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{
                                            background-color: #F57C00;
                                        }        
                                        .{randId}.female div.bft-img-button:hover{
                                            background-color: #039BE5;
                                        }
                                    </style>
                                    <clipPath id="john_img_0"><rect  x="6" y="6" rx="54" ry="54" width="108" height="108"></rect></clipPath>
                                    ${e.gradientCircleForDefs("circle","#aeaeae",60,5)}
                                    ${e.gradientCircleForDefs("male_circle","#039BE5",60,5)}
                                    ${e.gradientCircleForDefs("female_circle","#F57C00",60,5)}`,e.templates.john.field_0="<text "+e.attr.width+'="230" style="font-size: 16px;font-weight:bold;" fill="#aeaeae" x="60" y="135" text-anchor="middle">{val}</text>',e.templates.john.field_1="<text "+e.attr.width+'="150" style="font-size: 13px;" fill="#aeaeae" x="60" y="150" text-anchor="middle">{val}</text>',e.templates.john.node='<use x="0" y="0" xlink:href="#circle" />',e.templates.john.img_0='<image preserveAspectRatio="xMidYMid slice" clip-path="url(#john_img_0)" xlink:href="{val}"  x="6" y="6"  width="108" height="108"></image>',e.templates.john.ripple={radius:60,color:"#e6e6e6",rect:null},e.templates.john.size=[120,120],e.templates.john_male=Object.assign({},e.templates.john),e.templates.john_male.node+='<use x="0" y="0" xlink:href="#male_circle" />',e.templates.john_male.ripple={radius:60,color:"#039BE5",rect:null},e.templates.john_female=Object.assign({},e.templates.john),e.templates.john_female.node+='<use x="0" y="0" xlink:href="#female_circle" />',e.templates.john_female.ripple={radius:60,color:"#F57C00",rect:null},e.templates.tommy=Object.assign({},e.templates.base),e.templates.tommy.defs=`<style>                          
                                        .{randId} .bft-edit-form-header, .{randId} .bft-img-button{
                                            background-color: #aeaeae;
                                        }
                                        .{randId}.male .bft-edit-form-header, .{randId}.male .bft-img-button{
                                            background-color: #039BE5;
                                        }        
                                        .{randId}.male div.bft-img-button:hover{
                                            background-color: #F57C00;
                                        }
                                        .{randId}.female .bft-edit-form-header, .{randId}.female .bft-img-button{
                                            background-color: #F57C00;
                                        }        
                                        .{randId}.female div.bft-img-button:hover{
                                            background-color: #039BE5;
                                        }
                                    </style>`,e.templates.tommy.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;font-weight:bold;" fill="#ffffff" x="10" y="90" text-anchor="start">{val}</text>',e.templates.tommy.field_1="<text "+e.attr.width+'="150" style="font-size: 14px;" fill="#ffffff" x="10" y="65" text-anchor="start">{val}</text>',e.templates.tommy.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#aeaeae" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.tommy_male=Object.assign({},e.templates.tommy),e.templates.tommy_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#039BE5" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.tommy_female=Object.assign({},e.templates.tommy),e.templates.tommy_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#F57C00" stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo=Object.assign({},e.templates.base),e.templates.hugo.up='<use x="200" y="10" xlink:href="#hugo_up"/>',e.templates.hugo.nodeMenuButton=`<use x="225" y="10" ${e.attr.control_node_menu_id}="{id}" xlink:href="#hugo_node_menu"/>`,e.templates.hugo.defs=`<clipPath id="hugo_img_0"><rect id="hugo_img_0_stroke" stroke-width="2" stroke="#fff" x="90" y="-5" rx="25" ry="25" width="70" height="70"></rect></clipPath>
                                    <linearGradient id="hugo_grad_female" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#FF8024;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#FF46A3;stop-opacity:1" />
                                    </linearGradient>
                                    <linearGradient id="hugo_grad_male" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#00D3A5;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#00A7D4;stop-opacity:1" />
                                    </linearGradient>
                                    <linearGradient id="hugo_grad" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#D0D0D0;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#909090;stop-opacity:1" />
                                    </linearGradient>
                                    <g id="hugo_up">
                                        <circle cx="12" cy="12" r="15" fill="transparent" ></circle>
                                        ${e.icon.ft(24,24,"#fff",0,0)}
                                    </g>
                                    <g id="hugo_node_menu" style="cursor:pointer;"><rect x="0" y="0" fill="transparent" width="22" height="22"></rect><circle cx="11" cy="4" r="2" fill="#ffffff"></circle><circle cx="11" cy="11" r="2" fill="#ffffff"></circle><circle cx="11" cy="18" r="2" fill="#ffffff"></circle></g>
                                    <style>
                                        .{randId} .bft-edit-form-header{
                                            background: linear-gradient(90deg, #D0D0D0 0%, #909090 100%);
                                        }
                                        .{randId}.male .bft-edit-form-header{
                                            background: linear-gradient(90deg, #00D3A5 0%, #00A7D4 100%);
                                        }
                                        .{randId}.female .bft-edit-form-header{
                                            background: linear-gradient(90deg, #FF8024 0%, #FF46A3 100%);
                                        }  
                                        .{randId} .bft-img-button{
                                            background-color: #909090;
                                        }      
                                        .{randId} .bft-img-button:hover{
                                            background-color: #D0D0D0;
                                        }
                                        .{randId}.male .bft-img-button{
                                            background-color: #00A7D4;
                                        }      
                                        .{randId}.male .bft-img-button:hover{
                                            background-color: #00D3A5;
                                        }
                                        .{randId}.female .bft-img-button{
                                            background-color: #FF46A3;
                                        }      
                                        .{randId}.female .bft-img-button:hover{
                                            background-color: #FF8024;
                                        }
                                        
                                    </style>`,e.templates.hugo.img_0='<use xlink:href="#hugo_img_0_stroke" /><image preserveAspectRatio="xMidYMid slice" clip-path="url(#hugo_img_0)" xlink:href="{val}"  x="90" y="-5"  width="70" height="70"></image>',e.templates.hugo.field_0="<text "+e.attr.width+'="230" style="font-size: 18px;font-weight:bold;" fill="#ffffff" x="125" y="85" text-anchor="middle">{val}</text>',e.templates.hugo.field_1="<text "+e.attr.width+'="230" style="font-size: 14px;" fill="#ffffff" x="125" y="105" text-anchor="middle">{val}</text>',e.templates.hugo.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo_male=Object.assign({},e.templates.hugo),e.templates.hugo_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad_male) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.hugo_female=Object.assign({},e.templates.hugo),e.templates.hugo_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill=url(#hugo_grad_female) stroke="#aeaeae" rx="7" ry="7"></rect>',e.templates.mother=Object.assign({},e.templates.base),e.templates.mother.up="",e.templates.mother.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;"  stroke-width="1" stroke="#F57C00" rx="5" ry="5"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add mother</text>'+e.icon.mother(70,70,"#F57C00",10,40),e.templates.mother.field_0="",e.templates.mother.field_1="",e.templates.father=Object.assign({},e.templates.mother),e.templates.father.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add father</text>'+e.icon.father(70,70,"#039BE5",10,40),e.templates.partner=Object.assign({},e.templates.mother),e.templates.partner.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#aeaeae;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#aeaeae" x="240" y="30" text-anchor="end">Add partner</text>',e.templates.son=Object.assign({},e.templates.mother),e.templates.son.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add son</text>'+e.icon.son(70,70,"#039BE5",10,40),e.templates.daughter=Object.assign({},e.templates.mother),e.templates.daughter.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add daughter</text>'+e.icon.daughter(70,70,"#F57C00",10,40),e.templates.husband=Object.assign({},e.templates.mother),e.templates.husband.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#039BE5;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#039BE5" x="240" y="30" text-anchor="end">Add husband</text>'+e.icon.husband(70,70,"#039BE5",10,40),e.templates.wife=Object.assign({},e.templates.mother),e.templates.wife.node='<rect x="0" y="0" height="{h}" width="{w}" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add wife</text>'+e.icon.wife(70,70,"#F57C00",10,40),e.templates.pet=Object.assign({},e.templates.mother),e.templates.pet.node='<rect x="0" y="0" style="fill:transparent;height:{h}; width:{w};stroke-width:1;stroke:#F57C00;rx:5;ry:5;"></rect><text style="font-size: 18px;" fill="#F57C00" x="240" y="30" text-anchor="end">Add pet</text>'+e.icon.teddy(70,70,"#F57C00",10,40),e.templates.cgroup=Object.assign({},e.templates.base),e.templates.cgroup.defs="",e.templates.cgroup.size=[250,120],e.templates.cgroup.padding=[0,0,0,0],e.templates.cgroup.node="",e.templates.split=Object.assign({},e.templates.base),e.templates.split.size=[10,10],e.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',e.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},e.ui={_defsIds:{},defs:function(t){var n="";for(var i in e.templates){var r=e.templates[i];r.defs&&(e.ui._defsIds[i]=e.randomId(),n+=r.defs.replaceAll("{randId}",e.ui._defsIds[i]))}return"<defs>"+n+t+"</defs>"},lonely:function(t){return t.nodes&&t.nodes.length?"":e.IT_IS_LONELY_HERE.replace("{link}",e.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(t,n,i){return n===e.action.exporting?"":e.t(t.template,!1,i).pointer},node:function(t,n,i,r,o,s,l,c,d,u){var f=e.t(t.templateName,t.min,d),h=f.node.replaceAll("{w}",t.w).replaceAll("{h}",t.h);f.defs&&(h=h.replaceAll("{randId}",e.ui._defsIds[t.templateName])),l==null&&(l=r.nodeBinding);var p={node:t,data:n};for(var g in l){var v,_=l[g];n&&(v=n[_]);var w=e._lblIsImg(r,g);if(p.value=v,p.element=f[g],p.name=_,p.field=g,e.events.publish("field",[u,p])!==!1&&p.value!=null&&p.value!=null&&p.element!=null&&(!w||w&&!e.isNEU(p.value))){if(!w&&typeof p.value=="string"){var m=p.element;m&&(m=m.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2)),p.value=e.wrapText(p.value,m)}var x=p.element.replace("{val}",p.value);h+=x=x.replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2).replaceAll("{randId}",e.randomId()).replaceAll("{randId2}",e.randomId())}}var y=e._getPosition(i,t,o,s),b="node";Array.isArray(t.tags)&&t.tags.length&&(b+=" "+t.tags.join(" ")),t.layout&&(b+=" tree-layout");var C="";t.lcn&&(C='lcn="'+t.lcn+'"');var E=e.nodeOpenTag.replace("{lcn}",C).replace("{id}",t.id).replace("{class}",b).replace("{sl}",t.sl).replace("{level}",t.level).replace("{x}",y.x).replace("{y}",y.y),N=e._getOpacity(i,t);return h=(E=E.replace("{opacity}",N))+(h+=e.ui.nodeBtns(r,t,c,f,u))+e.grCloseTag},nodeBtns:function(t,n,i,r,o){var s="";return t.nodeMenu==null||n.isSplit||i===e.action.exporting||(s+=r.nodeMenuButton.replace("{id}",n.id).replace("{cw}",n.w/2).replace("{ch}",n.h/2).replace("{ew}",n.w-(n.padding?n.padding[1]:0)).replace("{eh}",n.h-(n.padding?n.padding[2]:0))),t.nodeCircleMenu==null||n.isSplit||i===e.action.exporting||e.isNEU(r.nodeCircleMenuButton)||(s+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'+r.nodeCircleMenuButton.x+","+r.nodeCircleMenuButton.y+')" '+e.attr.control_node_circle_menu_id+'="'+n.id+'"><circle cx="0" cy="0" fill="'+r.nodeCircleMenuButton.color+'" r="'+r.nodeCircleMenuButton.radius+'" stroke-width="1" stroke="'+r.nodeCircleMenuButton.stroke+'"></circle><line x1="-'+r.nodeCircleMenuButton.radius/2+'" y1="-6" x2="'+r.nodeCircleMenuButton.radius/2+'" y2="-6" stroke-width="2" stroke="'+r.nodeCircleMenuButton.stroke+'"></line><line x1="-'+r.nodeCircleMenuButton.radius/2+'" y1="0" x2="'+r.nodeCircleMenuButton.radius/2+'" y2="0" stroke-width="2" stroke="'+r.nodeCircleMenuButton.stroke+'"></line><line x1="-'+r.nodeCircleMenuButton.radius/2+'" y1="6" x2="'+r.nodeCircleMenuButton.radius/2+'" y2="6" stroke-width="2" stroke="'+r.nodeCircleMenuButton.stroke+'"></line></g>'),s},expandCollapseBtn:function(t,n,i,r,o){var s="";if(r!==e.action.exporting&&!n.isSplit){var l=i[n.lcn?n.lcn:"base"],c=0,d=0,u=e.t(n.templateName,n.min,o);if(n.childrenIds.length>0){if(n.hasPartners){for(var f=!1,h=0;h<n.childrenIds.length;h++){var p=t.getNode(n.childrenIds[h]);!p||p.parentPartner||p.isPartner||(f=!0)}if(!f)return""}switch(l.orientation){case e.orientation.top:case e.orientation.top_left:c=n.x+n.w/2,d=n.y+n.h;break;case e.orientation.bottom:case e.orientation.bottom_left:c=n.x+n.w/2,d=n.y;break;case e.orientation.right:case e.orientation.right_top:c=n.x,d=n.y+n.h/2;break;case e.orientation.left:case e.orientation.left_top:c=n.x+n.w,d=n.y+n.h/2}if(c-=u.expandCollapseSize/2,d-=u.expandCollapseSize/2,t.getCollapsedIds(n).length?(s+=e.expcollOpenTag.replace("{id}",n.id).replace("{x}",c).replace("{y}",d),s+=u.plus,s+=e.grCloseTag):(s+=e.expcollOpenTag.replace("{id}",n.id).replace("{x}",c).replace("{y}",d),s+=u.minus,s+=e.grCloseTag),s.indexOf("{collapsed-children-count}")!=-1){var g=e.collapsedChildrenCount(t,n);s=s.replace("{collapsed-children-count}",g)}if(s.indexOf("{collapsed-children-total-count}")!=-1){var v=e.collapsedChildrenTotalCount(t,n);s=s.replace("{collapsed-children-total-count}",v)}if(s.indexOf("{children-count}")!=-1){var _=e.childrenCount(t,n);s=s.replace("{children-count}",_)}if(s.indexOf("{children-total-count}")!=-1){var w=e.childrenTotalCount(t,n);s=s.replace("{children-total-count}",w)}}t._nodeHasHiddenParent(n)&&(s+=e.upOpenTag.replace("{id}",n.id).replace("{x}",n.x).replace("{y}",n.y),s+=u.up,s+=e.grCloseTag)}var m={html:s,node:n};return e.events.publish("renderbuttons",[t,m]),m.html},link:function(t,n,i,r,o,s,l){var c=t.lcn?t.lcn:"base",d=n._layoutConfigs[c],u=e.t(t.templateName,t.min,i),f=[],h=[],p=d.levelSeparation/2;t.layout>0&&(p=d.mixedHierarchyNodesSeparation/2);var g=0,v=e.getRootOf(t).id,_=r[v][t.sl],w=void 0;if(t.hasPartners){w={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:n.config.partnerChildrenSplitSeparation};for(var m=0;m<t.children.length;m++)(y=t.children[m]).parentPartner?(w.ppnodes[y.id]=y.parentPartner,w.ids.push(y.id),y.parentPartner.isPartner==1?(w.rightIds.indexOf(y.parentPartner.id)==-1&&w.rightIds.push(y.parentPartner.id),w.indexes[y.id]=w.rightIds.indexOf(y.parentPartner.id),w.firstRight||(w.firstRight=y)):y.parentPartner.isPartner==2&&(w.leftIds.indexOf(y.parentPartner.id)==-1&&w.leftIds.push(y.parentPartner.id),w.indexes[y.id]=w.leftIds.indexOf(y.parentPartner.id),w.lastLeft=y)):y.isPartner||(w.lastLeft=y,w.firstRight||(w.firstRight=y));w.maxSidePartnersWithChildren=Math.max(w.leftIds.length,w.rightIds.length),g=w.maxSidePartnersWithChildren==0?n.config.minPartnerSeparation/2:n.config.minPartnerSeparation/2+w.partnerChildrenSplitSeparation*w.maxSidePartnersWithChildren+w.partnerChildrenSplitSeparation/2}for(m=0;m<t.children.length;m++){var x,y=t.children[m],b=r[v][y.sl],C={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},E=(u=e.t(y.templateName,y.min,i)).link;if(y.isChildOfPartner)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:var N=y.layout==1?void 0:b.minY-(b.minY-_.maxY)/2;C=e.ui._linkTopToBottom(y.parentPartner,y,u,p,N);break;case e.orientation.bottom:case e.orientation.bottom_left:N=y.layout==1?void 0:b.maxY-(b.maxY-_.minY)/2,C=e.ui._linkBottomToTop(y.parentPartner,y,u,p,N);break;case e.orientation.right:case e.orientation.right_top:N=y.layout==1?void 0:b.maxX-(b.maxX-_.minX)/2,C=e.ui._linkRightToLeft(y.parentPartner,y,u,p,N);break;case e.orientation.left:case e.orientation.left_top:N=y.layout==1?void 0:b.minX-(b.minX-_.maxX)/2,C=e.ui._linkLeftToRight(y.parentPartner,y,u,p,N)}else if(w&&w.ids.indexOf(y.id)!=-1)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:C=e.ui._linkPpTop(w,t,y,b,_,u);break;case e.orientation.bottom:case e.orientation.bottom_left:C=e.ui._linkPpBottom(w,t,y,b,_,u);break;case e.orientation.right:case e.orientation.right_top:C=e.ui._linkPpRight(w,t,y,b,_,u);break;case e.orientation.left:case e.orientation.left_top:C=e.ui._linkPpLeft(w,t,y,b,_,u)}else{var L=y.isAssistant&&y.rightNeighbor&&y.rightNeighbor.isAssistant&&y.parent==y.rightNeighbor.parent,O=y.isAssistant&&y.leftNeighbor&&y.leftNeighbor.isAssistant&&y.parent==y.leftNeighbor.parent;if((L||y.layout>1)&&y.rightNeighbor&&y.rightNeighbor.isSplit)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:C=e.ui._linkRightToLeft(y.rightNeighbor,y,u,p);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:C=e.ui._linkBottomToTop(y.rightNeighbor,y,u,p)}else if((O||y.layout>1)&&y.leftNeighbor&&y.leftNeighbor.isSplit)switch(d.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:C=e.ui._linkLeftToRight(y.leftNeighbor,y,u,p);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:C=e.ui._linkTopToBottom(y.leftNeighbor,y,u,p)}else switch(d.orientation){case e.orientation.top:case e.orientation.top_left:y.isPartner==1?C=e.ui._linkLeftToRight(t,y,u,g):y.isPartner==2?C=e.ui._linkRightToLeft(t,y,u,g):(N=y.layout==1?void 0:b.minY-(b.minY-_.maxY)/2,C=e.ui._linkTopToBottom(t,y,u,p,N));break;case e.orientation.bottom:case e.orientation.bottom_left:y.isPartner==1?C=e.ui._linkLeftToRight(t,y,u,g):y.isPartner==2?C=e.ui._linkRightToLeft(t,y,u,g):(N=y.layout==1?void 0:b.maxY-(b.maxY-_.minY)/2,C=e.ui._linkBottomToTop(t,y,u,p,N));break;case e.orientation.right:case e.orientation.right_top:y.isPartner==1?C=e.ui._linkTopToBottom(t,y,u,g):y.isPartner==2?C=e.ui._linkBottomToTop(t,y,u,g):(N=y.layout==1?void 0:b.maxX-(b.maxX-_.minX)/2,C=e.ui._linkRightToLeft(t,y,u,p,N));break;case e.orientation.left:case e.orientation.left_top:y.isPartner==1?C=e.ui._linkTopToBottom(t,y,u,g):y.isPartner==2?C=e.ui._linkBottomToTop(t,y,u,g):(N=y.layout==1?void 0:b.minX-(b.minX-_.maxX)/2,C=e.ui._linkLeftToRight(t,y,u,p,N))}}var X=e.ui._draggableLinkPath(n,t,y,C,p,d.orientation);if(X)x=X,E=E.replaceAll("{rounded}",X).replaceAll("{edge}",X).replaceAll("{curve}",x);else if(E.indexOf("{rounded}")!=-1)if(C.xa==C.xb&&C.xa==C.xc&&C.xa==C.xd||C.ya==C.yb&&C.ya==C.yc&&C.ya==C.yd)x="M"+C.xa+","+C.ya+" L"+C.xd+","+C.yd,E=E.replaceAll("{rounded}",x);else if(Math.abs(C.xa-C.xd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.xa-C.xc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.xa-C.xb)<=e.LINK_ROUNDED_CORNERS)x="M"+C.xa+","+C.ya+" L"+C.xa+","+C.yd,E=E.replaceAll("{rounded}",x);else if(Math.abs(C.ya-C.yd)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.ya-C.yc)<=e.LINK_ROUNDED_CORNERS&&Math.abs(C.ya-C.yb)<=e.LINK_ROUNDED_CORNERS)x="M"+C.xa+","+C.ya+" L"+C.xd+","+C.ya,E=E.replaceAll("{rounded}",x);else{var T=e.ui._roundedEdge(C.xa,C.ya,C.xb,C.yb,C.xc,C.yc),$=e.ui._roundedEdge(C.xb,C.yb,C.xc,C.yc,C.xd,C.yd);x="M"+T.x1+","+T.y1+" "+T.x2+","+T.y2+" Q"+T.qx1+","+T.qy1+" "+T.qx2+","+T.qy2+" L"+$.x2+","+$.y2+" Q"+$.qx1+","+$.qy1+" "+$.qx2+","+$.qy2+" L"+$.x3+","+$.y3,E=E.replaceAll("{rounded}",x)}else E.indexOf("{edge}")!=-1?(x="M"+C.xa+","+C.ya+" "+C.xb+","+C.yb+" "+C.xc+","+C.yc+" L"+C.xd+","+C.yd,E=E.replaceAll("{edge}",x)):E.indexOf("{curve}")!=-1?(x="M"+C.xa+","+C.ya+" C"+C.xb+","+C.yb+" "+C.xc+","+C.yc+" "+C.xd+","+C.yd,E=E.replaceAll("{curve}",x)):(x=E.replaceAll("{xa}",C.xa).replaceAll("{ya}",C.ya).replaceAll("{xb}",C.xb).replaceAll("{yb}",C.yb).replaceAll("{xc}",C.xc).replaceAll("{yc}",C.yc).replaceAll("{xd}",C.xd).replaceAll("{yd}",C.yd),E=x);f.push(e.linkOpenTag.replaceAll("{id}",t.id).replaceAll("{class}","link "+y.tags.join(" ")).replaceAll("{child-id}",y.id));var G={node:t,cnode:y,p:C,html:E,action:s};e.events.publish("render-link",[n,G]),f.push(G.html),l&&h.push({id:t.id,childId:y.id,html:G.html});var te="";for(var K in n.config.linkBinding){var H=n.config.linkBinding[K],F=n._get(y.id);if(F){var W=F[H];G.value=W,G.element=u[K],G.name=H,e.events.publish("label",[n,G])!==!1&&(e.isNEU(G.value)||e.isNEU(G.element)||(te+=G.element.replace("{val}",G.value)))}}if(te!=""){var ie=C.x,Z=C.y;y.movey!=null&&(Z+=y.movey),te=e.linkFieldsOpenTag.replace("{x}",ie).replace("{y}",Z).replace("{rotate}",0)+te+e.grCloseTag,f.push(te)}f.push(e.grCloseTag)}return l?h:f.join("")},svg:function(t,n,i,r,o,s){return e.t(r.template,!1,s).svg.replace("{w}",t).replace("{h}",n).replace("{viewBox}",i).replace("{randId}",e.ui._defsIds[r.template]).replace("{mode}",r.mode).replace("{template}",r.template).replace("{content}",function(){return o})},menuButton:function(t){return t.menu==null?"":e.t(t.template,!1).menuButton.replaceAll("{p}",t.padding)},_roundedEdge:function(t,n,i,r,o,s){var l,c,d,u=e.LINK_ROUNDED_CORNERS,f=0;return t==i&&t==o||n==r&&n==s?(l=d=i,c=f=r):(t!=o&&i==o&&(l=d=i,c=r,n<s?f=r+u:n>s&&(f=r-u)),t<o&&i==o?i-=u:t>o&&i==o&&(i+=u),n!=s&&r==s&&(l=i,c=f=r,t<o?d=i+u:t>o&&(d=i-u)),n<s&&r==s?r-=u:n>s&&r==s&&(r+=u)),{x1:t,y1:n,x2:i,y2:r,x3:o,y3:s,qx1:l,qy1:c,qx2:d,qy2:f}},_linkTopToBottom:function(t,n,i,r,o){var s,l,c,d,u,f=0;return s=t.x+t.w/2+i.linkAdjuster.toX,l=t.y+t.h+i.linkAdjuster.toY,d=c=n.x+n.w/2+i.linkAdjuster.fromX,u=n.y+i.linkAdjuster.fromY,{xa:s,ya:l,xb:s,yb:f=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.y+t.rightNeighbor.h+r:t.templateName=="split"&&(n.isAssistant||n.layout>1)?u:n.templateName=="split"?l+r:o??u-r,xc:c,yc:f,xd:d,yd:u,x:c,y:e.isNEU(n.parentPartner)?f+16:f,rotate:0}},_linkBottomToTop:function(t,n,i,r,o){var s,l,c,d,u,f=0;return s=t.x+t.w/2+i.linkAdjuster.toX,l=t.y+i.linkAdjuster.toY,d=c=n.x+n.w/2+i.linkAdjuster.fromX,u=n.y+n.h+i.linkAdjuster.fromY,{xa:s,ya:l,xb:s,yb:f=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.y-r:t.templateName=="split"&&(n.isAssistant||n.layout>1)?u:n.templateName=="split"?l-r:o??u+r,xc:c,yc:f,xd:d,yd:u,x:c,y:f-14,rotate:0}},_linkRightToLeft:function(t,n,i,r,o){var s,l,c,d,u,f,h=0;return s=t.x+i.linkAdjuster.toX,l=t.y+t.h/2+i.linkAdjuster.toY,u=n.x+n.w+i.linkAdjuster.fromX,f=d=n.y+n.h/2+i.linkAdjuster.fromY,c=l,{xa:s,ya:l,xb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.x-r:t.templateName=="split"&&(n.isAssistant||n.layout>1)?u:n.templateName=="split"?s-r:o??u+r,yb:c,xc:h,yc:d,xd:u,yd:f,x:h-16,y:d,rotate:90}},_linkLeftToRight:function(t,n,i,r,o){var s,l,c,d,u,f,h=0;return s=t.x+t.w+i.linkAdjuster.toX,l=t.y+t.h/2+i.linkAdjuster.toY,u=n.x+i.linkAdjuster.fromX,f=d=n.y+n.h/2+i.linkAdjuster.fromY,c=l,{xa:s,ya:l,xb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&n.templateName=="split"?t.rightNeighbor.x+t.rightNeighbor.w+r:t.templateName=="split"&&(n.isAssistant||n.layout>1)?u:n.templateName=="split"?s+r:o??u-r,yb:c,xc:h,yc:d,xd:u,yd:f,x:h+14,y:d,rotate:270}},_linkPpTop:function(t,n,i,r,o,s){var l=t.ppnodes[i.id],c=l.y+l.h/2,d=r.minY-(r.minY-o.maxY)/2,u=(r.minY-o.maxY)/t.maxSidePartnersWithChildren/4,f=e.ui.__linkPpBottomTop(t,n,i,d,u,l),h=f.x;return d=f.mid,e.ui._linkTopToBottom({x:h,y:c,w:0,h:0},i,s,0,d)},_linkPpBottom:function(t,n,i,r,o,s){var l=t.ppnodes[i.id],c=l.y+l.h/2,d=r.maxY-(r.maxY-o.minY)/2,u=(r.maxY-o.minY)/t.maxSidePartnersWithChildren/4,f=e.ui.__linkPpBottomTop(t,n,i,d,u,l),h=f.x;return d=f.mid,e.ui._linkBottomToTop({x:h,y:c,w:0,h:0},i,s,0,d)},_linkPpLeft:function(t,n,i,r,o,s){var l=t.ppnodes[i.id],c=r.minX-(r.minX-o.maxX)/2,d=(r.minX-o.maxX)/t.maxSidePartnersWithChildren/4,u=l.x+l.w/2,f=e.ui.__linkPpLeftRight(t,n,i,c,d,l),h=f.y;return c=f.mid,e.ui._linkLeftToRight({x:u,y:h,w:0,h:0},i,s,0,c)},_linkPpRight:function(t,n,i,r,o,s){var l=t.ppnodes[i.id],c=r.maxX-(r.maxX-o.minX)/2,d=(r.maxX-o.minX)/t.maxSidePartnersWithChildren/4,u=l.x+l.w/2,f=e.ui.__linkPpLeftRight(t,n,i,c,d,l),h=f.y;return c=f.mid,e.ui._linkRightToLeft({x:u,y:h,w:0,h:0},i,s,0,c)},__linkPpBottomTop:function(t,n,i,r,o,s){var l=0;return s.isPartner==1?(l=s.x-n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&l<t.lastLeft.x+t.lastLeft.w/2?l<i.x+i.w/2?r-=(t.indexes[i.id]+1)*o:r-=(t.rightIds.length-t.indexes[i.id])*o:l<i.x+i.w/2?r+=(t.rightIds.length-t.indexes[i.id])*o:r+=(t.indexes[i.id]+1)*o):s.isPartner==2&&(l=s.x+s.w+n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&l>t.firstRight.x+t.firstRight.w/2?l<i.x+i.w/2?r-=(t.indexes[i.id]+1)*o:r-=(t.leftIds.length-t.indexes[i.id])*o:l<i.x+i.w/2?r+=(t.leftIds.length-t.indexes[i.id])*o:r+=(t.indexes[i.id]+1)*o),{x:l,mid:r}},__linkPpLeftRight:function(t,n,i,r,o,s){var l=0;return s.isPartner==1?(l=s.y-n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&l<t.lastLeft.y+t.lastLeft.h/2?l<i.y+i.h/2?r-=(t.indexes[i.id]+1)*o:r-=(t.rightIds.length-t.indexes[i.id])*o:l<i.y+i.h/2?r+=(t.rightIds.length-t.indexes[i.id])*o:r+=(t.indexes[i.id]+1)*o):s.isPartner==2&&(l=s.y+s.h+n.partnerSeparation/2+t.indexes[i.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&l>t.firstRight.y+t.firstRight.h/2?l<i.y+i.h/2?r-=(t.indexes[i.id]+1)*o:r-=(t.leftIds.length-t.indexes[i.id])*o:l<i.y+i.h/2?r+=(t.leftIds.length-t.indexes[i.id])*o:r+=(t.indexes[i.id]+1)*o),{y:l,mid:r}},_draggableLinkPath:function(t,n,i,r,o,s){if(i.isPartner||i.isAssistant)return null;if(e._isMoved(i)&&!e._isMoved(n)){var l=[];switch(s){case e.orientation.top:case e.orientation.top_left:if(r.yb+o/2<r.yd)return null;d=r.xa<r.xd?i.x-o/2:i.x+i.w+o/2,u=i.y-o/2;break;case e.orientation.bottom:case e.orientation.bottom_left:if(r.yb-o/2>r.yd)return null;d=r.xa<r.xd?i.x-o/2:i.x+i.w+o/2,u=i.y+i.h+o/2;break;case e.orientation.right:case e.orientation.right_top:if(r.xb-o/2>r.xd)return null;u=r.ya<r.yd?i.y-o/2:i.y+i.h+o/2,d=i.x+i.w+o/2;break;case e.orientation.left:case e.orientation.left_top:if(r.xb+o/2<r.xd)return null;u=r.ya<r.yd?i.y-o/2:i.y+i.h+o/2,d=i.x-o/2}switch(s){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:l.push(["M",r.xa,r.ya]),l.push(["L",r.xb,r.yb]),l.push(["L",d,r.yb]),l.push(["L",d,u]),l.push(["L",r.xd,u]),l.push(["L",r.xd,r.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:(l=[]).push(["M",r.xa,r.ya]),l.push(["L",r.xb,r.yb]),l.push(["L",r.xb,u]),l.push(["L",d,u]),l.push(["L",d,r.yd]),l.push(["L",r.xd,r.yd])}return e.roundPathCorners(l,e.LINK_ROUNDED_CORNERS,!1)}if(!e._isMoved(i)&&e._isMoved(n)){var c=!1;switch(l=[],s){case e.orientation.top:case e.orientation.top_left:if(r.ya+o/2>r.yb)c=!0,d=r.xa<r.xd?n.x+n.w+o/2:n.x-o/2,u=n.y+n.h+o;else{if(r.yb+o/2<r.yd)return null;d=r.xa<r.xd?i.x-o/2:i.x+i.w+o/2,u=i.y-o/2}break;case e.orientation.bottom:case e.orientation.bottom_left:if(r.ya-o/2<r.yb)c=!0,d=r.xa<r.xd?n.x+n.w+o/2:n.x-o/2,u=n.y-o;else{if(r.yb-o/2>r.yd)return null;d=r.xa<r.xd?i.x-o/2:i.x+i.w+o/2,u=i.y+i.h+o/2}break;case e.orientation.right:case e.orientation.right_top:if(r.xa-o/2<r.xb)c=!0,u=r.ya<r.yd?n.y+n.h+o/2:n.y-o/2,d=n.x-o;else{if(r.xb-o/2>r.xd)return null;u=r.ya<r.yd?i.y-o/2:i.y+i.h+o/2,d=i.x+i.w+o/2}break;case e.orientation.left:case e.orientation.left_top:if(r.xa+o/2>r.xb)c=!0,u=r.ya<r.yd?n.y+n.h+o/2:n.y-o/2,d=n.x+n.w+o;else{if(r.xb+o/2<r.xd)return null;u=r.ya<r.yd?i.y-o/2:i.y+i.h+o/2,d=i.x-o/2}}if(c)switch(s){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:l.push(["M",r.xa,r.ya]),l.push(["L",r.xa,u]),l.push(["L",d,u]),l.push(["L",d,r.yc]),l.push(["L",r.xc,r.yc]),l.push(["L",r.xd,r.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:l.push(["M",r.xa,r.ya]),l.push(["L",d,r.ya]),l.push(["L",d,u]),l.push(["L",r.xc,u]),l.push(["L",r.xc,r.yc]),l.push(["L",r.xd,r.yd])}else switch(s){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:l.push(["M",r.xa,r.ya]),l.push(["L",r.xb,r.yb]),l.push(["L",d,r.yb]),l.push(["L",d,u]),l.push(["L",r.xd,u]),l.push(["L",r.xd,r.yd]);break;case e.orientation.right:case e.orientation.right_top:case e.orientation.left:case e.orientation.left_top:l.push(["M",r.xa,r.ya]),l.push(["L",r.xb,r.yb]),l.push(["L",r.xb,u]),l.push(["L",d,u]),l.push(["L",d,r.yd]),l.push(["L",r.xd,r.yd])}return e.roundPathCorners(l,e.LINK_ROUNDED_CORNERS,!1)}if(e._isMoved(i)&&e._isMoved(n)){switch(l=[],s){case e.orientation.top:case e.orientation.top_left:if(r.ya+o>r.yd){var d=r.xa<r.xd?n.x+n.w+o/2:n.x-o/2,u=n.y+n.h+o,f=i.y-o;l.push(["M",r.xa,r.ya]),l.push(["L",r.xa,u]),l.push(["L",d,u]),l.push(["L",d,f]),l.push(["L",r.xc,f]),l.push(["L",r.xd,r.yd])}else l.push(["M",r.xa,r.ya]),l.push(["L",r.xa,n.y+n.h+o]),l.push(["L",r.xc,n.y+n.h+o]),l.push(["L",r.xd,r.yd]);break;case e.orientation.bottom:case e.orientation.bottom_left:r.ya-o<r.yd?(d=r.xa<r.xd?n.x+n.w+o/2:n.x-o/2,u=n.y-o,f=i.y+i.h+o,l.push(["M",r.xa,r.ya]),l.push(["L",r.xa,u]),l.push(["L",d,u]),l.push(["L",d,f]),l.push(["L",r.xc,f]),l.push(["L",r.xd,r.yd])):(l.push(["M",r.xa,r.ya]),l.push(["L",r.xa,n.y-o]),l.push(["L",r.xc,n.y-o]),l.push(["L",r.xd,r.yd]));break;case e.orientation.right:case e.orientation.right_top:if(r.xa-o<r.xd){u=r.ya<r.yd?n.y+n.h+o/2:n.y-o/2,d=n.x-o;var h=i.x+i.w+o;l.push(["M",r.xa,r.ya]),l.push(["L",d,r.ya]),l.push(["L",d,u]),l.push(["L",h,u]),l.push(["L",h,r.yc]),l.push(["L",r.xd,r.yd])}else l.push(["M",r.xa,r.ya]),l.push(["L",n.x-o,r.ya]),l.push(["L",n.x-o,r.yc]),l.push(["L",r.xd,r.yd]);break;case e.orientation.left:case e.orientation.left_top:r.xa+o>r.xd?(u=r.ya<r.yd?n.y+n.h+o/2:n.y-o/2,d=n.x+n.w+o,h=i.x-o,l.push(["M",r.xa,r.ya]),l.push(["L",d,r.ya]),l.push(["L",d,u]),l.push(["L",h,u]),l.push(["L",h,r.yc]),l.push(["L",r.xd,r.yd])):(l.push(["M",r.xa,r.ya]),l.push(["L",n.x+n.w+o,r.ya]),l.push(["L",n.x+n.w+o,r.yc]),l.push(["L",r.xd,r.yd]))}return e.roundPathCorners(l,e.LINK_ROUNDED_CORNERS,!1)}return null}},e.ui._base_nodeBtns=e.ui.nodeBtns,e.ui.nodeBtns=function(t,n,i,r,o){var s="";return o._tree_menu_temp?!n.isSplit&&i!==e.action.exporting&&r.nodeTreeMenuCloseButton&&o._tree_menu_temp.id==n.id&&(s+=r.nodeTreeMenuCloseButton):(s=e.ui._base_nodeBtns(t,n,i,r,o),t.nodeTreeMenu!=null&&!n.isSplit&&i!==e.action.exporting&&r.nodeTreeMenuButton&&(s+=r.nodeTreeMenuButton.replace("{id}",n.id))),s},e.ui._base_expandCollapseBtn=e.ui.expandCollapseBtn,e.ui.expandCollapseBtn=function(t,n,i,r,o){return t._tree_menu_temp?"":e.ui._base_expandCollapseBtn(t,n,i,r,o)},e.xScrollUI=function(t,n,i,r,o){this.element=t,this.requestParams=i,this.config=n,this.onSetViewBoxCallback=r,this.onDrawCallback=o,this.position=0,this.bar=null,this._event_id=e._guid()},e.xScrollUI.prototype.addListener=function(t){var n=this;if((this.config.mouseScrool==e.action.xScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var i=navigator.userAgent.indexOf("Mac OS")!==-1,r=e._getScrollSensitivity();(function(o,s,l){var c=!1;function d(){c=!0;var f=(n.position-n.bar.scrollLeft)/l;if(f>0)f++;else{if(f==0)return void(c=!1);f--}Math.ceil(n.bar.scrollLeft)==Math.ceil(n.position)?c=!1:(n.bar.scrollLeft+=f,u(d))}o.addEventListener("wheel",function(f){if(!f.ctrlKey){var h=0;if(n.config.mouseScrool==e.action.xScroll)(h=f.deltaX||f.wheelDeltaX)||(h=f.deltaY||f.wheelDeltaY);else if(n.config.mouseScrool==e.action.scroll&&!(h=i||!f.shiftKey?f.deltaX||f.wheelDeltaX:f.deltaY||f.wheelDeltaY))return;h=-h,h=Math.max(-1,Math.min(1,h)),n.position+=-h*s;var p=parseFloat(n.innerBar.clientWidth)-parseFloat(n.bar.clientWidth);n.position<0&&(n.position=0),n.position>p&&(n.position=p),c||d()}},{passive:!0});var u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){setTimeout(f,20)}})(t,r.speed,r.smooth)}},e.xScrollUI.prototype.create=function(t){if(this.config.showXScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.xScroll){var n=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:t+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var i=n.requestParams(),r=(parseFloat(n.innerBar.clientWidth)-parseFloat(n.bar.clientWidth))/100,o=this.scrollLeft/r,s=(i.boundary.right-i.boundary.left)/100;i.viewBox[0]=o*s+i.boundary.left,n.onSetViewBoxCallback(i.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){n.onDrawCallback()},500)}})}},e.xScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),n=(Math.abs(t.boundary.maxX-t.boundary.minX)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.right:case e.orientation.right_top:n=Math.abs(t.boundary.minX*t.scale)}this.innerBar.style.width=n+"px";var i=(t.boundary.right-t.boundary.left)/100,r=(t.viewBox[0]-t.boundary.left)/i;r<0?r=0:r>100&&(r=100);var o=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,s=r*o;this.bar.ignore=!0,this.bar.scrollLeft=s,this.position=this.bar.scrollLeft,this.bar.style.visibility=o<=0?"hidden":"",this.config.showXScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.xScrollUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.yScrollUI=function(t,n,i,r,o){this.element=t,this.requestParams=i,this.config=n,this.onSetViewBoxCallback=r,this.onDrawCallback=o,this.position=0,this.bar=null,this._event_id=e._guid()},e.yScrollUI.prototype.addListener=function(t){var n=this;if((this.config.mouseScrool==e.action.yScroll||this.config.mouseScrool==e.action.scroll)&&this.bar){var i=navigator.userAgent.indexOf("Mac OS")!==-1,r=e._getScrollSensitivity();(function(o,s,l){var c=!1;function d(){c=!0;var f=(n.position-n.bar.scrollTop)/l;if(f>0)f++;else{if(f==0)return void(c=!1);f--}Math.ceil(n.bar.scrollTop)==Math.ceil(n.position)?c=!1:(n.bar.scrollTop+=f,u(d))}o.addEventListener("wheel",function(f){if(!f.ctrlKey){var h=0;if(n.config.mouseScrool==e.action.yScroll)(h=f.deltaY||f.wheelDeltaY)||(h=f.deltaX||f.wheelDeltaX);else if(n.config.mouseScrool==e.action.scroll&&!(h=i||!f.shiftKey?f.deltaY||f.wheelDeltaY:f.deltaX||f.wheelDeltaX))return;h=-h,h=Math.max(-1,Math.min(1,h)),n.position+=-h*s;var p=parseFloat(n.innerBar.clientHeight)-parseFloat(n.bar.clientHeight);n.position<0&&(n.position=0),n.position>p&&(n.position=p),c||d()}},{passive:!0});var u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){setTimeout(f,20)}})(t,r.speed,r.smooth)}},e.yScrollUI.prototype.create=function(t){if(this.config.showYScroll===e.scroll.visible||this.config.mouseScrool===e.action.scroll||this.config.mouseScrool===e.action.yScroll){var n=this;this.bar&&this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:t+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var i=n.requestParams(),r=(parseFloat(n.innerBar.clientHeight)-parseFloat(n.bar.clientHeight))/100,o=this.scrollTop/r,s=(i.boundary.bottom-i.boundary.top)/100;i.viewBox[1]=o*s+i.boundary.top,n.onSetViewBoxCallback(i.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){n.onDrawCallback()},500)}})}},e.yScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),n=(Math.abs(t.boundary.maxY-t.boundary.minY)+2*this.config.padding)*t.scale;switch(this.config.orientation){case e.orientation.bottom:case e.orientation.bottom_left:n=Math.abs(t.boundary.minY*t.scale)}this.innerBar.style.height=n+"px";var i=(t.boundary.bottom-t.boundary.top)/100,r=(t.viewBox[1]-t.boundary.top)/Math.abs(i);r<0?r=0:r>100&&(r=100);var o=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,s=r*o;this.bar.ignore=!0,this.bar.scrollTop=s,this.position=this.bar.scrollTop,this.bar.style.visibility=o<=0?"hidden":"",this.config.showYScroll!==e.scroll.visible&&(this.bar.style.visibility="hidden"),e.events.publish("change",[this,{isScrollBarVisible:this.bar.style.visibility!="hidden"}])}},e.yScrollUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.prototype.zoom=function(t,n,i,r){var o=this.getViewBox().slice(0),s=o,l=o[2],c=o[3];t===!0?(o[2]=o[2]/e.SCALE_FACTOR,o[3]=o[3]/e.SCALE_FACTOR):t===!1?(o[2]=o[2]*e.SCALE_FACTOR,o[3]=o[3]*e.SCALE_FACTOR):(o[2]=o[2]/t,o[3]=o[3]/t),n||(n=[50,50]),o[0]=s[0]-(o[2]-l)/(100/n[0]),o[1]=s[1]-(o[3]-c)/(100/n[1]);var d=this.getScale(o);if(o[2]=this.width()/d,o[3]=this.height()/d,t===!0&&d<this.config.scaleMax||t===!1&&d>this.config.scaleMin||t!=0&&t!=1&&d<this.config.scaleMax&&d>this.config.scaleMin){this._hideBeforeAnimation();var u=this;i?(clearTimeout(u._timeout),e.animate(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:o},this.config.anim.duration,this.config.anim.func,function(){clearTimeout(u._timeout),u._timeout=setTimeout(function(){u._draw(!0,e.action.zoom,null,r)},500)})):(this.setViewBox(o),clearTimeout(u._timeout),u._timeout=setTimeout(function(){u._draw(!0,e.action.zoom,null,r)},500))}},e.loading={},e.loading.show=function(t){var n=document.createElement("div");n.id="bft-loading",n.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bft-loading-dots div {margin: 10px;}      .bft-dot-1 {background-color: #039BE5;}.bft-dot-2 {background-color: #F57C00;}.bft-dot-3 {background-color: #FFCA28;}      .bft-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bft-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bft-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bft-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="bft-loading-dots"><div class="bft-loading-dots--dot bft-dot-1"></div><div class="bft-loading-dots--dot bft-dot-2"></div><div class="bft-loading-dots--dot bft-dot-3"></div></div>',t.element.appendChild(n)},e.loading.hide=function(t){var n=t.element.querySelector("#bft-loading");n&&n.parentNode.removeChild(n)},e.pdfPrevUI={},e.loc||(e.loc={}),e.loc.ppdfCmdTitle="PDF Preview",e.loc.ppdfSave="Save",e.loc.ppdfCancel="Cancel",e.loc.ppdfFormat="Format",e.loc.ppdfFitToDrwaing="Fit",e.loc.ppdfA4="A4",e.loc.ppdfA3="A3",e.loc.ppdfA2="A2",e.loc.ppdfA1="A1",e.loc.ppdfLetter="Letter",e.loc.ppdfLegal="Legal",e.loc.ppdfLayout="Layout",e.loc.ppdfPortrait="Portrait",e.loc.ppdfLandscape="Landscape",e.loc.ppdfFittopagewidth="Fit to page width",e.loc.ppdfMargin="Margin",e.loc.ppdfHeader="Header",e.loc.ppdfFooter="Footer",e.loc.ppdfScale="Scale",e.pdfPrevUI.show=function(t,n){e.pdfPrevUI.hide(t),n=t._defaultExportOptions(n,"pdf");var i=document.createElement("div");i.classList.add(t.config.mode),i.id="bft-ppdf-btns",Object.assign(i.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -265px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"265px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),t.element.appendChild(i),i.innerHTML="<h1>"+e.loc.ppdfCmdTitle+'</h1><div><button type="button" id="bft-prev-save" style="font-size: 14px; width: 90px;">'+e.loc.ppdfSave+'</button>&nbsp;<button type="button" id="bft-prev-cancel" style="width: 90px;font-size: 14px;">'+e.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="bft-size">'+e.loc.ppdfFormat+': </label><select id="bft-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="bft-size"><option value="fit">'+e.loc.ppdfFitToDrwaing+'</option><option value="A4">'+e.loc.ppdfA4+'</option><option value="A3">'+e.loc.ppdfA3+'</option><option value="A2">'+e.loc.ppdfA2+'</option><option value="A1">'+e.loc.ppdfA1+'</option><option value="Letter">'+e.loc.ppdfLetter+'</option><option value="Legal">'+e.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="bft-ppdf-layout">'+e.loc.ppdfLayout+': </label><select id="bft-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+e.loc.ppdfPortrait+'</option><option value="true">'+e.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="bft-scale">'+e.loc.ppdfScale+': </label><select id="bft-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="bft-scale"><option value="fit">'+e.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="bft-ppdf-header">'+e.loc.ppdfHeader+': </label><input id="bft-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bft-ppdf-footer">'+e.loc.ppdfFooter+': </label><input id="bft-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bft-ppdf-margin">'+e.loc.ppdfMargin+': </label><input id="bft-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var r=document.createElement("div");r.id="bft-ppdf-wrapper",Object.assign(r.style,{"overflow-y":"scroll","z-index":11,position:"absolute",top:0,left:"285px","background-color":"#eee",width:t.width()-270+"px",height:"100%"}),t.element.appendChild(r),r.innerHTML='<div id="bft-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var o,s,l,c=t.element.querySelector("#bft-ppdf-size"),d=t.element.querySelector("#bft-ppdf-layout"),u=t.element.querySelector("#bft-ppdf-scale"),f=t.element.querySelector("#bft-ppdf-margin"),h=t.element.querySelector("#bft-ppdf-header"),p=t.element.querySelector("#bft-ppdf-footer");c.value=n.format,d.value=n.landscape,u.value=n.scale,f.value=n.margin,h.value=n.header,p.value=n.footer,e.animate(t.element.querySelector("#bft-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,e.anim.outSin,function(){t.exportPDF(n,e.pdfPrevUI._handler)}),t.element.querySelector("#bft-prev-cancel").addEventListener("click",function(){e.pdfPrevUI.hide(t)}),t.element.querySelector("#bft-prev-save").addEventListener("click",function(){t.exportPDF(n),e.pdfPrevUI.hide(t)}),e.pdfPrevUI._showHide(c,d,u),c.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.format=c.value,t.exportPDF(n,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,u)})}),d.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.landscape=d.value=="true",t.exportPDF(n,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,u)})}),u.addEventListener("change",function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.scale=u.value,t.exportPDF(n,e.pdfPrevUI._handler),e.pdfPrevUI._showHide(c,d,u)})}),f.addEventListener("keyup",function(){clearTimeout(o),o=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="";var g=f.value.split(",");if(g.length==4){for(var v=0;v<g.length;v++)g[v]=parseInt(g[v]);n.margin=g,t.exportPDF(n,e.pdfPrevUI._handler)}})},1e3)}),h.addEventListener("keyup",function(){clearTimeout(s),s=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.header=h.value,t.exportPDF(n,e.pdfPrevUI._handler)})},1e3)}),p.addEventListener("keyup",function(){clearTimeout(l),l=setTimeout(function(){e.animate(t.element.querySelector("#bft-ppdf-content"),{opacity:1},{opacity:0},300,e.anim.inSin,function(){t.element.querySelector("#bft-ppdf-content").innerHTML="",n.footer=p.value,t.exportPDF(n,e.pdfPrevUI._handler)})},1e3)})},e.pdfPrevUI._showHide=function(t,n,i){t.value=="A4"||t.value=="A3"||t.value=="A2"||t.value=="A1"||t.value=="Letter"||t.value=="Legal"?(n.parentNode.style.display="block",i.parentNode.style.display="block"):(n.parentNode.style.display="none",i.parentNode.style.display="none")},e.pdfPrevUI._handler=function(t,n,i){var r=n.options,o=n.pages,s=r.margin[0],l=r.margin[2],c=document.createElement("div");c.classList.add(t.config.mode),c.innerHTML=i.outerHTML,e._browser().msie&&(c.innerHTML=new XMLSerializer().serializeToString(i));for(var d=c.querySelector("svg"),u=t.element.querySelector("#bft-ppdf-content"),f=0;f<o.length;f++){var h=document.createElement("iframe");Object.assign(h.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),u.appendChild(h),d&&d.style.backgroundColor?h.style.backgroundColor=d.style.backgroundColor:h.style.backgroundColor="#fff";var p=h.contentWindow.document;p.open(),h.style.width=o[f].size.w+"px",h.style.height=o[f].size.h+"px",h.style.margin="10 auto",o[f].backgroundColor&&(h.style.backgroundColor=o[f].backgroundColor);var g=r.header;o[f].header&&(g=o[f].header),g&&(g=g.replace("{current-page}",f+1).replace("{total-pages}",o.length));var v=r.footer;o[f].footer&&(v=o[f].footer),v&&(v=v.replace("{current-page}",f+1).replace("{total-pages}",o.length)),o[f].html?p.write(e._exportHtml(o[f].html,n.styles,r,o[f].innerSize.w,o[f].innerSize.h,g,v,t.config.mode)):(d.setAttribute("viewBox",o[f].vb),p.write(e._exportHtml(c.innerHTML,n.styles,r,o[f].innerSize.w,o[f].innerSize.h,g,v,t.config.mode)));var _=p.getElementById("bft-header"),w=p.getElementById("bft-footer");if(_){var m=s-_.offsetHeight-7;_.style.top=m+"px"}if(w){var x=l-w.offsetHeight-7;w.style.bottom=x+"px"}p.close()}var y=t.element.querySelector("#bft-ppdf-content");e.animate(y,{opacity:0},{opacity:1},300,e.anim.outSin)},e.pdfPrevUI._getViewBox=function(t){var n=null;return t?(n=(n="["+(n=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),n=JSON.parse(n)):null},e._exportHtml=function(t,n,i,r,o,s,l,c){for(var d="",u=0;u<i.margin.length;u++)d+=i.margin[u]+"px ";var f='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head>'+n+'<body class="bft-'+c+'" style="margin:0; padding:0;"><div style="margin: '+d+";overflow:hidden;width:"+r+"px;height:"+o+'px">';return s&&(f+='<div id="bft-header" style="width:'+r+"px;color:#757575;position:absolute;left:"+i.margin[3]+'px;top:0;">'+s+"</div>"),f+=t,l&&(f+='<div id="bft-footer" style="width:'+r+"px;color:#757575;position:absolute;left:"+i.margin[3]+'px;bottom:0;">'+l+"</div>"),f+="</div>",f+="</body></html>"},e.pdfPrevUI.hide=function(t){var n=t.element.querySelector("#bft-ppdf-wrapper");if(n){n.parentNode.removeChild(n),n.style.opacity=0;var i=t.element.querySelector("#bft-ppdf-btns");i.parentNode.removeChild(i)}},e===void 0&&(e={}),e.events.on("renderdefs",function(t,n){for(var i=0;i<t.config.clinks.length;i++){var r=t.config.clinks[i].template;r||(r="orange");var o=e.clinkTemplates[r];n.defs+=o.defs}}),e.events.on("prerender",function(t,n){e.RENDER_CLINKS_BEFORE_NODES&&t._clink(t,n)}),e.events.on("render",function(t,n){e.RENDER_CLINKS_BEFORE_NODES||t._clink(t,n)}),e.events.on("drag",function(t,n,i,r){if(t instanceof e&&t.config.movable&&r)for(var o=0;o<r.length;o++){for(var s=r[o],l=t.element.querySelectorAll(`[data-c-l-from="${s}"]`),c=t.element.querySelectorAll(`[data-c-l-to="${s}"]`),d=0;d<l.length;d++)l[d].parentNode.removeChild(l[d]);for(d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}}),e.prototype._clink=function(t,n){for(var i="",r=0;r<this.config.clinks.length;r++){let N=function(L,O,X){X==null&&(X=1);var T=O.x-L.x,$=O.y-L.y,G=Math.sqrt(Math.pow(O.x-L.x,2)+Math.pow(O.y-L.y,2))/3;return G=G/(Math.sqrt(T*T+$*$)*X)*e.clinkCurve(o),{x:L.x+T/2-$*G,y:L.y+$/2+T*G}};var o=this.config.clinks[r],s=t.getNode(o.from),l=t.getNode(o.to);if(s&&n.res.visibleNodeIds.indexOf(s.id)!=-1&&l&&n.res.visibleNodeIds.indexOf(l.id)!=-1){var c=s.x,d=s.y,u=l.x,f=l.y,h={},p={},g=c+s.w/2,v=u+l.w/2,_=d+s.h/2,w=f+l.h/2,m=1;switch(this.config.orientation){case e.orientation.top:case e.orientation.top_left:g<=v?(m=1,h.x=g+s.w/10,p.x=v-l.w/10):(m=-1,h.x=g-s.w/10,p.x=v+l.w/10),d==f?(m=1,h.y=d,p.y=f):d>f?(h.y=d,p.y=f+l.h):(h.y=d+s.h,p.y=f);break;case e.orientation.bottom:case e.orientation.bottom_left:g<=v?(m=-1,h.x=g+s.w/10,p.x=v+l.w/10):(m=1,h.x=g-s.w/10,p.x=v+l.w/10),d==f?(m=-1,h.y=d+s.h,p.y=f+l.h):d>f?(h.y=d,p.y=f+l.h):(h.y=d+s.h,p.y=f);break;case e.orientation.left:case e.orientation.left_top:_<=w?(m=-1,h.y=_+s.h/5,p.y=w+l.h/5):(m=1,h.y=_-s.h/5,p.y=w+l.h/5),c==u?(m=-1,h.x=c,p.x=u):c>u?(h.x=c,p.x=u+l.w):(h.x=c+s.w,p.x=u);break;case e.orientation.right:case e.orientation.right_top:_<=w?(m=1,h.y=_+s.h/5,p.y=w+l.h/5):(m=-1,h.y=_-s.h/5,p.y=w+l.h/5),c==u?(m=1,h.x=c+s.w,p.x=u+l.w):c>u?(h.x=c,p.x=u+l.w):(h.x=c+s.w,p.x=u)}var x=N(h,p,m),y=o.template;y||(y="orange");var b=e.clinkTemplates[y];if(o.label){var C=e.clinkLabelPosition(o,h,p,x);i+=b.label.replace("{x}",C.x).replace("{y}",C.y).replace("{val}",o.label)}var E="M"+h.x+","+h.y+"C"+h.x+","+h.y+" "+x.x+","+x.y+" "+p.x+","+p.y;i+=("<g "+e.attr.c_link_from+'="{from}" '+e.attr.c_link_to+'="{to}">').replace("{from}",s.id).replace("{to}",l.id)+b.link.replaceAll("{d}",E)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+E+'" />',i+=e.grCloseTag}}n.content+=i},e.clinkLabelPosition=function(t,n,i,r){var o=(i.x-n.x)/2+n.x,s=(i.y-n.y)/2+n.y;return{x:(o-r.x)/2+r.x,y:(s-r.y)/2+r.y}},e.clinkCurve=function(t){return e.CLINK_CURVE},e.prototype.addClink=function(t,n,i,r){this._putInUndoStack(),this.clearRedo();for(var o=this.config.clinks.length-1;o>=0;o--){var s=this.config.clinks[o];s.from==t&&s.to==n&&this.config.clinks.splice(o,1)}return this.config.clinks.push({from:t,to:n,label:i,template:r}),e.events.publish("updated",[this]),this},e.prototype.removeClink=function(t,n){this._putInUndoStack(),this.clearRedo();for(var i=this.config.clinks.length-1;i>=0;i--){var r=this.config.clinks[i];r.from==t&&r.to==n&&this.config.clinks.splice(i,1)}return e.events.publish("updated",[this]),this},e.clinkTemplates={},e.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},e===void 0&&(e={}),e.events.on("renderdefs",function(t,n){for(var i=0;i<t.config.slinks.length;i++){var r=t.config.slinks[i].template;r||(r="orange");var o=e.slinkTemplates[r];n.defs+=o.defs}}),e.events.on("render",function(t,n){t._slinks(t,n)}),e.events.on("drag",function(t,n,i,r){if(t instanceof e&&t.config.movable&&r)for(var o=0;o<r.length;o++){for(var s=r[o],l=t.element.querySelectorAll(`[data-s-l-from="${s}"]`),c=t.element.querySelectorAll(`[data-s-l-to="${s}"]`),d=0;d<l.length;d++)l[d].parentNode.removeChild(l[d]);for(d=0;d<c.length;d++)c[d].parentNode.removeChild(c[d])}}),e.prototype._slinks=function(t,n){var i="",r=this.getScale(),o=n.res.boundary;function s(f,h,p){var g=[],v=null,_="left",w=f.lcn?f.lcn:"base",m=t._layoutConfigs[w];switch(m.orientation){case e.orientation.top:case e.orientation.top_left:case e.orientation.bottom:case e.orientation.bottom_left:h.x>f.x&&(_="right");break;case e.orientation.left:case e.orientation.left_top:case e.orientation.right:case e.orientation.right_top:_="top",h.y>f.y&&(_="bottom")}var x=e.t(f.templateName,f.min,r),y=m.levelSeparation;f.parent&&f.parent.layout&&(y=m.mixedHierarchyNodesSeparation);var b={p:f.x+f.w/2+x.expandCollapseSize,q:f.y,r:f.x+f.w/2+x.expandCollapseSize,s:o.minY+y};if(f.sl==h.sl)switch(v=h,m.orientation){case e.orientation.top:case e.orientation.top_left:g.push([b.p,b.q]),g.push([b.p,b.q-y/3]),x=e.t(v.templateName,v.min,r),g.push([v.x+v.w/2+x.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],v.y]);break;case e.orientation.bottom:case e.orientation.bottom_left:b.q=f.y+f.h,b.s=o.maxY-y,g.push([b.p,b.q]),g.push([b.r,f.y+f.h+y/3]),x=e.t(v.templateName,v.min,r),g.push([v.x+v.w/2+x.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],v.y+v.h]);break;case e.orientation.left:case e.orientation.left_top:b.p=f.x,b.q=f.y+f.h/2+x.expandCollapseSize,b.r=o.minX-y,b.s=f.y+f.h/2+x.expandCollapseSize,g.push([b.p,b.q]),g.push([f.x-y/3,b.q]),x=e.t(v.templateName,v.min,r),g.push([g[g.length-1][0],v.y+v.h/2+x.expandCollapseSize]),g.push([v.x,g[g.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:b.p=f.x+f.w,b.q=f.y+f.h/2+x.expandCollapseSize,b.r=o.maxX+y,b.s=f.y+f.h/2+x.expandCollapseSize,g.push([b.p,b.q]),g.push([f.x+f.w+y/3,b.q]),x=e.t(v.templateName,v.min,r),g.push([g[g.length-1][0],v.y+v.h/2+x.expandCollapseSize]),g.push([v.x+v.w,g[g.length-1][1]])}else{switch(m.orientation){case e.orientation.top:case e.orientation.top_left:g.push([b.p,b.q]),g.push([b.r,f.y-y/3]);break;case e.orientation.bottom:case e.orientation.bottom_left:b.q=f.y+f.h,b.s=o.maxY-y,g.push([b.p,b.q]),g.push([b.r,f.y+f.h+y/3]);break;case e.orientation.left:case e.orientation.left_top:b.p=f.x,b.q=f.y+f.h/2+x.expandCollapseSize,b.r=o.minX-y,b.s=f.y+f.h/2+x.expandCollapseSize,g.push([b.p,b.q]),g.push([f.x-y/3,b.q]);break;case e.orientation.right:case e.orientation.right_top:b.p=f.x+f.w,b.q=f.y+f.h/2+x.expandCollapseSize,b.r=o.maxX+y,b.s=f.y+f.h/2+x.expandCollapseSize,g.push([b.p,b.q]),g.push([f.x+f.w+y/3,b.q])}for(var C=f,E=f;E.parent;)E=E.parent;for(;v==null;){var N=!1,L=C.parent,O=L.leftNeighbor,X=L.rightNeighbor;if(L.id==h.id?v=L:e._intersects(L,b,m)&&(b=e._addPoint(L,g,m,b,_),N=!0),L.id!=h.id){for(;O;){if(O.id==h.id){v=O;break}e._intersects(O,b,m)&&(b=e._addPoint(O,g,m,b,_),N=!0),O=O.leftNeighbor}for(;X;){if(X.id==h.id){v=X;break}e._intersects(X,b,m)&&(b=e._addPoint(X,g,m,b,_),N=!0),X=X.rightNeighbor}}if(!N){var T=g[g.length-1][0],$=0;if(L.parent){y=m.levelSeparation,L.parent.layout&&(y=m.mixedHierarchyNodesSeparation);var G=t.manager.bordersByRootIdAndLevel[E.id][L.parent.sl];switch(m.orientation){case e.orientation.top:case e.orientation.top_left:$=G.maxY+y*(2/3);break;case e.orientation.bottom:case e.orientation.bottom_left:$=G.minY-y*(2/3);break;case e.orientation.left:case e.orientation.left_top:T=G.maxX+y*(2/3),$=g[g.length-1][1];break;case e.orientation.right:case e.orientation.right_top:T=G.minX-y*(2/3),$=g[g.length-1][1]}}g.push([T,$])}C=L}switch(x=e.t(v.templateName,v.min,r),g.splice(g.length-1,1),m.orientation){case e.orientation.top:case e.orientation.top_left:g.push([v.x+v.w/2+x.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],v.y+v.h]);break;case e.orientation.bottom:case e.orientation.bottom_left:g.push([v.x+v.w/2+x.expandCollapseSize,g[g.length-1][1]]),g.push([g[g.length-1][0],v.y]);break;case e.orientation.left:case e.orientation.left_top:g.push([g[g.length-1][0],v.y+v.h/2+x.expandCollapseSize]),g.push([v.x+v.w,g[g.length-1][1]]);break;case e.orientation.right:case e.orientation.right_top:g.push([g[g.length-1][0],v.y+v.h/2+x.expandCollapseSize]),g.push([v.x,g[g.length-1][1]])}}var te=c.template;te||(te="orange");var K,H,F=null;switch((x=e.slinkTemplates[te]).labelPosition){case"start":F={x:g[1][0],y:g[1][1]};break;case"middle":var W=Math.ceil(g.length/2);K=g[W],H=g[W-1],F={x:(K[0]+H[0])/2,y:(K[1]+H[1])/2};break;case"end":F={x:g[g.length-2][0],y:g[g.length-2][1]}}p&&(g=g.reverse()),g[0].unshift("M");for(var ie=1;ie<g.length;ie++)g[ie].unshift("L");var Z=e.roundPathCorners(g,e.LINK_ROUNDED_CORNERS,!1);if(c.label){var re=x.label.replace("{x}",F.x).replace("{y}",F.y).replace("{val}",c.label),ue=e._getLabelSize(re),B=-ue.height/2;switch(m.orientation){case e.orientation.bottom:case e.orientation.bottom_left:B=ue.height}i+=x.label.replace("{x}",F.x).replace("{y}",F.y+B).replace("{val}",c.label)}var oe=f.id,A=h.id;p&&(oe=h.id,A=f.id),i+=("<g "+e.attr.s_link_from+'="{from}" '+e.attr.s_link_to+'="{to}">').replace("{from}",oe).replace("{to}",A)+x.link.replaceAll("{d}",Z)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+Z+'" />',i+=e.grCloseTag}for(var l=0;l<this.config.slinks.length;l++){var c=this.config.slinks[l],d=t.getNode(c.from),u=t.getNode(c.to);d&&u&&n.res.visibleNodeIds.indexOf(u.id)!=-1&&n.res.visibleNodeIds.indexOf(d.id)!=-1&&(d.sl>=u.sl?s(d,u,!1):s(u,d,!0))}n.content+=i},e.prototype.addSlink=function(t,n,i,r){this._putInUndoStack(),this.clearRedo();for(var o=this.config.slinks.length-1;o>=0;o--){var s=this.config.slinks[o];s.from==t&&s.to==n&&this.config.slinks.splice(o,1)}return this.config.slinks.push({from:t,to:n,label:i,template:r}),e.events.publish("updated",[this]),this},e.prototype.removeSlink=function(t,n){this._putInUndoStack(),this.clearRedo();for(var i=this.config.slinks.length-1;i>=0;i--){var r=this.config.slinks[i];r.from==t&&r.to==n&&this.config.slinks.splice(i,1)}return e.events.publish("updated",[this]),this},e.slinkTemplates={},e.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},e.events.on("renderbuttons",function(t,n){if(n.node&&n.node.tags&&n.node.tags.has("group-dotted-lines")){var i=t.getScale(),r=e.t(n.node.templateName,n.node.min,i),o="";n.node.min?(r.nodeGroupDottedOpenButton||console.error(`[${n.node.templateName}].nodeGroupDottedOpenButton is not defined`),o+=`<g style="cursor:pointer;"  data-ctrl-n-dotted-open="${n.node.id}" transform="matrix(1,0,0,1,${n.node.x},${n.node.y})">`,o+=r.nodeGroupDottedOpenButton):(r.nodeGroupDottedCloseButton||console.error(`[${n.node.templateName}].nodeGroupDottedCloseButton is not defined`),o+=`<g style="cursor:pointer;" transform="matrix(1,0,0,1,${n.node.x},${n.node.y})" data-ctrl-n-dotted-close="${n.node.id}">`,o+=r.nodeGroupDottedCloseButton),o=(o+="</g>").replaceAll("{cw}",n.node.w/2).replaceAll("{ch}",n.node.h/2).replaceAll("{ew}",n.node.w-(n.node.padding?n.node.padding[1]:0)).replaceAll("{eh}",n.node.h-(n.node.padding?n.node.padding[2]:0));var s=t.getNode(n.node.stChildrenIds[0]);if(o.indexOf("{collapsed-children-count}")!=-1){var l=e.collapsedChildrenCount(t,s);o=o.replace("{collapsed-children-count}",l)}if(o.indexOf("{collapsed-children-total-count}")!=-1){var c=e.collapsedChildrenTotalCount(t,s);o=o.replace("{collapsed-children-total-count}",c)}if(o.indexOf("{children-count}")!=-1){var d=e.childrenCount(t,s);o=o.replace("{children-count}",d)}if(o.indexOf("{children-total-count}")!=-1){var u=e.childrenTotalCount(t,s);o=o.replace("{children-total-count}",u)}n.html+=o}}),e.events.on("redraw",function(t,n){if(t.config.groupDottedLines.length){for(var i=t.element.querySelectorAll("[data-ctrl-n-dotted-close]"),r=0;r<i.length;r++)i[r].addEventListener("click",function(){var s=this.getAttribute("data-ctrl-n-dotted-close");t.minimize(s)});var o=t.element.querySelectorAll("[data-ctrl-n-dotted-open]");for(r=0;r<o.length;r++)o[r].addEventListener("click",function(){var s=this.getAttribute("data-ctrl-n-dotted-open");t.maximize(s)})}}),e===void 0&&(e={}),e.prototype.undo=function(t){if(this.config.undoRedoStorageName){var n=this.undoStepsCount();if(n!=0){this._putInRedoStack();var i=`${this.config.undoRedoStorageName}_undo_`+(n-1),r=sessionStorage.getItem(i);sessionStorage.removeItem(i);var o=JSON.parse(r);this.config.nodes=o.nodes,this.config.clinks=o.clinks,this.config.slinks=o.slinks,this.config.groupDottedLines=o.groupDottedLines,this.config.dottedLines=o.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.redo=function(t){if(this.config.undoRedoStorageName){var n=this.redoStepsCount();if(n!=0){this._putInUndoStack();var i=`${this.config.undoRedoStorageName}_redo_`+(n-1),r=sessionStorage.getItem(i);sessionStorage.removeItem(i);var o=JSON.parse(r);this.config.nodes=o.nodes,this.config.clinks=o.clinks,this.config.slinks=o.slinks,this.config.groupDottedLines=o.groupDottedLines,this.config.dottedLines=o.dottedLines,e.events.publish("updated",[this]),this.filterUI.update(),this.draw(e.action.update,void 0,t),this.undoRedoUI.refresh()}}},e.prototype.clearRedo=function(){if(this.config.undoRedoStorageName){for(var t=`${this.config.undoRedoStorageName}_redo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)sessionStorage.removeItem(t+i),i++;this.undoRedoUI.refresh()}},e.prototype.clearUndo=function(){if(this.config.undoRedoStorageName){for(var t=`${this.config.undoRedoStorageName}_undo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)sessionStorage.removeItem(t+i),i++;this.undoRedoUI.refresh()}},e.prototype.undoStepsCount=function(){for(var t=`${this.config.undoRedoStorageName}_undo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)i++;return i},e.prototype.redoStepsCount=function(){for(var t=`${this.config.undoRedoStorageName}_redo_`,n=Object.keys(sessionStorage),i=0;n.indexOf(t+i)!=-1;)i++;return i},e.prototype._putInUndoStack=function(){if(this.config.undoRedoStorageName){var t=`${this.config.undoRedoStorageName}_undo_`+this.undoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e.prototype._putInRedoStack=function(){if(this.config.undoRedoStorageName){var t=`${this.config.undoRedoStorageName}_redo_`+this.redoStepsCount();sessionStorage.setItem(t,JSON.stringify({nodes:this.config.nodes,clinks:this.config.clinks,slinks:this.config.slinks,groupDottedLines:this.config.groupDottedLines,dottedLines:this.config.dottedLines}))}},e===void 0&&(e={}),e.undoRedoUI=function(){this.instance=null,this._event_id=e._guid()},e.undoRedoUI.prototype.init=function(t){t.config.undoRedoStorageName&&(this.instance=t,this.refresh())},e.undoRedoUI.prototype.refresh=function(){var t=this;if(this.instance.config.undoRedoStorageName){var n={undoStepsCount:this.instance.undoStepsCount(),redoStepsCount:this.instance.redoStepsCount()};if(e.events.publish("change",[this,n])!==!1){var i=this.instance.element.querySelector("[data-undo]"),r=this.instance.element.querySelector("[data-redo]");if(!i||!r){var o=document.createElement("div");o.classList.add("bft-undo-redo"),o.innerHTML=`<span data-undo>${e.icon.undo(50,50,"")}<span class="bft-undo-i"></span></span>
                            <span data-redo>${e.icon.redo(50,50,"")}<span class="bft-redo-i"></span></span>`,this.instance.element.appendChild(o),i=this.instance.element.querySelector("[data-undo]"),r=this.instance.element.querySelector("[data-redo]"),i.addEventListener("click",function(){t.instance.undo()}),r.addEventListener("click",function(){t.instance.redo()})}n.undoStepsCount>0?(i.classList.add("bft-ur-clickable"),i.querySelector(".bft-undo-i").innerHTML=n.undoStepsCount,i.querySelector(".bft-undo-i").style.display="inline-block"):(i.classList.remove("bft-ur-clickable"),i.querySelector(".bft-undo-i").style.display="none"),n.redoStepsCount>0?(r.classList.add("bft-ur-clickable"),r.querySelector(".bft-redo-i").innerHTML=n.redoStepsCount,r.querySelector(".bft-redo-i").style.display="inline-block"):(r.classList.remove("bft-ur-clickable"),r.querySelector(".bft-redo-i").style.display="none")}}},e.undoRedoUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.undoRedoUI.prototype.onChange=function(t){return this.on("change",function(n,i){return t.call(n,i)})},e.events.on("redraw",function(t,n){if(t.config.miniMap){if(t.manager.action!=e.action.move){e.miniMap._settings._scale=Math.min(e.miniMap.width/(t.response.boundary.maxX-t.response.boundary.minX),e.miniMap.height/(t.response.boundary.maxY-t.response.boundary.minY)),e.miniMap._settings._translateX=-t.response.boundary.minX*e.miniMap._settings._scale+(e.miniMap.width-(t.response.boundary.maxX-t.response.boundary.minX)*e.miniMap._settings._scale)/2,e.miniMap._settings._translateY=-t.response.boundary.minY*e.miniMap._settings._scale+(e.miniMap.height-(t.response.boundary.maxY-t.response.boundary.minY)*e.miniMap._settings._scale)/2;var i=t.getViewBox();e.miniMap._init(t),e.miniMap._drawMainCanvas(t),e.miniMap._drawRectSelectorCanvas(t,i);var r,o,s,l,c=t.element.querySelector('[data-id="mini-map-focus"]'),d=!1,u=null;c.onmousedown=function(h){var p,g,v,_=c.getBoundingClientRect(),w=_.left,m=_.top;if(r=parseInt(h.clientX-w),o=parseInt(h.clientY-m),p=o,g=(r-e.miniMap._settings._translateX)/e.miniMap._settings._scale,v=(p-e.miniMap._settings._translateY)/e.miniMap._settings._scale,g>i[0]&&g<i[0]+i[2]&&v>i[1]&&v<i[1]+i[3])return h.preventDefault(),h.stopPropagation(),void(d=!0)},c.onmousemove=function(h){if(d){h.preventDefault(),h.stopPropagation(),e.miniMap._mouseMove=!0;var p=c.getBoundingClientRect(),g=p.left,v=p.top;s=parseInt(h.clientX-g),l=parseInt(h.clientY-v);var _=(s-r)/e.miniMap._settings._scale,w=(l-o)/e.miniMap._settings._scale;i[0]=_+i[0],i[1]=w+i[1],t.setViewBox(i),u&&(clearTimeout(u),u=null),u=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,i),r=s,o=l}},c.onmouseup=function(h){d&&(h.preventDefault(),h.stopPropagation(),d=!1)},c.onmouseout=function(h){d&&(h.preventDefault(),h.stopPropagation(),d=!1,e.miniMap._mouseMove=!1)},c.onclick=function(h){if(h.preventDefault(),h.stopPropagation(),e.miniMap._mouseMove)e.miniMap._mouseMove=!1;else{var p=c.getBoundingClientRect(),g=p.left,v=p.top;s=parseInt(h.clientX-g),l=parseInt(h.clientY-v);var _=s/e.miniMap._settings._scale,w=l/e.miniMap._settings._scale;i[0]=_-(i[0]+i[2]-i[0])/2-e.miniMap._settings._translateX/e.miniMap._settings._scale,i[1]=w-(i[1]+i[3]-i[1])/2-e.miniMap._settings._translateY/e.miniMap._settings._scale,t.setViewBox(i),u&&(clearTimeout(u),u=null),u=setTimeout(function(){t._draw(!0,e.action.move)},300),e.miniMap._drawRectSelectorCanvas(t,i)}}}}else{var f=t.element.querySelector('[data-id="mini-map"]');f&&f.parentNode.removeChild(f)}}),e.miniMap={},e.miniMap._settings={_translateX:0,_translateY:0,_scale:1},e.miniMap._drawMainCanvas=function(t){var n=t.element.querySelector('[data-id="mini-map-main"]'),i=n.getContext("2d");e.miniMap._initCtx(t,n,1);var r=0,o=[];(function s(l,c){if(Array.isArray(c))for(var d=0;d<c.length;d++)s(l,c[d]);else{for(i.fillStyle=e.miniMap.colors[3],i.beginPath(),i.lineWidth="0.5",i.fillRect(c.x,c.y,c.w,c.h),i.strokeRect(c.x,c.y,c.w,c.h),d=0;d<c.stChildrenIds.length;d++)r++,o.includes(c.id)||(r==1?i.fillStyle=e.miniMap.colors[0]:r==2?i.fillStyle=e.miniMap.colors[1]:r==3&&(i.fillStyle=e.miniMap.colors[2]),i.beginPath(),i.fillRect(c.x,c.y,c.w,c.h),i.strokeRect(c.x,c.y,c.w,c.h),o.push(c.id)),s(l,l.getNode(c.stChildrenIds[d])),r--;for(d=0;d<c.childrenIds.length;d++)s(l,l.getNode(c.childrenIds[d]))}})(t,t.roots)},e.miniMap._drawRectSelectorCanvas=function(t,n){var i=t.element.querySelector('[data-id="mini-map-focus"]'),r=i.getContext("2d");e.miniMap._initCtx(t,i,e.miniMap.opacity);var o=n[0],s=n[1],l=n[2],c=n[3];r.lineWidth=.5/e.miniMap._settings._scale,r.strokeStyle=e.miniMap.focusStroke,r.globalAlpha=1,r.clearRect(o,s,l,c),r.strokeRect(o,s,l,c)},e.miniMap._initCtx=function(t,n,i){var r=n.getContext("2d");n.width=n.width,n.height=n.height,r.clearRect(0,0,e.miniMap.width,e.miniMap.height),r.globalAlpha=i,i!=1&&(r.fillStyle=e.miniMap.selectorBackgroundColor,r.fillRect(0,0,e.miniMap.width,e.miniMap.height)),r.translate(e.miniMap._settings._translateX,e.miniMap._settings._translateY),r.scale(e.miniMap._settings._scale,e.miniMap._settings._scale)},e.miniMap._init=function(t){if(!t.element.querySelector('[data-id="mini-map"]')){var n=document.createElement("canvas");n.width=e.miniMap.width,n.height=e.miniMap.height,n.setAttribute("data-id","mini-map-main"),n.style.display="inline-block",n.style.backgroundColor=e.miniMap.backgroundColor,n.style.position="absolute",n.style.top=0,n.style.left=0;var i=document.createElement("canvas");i.width=e.miniMap.width,i.height=e.miniMap.height,i.setAttribute("data-id","mini-map-focus"),i.style.display="inline-block",i.style.position="absolute",i.style.top=0,i.style.left=0;var r=document.createElement("div");r.setAttribute("data-id","mini-map"),r.style.position="absolute";for(var o=["top","right","left","bottom"],s=0;s<o.length;s++){var l=o[s];e.isNEU(e.miniMap.position[l])||(e.miniMap.position[l]=="padding"?r.style[l]=t.config.padding+"px":r.style[l]=e.miniMap.position[l]+"px")}r.style.border=e.miniMap.border,r.style.padding=e.miniMap.padding+"px",r.style.backgroundColor=e.miniMap.backgroundColor;var c=document.createElement("div");c.style.position="relative",c.style.width=e.miniMap.width+"px",c.style.height=e.miniMap.height+"px",c.appendChild(n),c.appendChild(i),r.appendChild(c),t.element.appendChild(r);var d=function(g,v){t.__mouseScrollHandler(r,v)};t._addEvent(r,"DOMMouseScroll",d),t._addEvent(r,"mousewheel",d);var u=0,f=0,h=function(g){e.miniMap._mouseMove=!0;var v=g.clientX-u,_=g.clientY-f;if(!e.isNEU(r.style.left)){var w=parseFloat(r.style.left)+v;r.style.left=`${w}px`}if(!e.isNEU(r.style.right)){var m=parseFloat(r.style.right)-v;r.style.right=`${m}px`}if(!e.isNEU(r.style.bottom)){var x=parseFloat(r.style.bottom)-_;r.style.bottom=`${x}px`}if(!e.isNEU(r.style.top)){var y=parseFloat(r.style.top)+_;r.style.top=`${y}px`}u=g.clientX,f=g.clientY},p=function(){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p)};e.miniMap.draggable&&r.addEventListener("mousedown",function(g){u=g.clientX,f=g.clientY,document.addEventListener("mousemove",h),document.addEventListener("mouseup",p)})}},e.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],e.miniMap.selectorBackgroundColor="white",e.miniMap.backgroundColor="white",e.miniMap.focusStroke="#f57c00",e.miniMap.opacity=.4,e.miniMap.border="1px solid #aeaeae",e.miniMap.width=250,e.miniMap.height=140,e.miniMap.padding=5,e.miniMap.position={top:void 0,left:"padding",right:void 0,bottom:"padding"},e.miniMap.draggable=!0,e._search={},e._search.search=function(t,n,i,r,o,s,l){var c=[],d=n.toLowerCase(),u=d.split(" ");if(l&&u.length>1){var f=u[0];l[f]&&(i=[l[f]],u=(d=d.replace(f,"").trim()).split(" "))}u=u.filter(function(y,b,C){return C.indexOf(y)===b});for(var h={},p=0;p<t.length;p++)for(var g=t[p],v=0;v<i.length;v++){var _=i[v];if(!e.isNEU(g[_])){var w=g[_];if((n=e._search.searchAndComputeScore(u,w,_,s))!=null){var m=g.id;if(h[m]){if(h[m]&&h[m]<n.__score){h[m]=n.__score;for(var x=c.length-1;x>=0;x--)c[x].id==m&&c.splice(x,1);e._search.addNodeToResult(c,r,g,n,_,o)}}else h[m]=n.__score,e._search.addNodeToResult(c,r,g,n,_,o)}}}return c.sort(function(y,b){return y.__score<b.__score?1:y.__score>b.__score?-1:0}),c},e._search.addNodeToResult=function(t,n,i,r,o,s){var l={};l.id=i.id,e.isNEU(i[s])||(l[s]=i[s]);for(var c=0;c<n.length;c++){var d=n[c];e.isNEU(i[d])||e.isNEU(l[d])&&(l[d]=i[d])}r!=null&&(e.isNEU(l.__score)&&(l.__score=r.__score),e.isNEU(l.__searchField)&&(l.__searchField=o),e.isNEU(l.__searchMarks)&&(l.__searchMarks=r.__searchMarks)),t.push(l)},e._search.searchAndComputeScore=function(t,n,i,r){if(e.isNEU(n)||e.isNEU(t)||!t.length)return null;typeof n!="string"&&(n=n.toString());var o=n.toLowerCase(),s=e._search.searchIndexesOf(o,t);if(!s.length)return null;for(var l=o.length/100,c=0,d=0,u=c>0?100:0,f=0,h=0;h<t.length;h++)for(var p=t[h],g=0;g<s.length;g++)if(p.indexOf(s[g].searchPhrase)!=-1){f++;break}var v=100/(t.length/f);if(s.length){for(d=s[0].start,g=0;g<s.length;g++)if(c+=s[g].length,s[g].start<d&&(d=s[g].start),g>=1&&s[g-1].start>s[g].start){u=0;break}}var _=0;c!=0&&(_=c/l);var w=c>0?100:0;d!=0&&(w=100-d/l);var m=0;r&&r[i]&&(m=r[i]),v&&(v=v/100*50),_>0&&(_=_/100*10),w>0&&(w=w/100*10),u>0&&(u=u/100*10),m>0&&(m=m/100*20);var x=Math.round(1e4*(v+_+w+u+m));for(s.sort(function(b,C){return b.start<C.start?-1:b.start>C.start?1:0}),g=s.length-1;g>=0;g--)for(h=0;h<s.length;h++)h<g&&s[h].start+s[h].length>s[g].start&&s.splice(g,1);var y=n;for(g=s.length-1;g>=0;g--)y=(y=y.insert(s[g].start+s[g].length,"</mark>")).insert(s[g].start,"<mark>");return{__searchMarks:y,__score:x}},e._search.searchIndexesOf=function(t,n){var i=[];if(!e.isNEU(t))for(var r=0;r<n.length;r++){var o=n[r];if(!e.isNEU(o))for(var s=0;(s=t.indexOf(o,s))>-1;)i.push({length:o.length,start:s,searchPhrase:o}),s+=o.length}return i.sort(function(l,c){return l.length<c.length?1:l.length>c.length||l.start<c.start?-1:l.start>c.start?1:0}),i=i.filter(function(l){for(var c=!1,d=0;d<i.length;d++){var u=i[d].start,f=i[d].start+i[d].length-1,h=l.start,p=l.start+l.length-1;if(u==h&&f==p){c=!1;break}if(u>=h&&f<=p){c=!0;break}if(u<=h&&f>=p){c=!0;break}}return!c})},e.events.on("redraw",function(t,n){if(t.config.state){var i=[],r=[];(function o(s){if(Array.isArray(s))for(var l=0;l<s.length;l++)o(s[l]);else{for((typeof s.id!="string"||typeof s.id=="string"&&s.id.indexOf("split")==-1&&s.id.indexOf("mirror")==-1)&&(i.push(s.id),s.min==1&&r.push(s.id)),l=0;l<s.stChildren.length;l++)o(s.stChildren[l]);for(l=0;l<s.children.length;l++)o(s.children[l])}})(t.roots),e.state._put(t.config.roots,t.width(),t.height(),t.response.viewBox,i,r,t.response.adjustify,t.config.state)}}),e.state={},e.state._buildStateNames=function(t){return{paramScale:t+"-scale",paramX:t+"-x",paramY:t+"-y",paramExp:t+"-exp",paramMin:t+"-min",paramRoots:t+"-roots",paramAdjustify:t+"-adjustify"}},e.state._put=function(t,n,i,r,o,s,l,c){if(c&&!e.isNEU(o)&&o.length!=0){var d=e.state._buildStateNames(c.name),u={roots:t,scale:Math.min(n/r[2],i/r[3]),x:r[0],y:r[1],exp:o,min:s,adjustify:l};if(c.writeToUrlParams){var f=new URLSearchParams(window.location.search);f.has(d.paramScale)?f.set(d.paramScale,u.scale):f.append(d.paramScale,u.scale),f.has(d.paramX)?f.set(d.paramX,u.x):f.append(d.paramX,u.x),f.has(d.paramY)?f.set(d.paramY,u.y):f.append(d.paramY,u.y),f.has(d.paramExp)?f.set(d.paramExp,u.exp.join("*")):f.append(d.paramExp,u.exp.join("*")),f.has(d.paramRoots)&&Array.isArray(u.roots)?f.set(d.paramRoots,u.roots.join("*")):Array.isArray(u.roots)&&f.append(d.paramRoots,u.roots.join("*")),f.has(d.paramMin)?f.set(d.paramMin,u.min.join("*")):f.append(d.paramMin,u.min.join("*")),f.has(d.paramAdjustify)?f.set(d.paramAdjustify,u.adjustify.x+"*"+u.adjustify.y):f.append(d.paramAdjustify,u.adjustify.x+"*"+u.adjustify.y),window.history.replaceState(null,null,"?"+f)}c.writeToIndexedDB&&(u.id=c.name,e.idb.put(u,function(h){h==0&&console.error("Cannot write row - "+c.name)})),c.writeToLocalStorage&&e.localStorage.setItem(c.name,JSON.stringify(u))}},e.state._get=function(t,n,i,r){if(t){var o=e.state._buildStateNames(t.name);if(t.readFromUrlParams){var s=new URLSearchParams(window.location.search);if(s.has(o.paramScale)&&s.has(o.paramX)&&s.has(o.paramY)&&s.has(o.paramExp)&&s.has(o.paramMin)&&s.has(o.paramAdjustify)){var l={},c=parseFloat(s.get(o.paramScale)),d=parseFloat(s.get(o.paramX)),u=parseFloat(s.get(o.paramY));(h=[])[0]=d,h[1]=u,h[2]=n/c,h[3]=i/c,l.vb=h,l.scale=c,l.x=d,l.y=u,l.roots=null,s.has(o.paramRoots)&&(l.roots=s.get(o.paramRoots).split("*")),l.exp=s.get(o.paramExp).split("*"),l.min=s.get(o.paramMin).split("*");var f=s.get(o.paramAdjustify).split("*");return l.adjustify={x:parseFloat(f[0]),y:parseFloat(f[1])},void r(l)}if(!t.readFromIndexedDB&&!t.readFromLocalStorage)return void r(null)}if(t.readFromLocalStorage){var h;if((l=e.localStorage.getItem(t.name))!=null)return l=JSON.parse(l),(h=[])[0]=l.x,h[1]=l.y,h[2]=n/l.scale,h[3]=i/l.scale,l.vb=h,void r(l);if(!t.readFromIndexedDB)return void r(null)}t.readFromIndexedDB&&e.idb.read(t.name,function(p,g){if(p==0)console.error("Cannot read from - "+t.name),r(null);else if(p==null)r(null);else{var v=[];v[0]=g.x,v[1]=g.y,v[2]=n/g.scale,v[3]=i/g.scale,g.vb=v,r(g)}})}else r(null)},e.state.clear=function(t){if(!t)return!1;try{localStorage.removeItem(t);var n=e.state._buildStateNames(t),i=new URLSearchParams(window.location.search);i.has(n.paramScale)&&i.delete(n.paramScale),i.has(n.paramX)&&i.delete(n.paramX),i.has(n.paramY)&&i.delete(n.paramY),i.has(n.paramExp)&&i.delete(n.paramExp),i.has(n.paramRoots)&&i.delete(n.paramRoots),i.has(n.paramMin)&&i.delete(n.paramMin),i.has(n.paramAdjustify)&&i.delete(n.paramAdjustify),window.history.replaceState(null,null,"?"+i),e.idb.delete(t,function(r){r==0&&console.error("Cannot delete row - "+t)})}catch{}},e._magnify={},e.prototype.magnify=function(t,n,i,r,o){r||(r=this.config.anim);var s=this.getNode(t),l=this.getNodeElement(t);if(s||l){var c=e._magnify[t];c&&(c.timer!=null&&clearInterval(c.timer),c.timerBack!=null&&clearInterval(c.timerBack),l.setAttribute("transform","matrix("+c.transformStart.toString()+")"),e._magnify[t]=null),i&&(l=l.cloneNode(!0),this.getSvg().appendChild(l));var d=e._getTransform(l),u=JSON.parse(JSON.stringify(d));u[0]=n,u[3]=n;var f=s.w+s.w*(n-1),h=s.h+s.h*(n-1);u[4]+=(s.w-f)/2,u[5]+=(s.h-h)/2;var p=e.animate(l,{transform:d},{transform:u},r.duration,r.func);e._magnify[t]={timer:p,transformStart:d,nodeElement:l,front:i},o&&o(l)}},e.prototype.magnifyBack=function(t,n,i){n||(n=this.config.anim);var r=e._magnify[t];if(r){r.timer!=null&&clearInterval(r.timer),r.timerBack!=null&&clearInterval(r.timerBack);var o=e._getTransform(r.nodeElement);r.timerBack=e.animate(r.nodeElement,{transform:o},{transform:r.transformStart},n.duration,n.func,function(s){var l=s[0].getAttribute(e.attr.node_id);e._magnify[l]&&e._magnify[l].front&&(s[0].parentNode.removeChild(s[0]),e._magnify[l]=null),i&&i(s[0])})}},e===void 0&&(e={}),e.events.on("init",function(t,n){if(t.config.keyNavigation&&(t._addEvent(window,"keydown",t._windowKeyDownHandler),e.isNEU(t._keyNavigationActiveNodeId)&&t.roots&&t.roots.length)){var i=t.roots[0].id;e.isNEU(t.config.keyNavigation.focusId)||(i=t.config.keyNavigation.focusId),t._keyNavigationActiveNodeId=i,t.center(t._keyNavigationActiveNodeId)}}),e.prototype._windowKeyDownHandler=function(t,n){for(var i=n.target,r=null;i&&i!=this.element;){if(i.hasAttribute&&i.hasAttribute(e.attr.node_id)){r=i.getAttribute(e.attr.node_id);break}i=i.parentNode}if(i){var o=r?this.getNode(r):null,s={node:o,data:r?this.get(r):null,event:n};if(e.events.publish("key-down",[this,s])!==!1&&o){if(n.code=="KeyF")this.searchUI.find("");else if(n.code=="ArrowRight"||o.isAssistant&&n.code=="ArrowDown"||o.isPartner&&n.code=="ArrowDown"){if(d=this.getNode(o.pid)){var l=d.childrenIds.indexOf(o.id);if(++l<d.childrenIds.length){var c=d.childrenIds[l];this._keyNavigationActiveNodeId=c,this.center(c)}}}else if(n.code=="ArrowLeft")(d=this.getNode(o.pid))&&(l=d.childrenIds.indexOf(o.id),--l>=0&&(c=d.childrenIds[l],this._keyNavigationActiveNodeId=c,this.center(c)));else if(n.code=="ArrowUp"){var d;(d=this.getNode(o.pid))&&(c=d.id,(o.isAssistant||d.hasAssistants||o.isPartner||d.hasPartners)&&(l=d.childrenIds.indexOf(o.id),--l>=0&&(c=d.childrenIds[l])),this._keyNavigationActiveNodeId=c,this.center(c))}else if(n.code=="ArrowDown")o.childrenIds.length&&(this._keyNavigationActiveNodeId=o.childrenIds[0],this.center(o.childrenIds[0]));else if(n.code=="Space"){var u=i.getAttribute(e.attr.node_id);return void this.toggleExpandCollapse(u,n)}}}},e.events.on("redraw",function(t,n){t.config.keyNavigation&&e._keyNavigation(t)}),e.events.on("click",function(t,n){t.config&&t.config.keyNavigation&&(t._keyNavigationActiveNodeId=n.node.id,t.center(n.node.id))}),e._keyNavigation=function(t){var n=t.element.querySelector(":focus");if(n&&n.parentElement&&n.parentElement.hasAttribute(e.attr.node_id)){var i=n.parentElement;(o=(r=n).querySelector("title"))&&o.parentNode.removeChild(o),r.removeAttribute("tabindex")}if(!e.isNEU(t._keyNavigationActiveNodeId)&&(i=t.getNodeElement(t._keyNavigationActiveNodeId))&&i.children.length){var r;(r=i.children[0]).setAttribute("tabindex",2);var o,s={text:"",id:t._keyNavigationActiveNodeId};e.events.publish("screen-reader-text",[t,s]),!e.isNEU(s.text)&&((o=document.createElementNS("http://www.w3.org/2000/svg","title")).innerHTML=s.text,r.appendChild(o)),e.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&t.searchUI.hide(),r.focus()}},e.elements={},e.elements.textbox=function(t,n,i,r){var o=e.elements._vidrf(t,n,r);if(o.doNotRender)return{html:""};var s="";return n.btn&&(s=`<a href="#" data-input-btn="" class="bft-link bft-link-bft-button">${n.btn}</a>`),{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${o.disabledAttribute} ${o.vlidators}>
                        <label for="${o.id}">${e._escapeGreaterLessSign(o.label)}</label>
                        <input ${o.readOnlyAttribute} data-binding="${e._escapeDoubleQuotes(o.binding)}" maxlength="256" id="${o.id}" name="${o.id}" type="text" value="${e._escapeDoubleQuotes(o.value)}" autocomplete="off">
                        ${s}
                    </div>
                </div>`,id:o.id,value:o.value}},e.elements.checkbox=function(t,n,i,r){var o=e.elements._vidrf(t,n,r);if(o.doNotRender)return{html:""};var s=o.value?"checked":"",l=r?'onclick="return false;"':"";return{html:`<div class="bft-form-field"  style="min-width: ${i};" >
                        <label class="bft-checkbox" data-bft-input="" ${o.disabledAttribute}>
                            <input ${s} ${l} data-binding="${e._escapeDoubleQuotes(o.binding)}" type="checkbox"><span class="bft-checkbox-checkmark" type="checkbox"></span>${e._escapeGreaterLessSign(o.label)}
                        </label>
                    </div>`,id:o.id,value:s}},e.elements.select=function(t,n,i,r){if(r)return e.elements.textbox(t,n,i,r);var o=e.elements._vidrf(t,n,r);return o.doNotRender?{html:""}:{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${o.disabledAttribute} ${o.vlidators}>
                        <label for="${o.id}">${e._escapeGreaterLessSign(o.label)}</label>
                        <select data-binding="${e._escapeDoubleQuotes(o.binding)}" ${o.readOnlyAttribute} id="${o.id}" name="${o.id}">
                            ${function(){for(var s="",l=0;l<o.options.length;l++){var c=o.options[l];s+=`<option ${c.value==o.value?"selected":""} value="${e._escapeDoubleQuotes(c.value)}">${e._escapeGreaterLessSign(c.text)}</option>`}return s}()}                           
                        </select>
                    </div>
                </div>`,id:o.id,value:o.value}},e.elements.multiSelect=function(t,n,i,r){if(r)return e.elements.textbox(t,n,i,r);var o=e.elements._vidrf(t,n,r);return o.doNotRender?{html:""}:{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${o.disabledAttribute} ${o.vlidators}>
                        <label for="${o.id}">${e._escapeGreaterLessSign(o.label)}</label>
                        <select class="multiple" data-binding="${e._escapeDoubleQuotes(o.binding)}" ${o.readOnlyAttribute} id="${o.id}" name="${o.id}" multiple>
                            ${function(){for(var s="",l=0;l<o.options.length;l++){var c=o.options[l];s+=`<option ${o.value.includes(c.value)?"selected":""} value="${e._escapeDoubleQuotes(c.value)}">${e._escapeGreaterLessSign(c.text)}</option>`}return s}()}                           
                        </select>
                    </div>
                </div>`,id:o.id,value:o.value}},e.elements.date=function(t,n,i,r){var o=e.elements._vidrf(t,n,r);return o.doNotRender?{html:""}:{html:`<div class="bft-form-field" style="min-width: ${i};">
                    <div class="bft-input" data-bft-input="" ${o.disabledAttribute} ${o.vlidators}>
                        <label for="${o.id}" class="hasval">${e._escapeGreaterLessSign(o.label)}</label>
                        <input data-binding="${e._escapeDoubleQuotes(o.binding)}" ${o.readOnlyAttribute} maxlength="256" id="${o.id}" name="${o.id}" type="date" value="${e._escapeDoubleQuotes(o.value)}" autocomplete="off">
                    </div>
                </div>`,id:o.id,value:o.value}},e.elements._vidrf=function(t,n,i){var r={};if(n.binding||(n.binding=""),n.label||(n.label=""),n.type!="select"||Array.isArray(n.options)?r.options=n.options:r.options=[],r.value=t&&!e.isNEU(t[n.binding])?t[n.binding]:"",i&&r.options){for(var o=0;o<r.options.length;o++)if(r.options[o].value==r.value){r.value=r.options[o].text;break}}if(r.id=e.elements.generateId(),r.disabledAttribute=i?"data-bft-input-disabled":"",r.readOnlyAttribute=i?"readonly":"",r.id=r.id,i&&e.isNEU(r.value)&&(r.doNotRender=!0),i&&n.binding=="photo"&&(r.id=null,r.doNotRender=!0),r.binding=n.binding,r.label=n.label,r.vlidators="",n.vlidators)for(var s in n.vlidators)r.vlidators+=`data-v-${s}="${n.vlidators[s]}" `;return r},e.elements.ids=[],e.elements.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!e.elements.ids.has(t))return e.elements.ids.push(t),t}},e.input={},e.input._timeout=null,e.input.initWithTimeout=function(){e.input._timeout&&(clearTimeout(e.input._timeout),e.input._timeout=null),e.input._timeout=setTimeout(e.input.init,200)},e.input.init=function(t){var n;n=t?t.querySelectorAll("[data-bft-input]"):document.querySelectorAll("[data-bft-input]");for(var i=0;i<n.length;i++){var r=n[i],o=null;r.type&&r.type.toLowerCase()=="hidden"&&(o=r),o||(o=r.querySelector("input")),o||(o=r.querySelector("select"));var s=r.querySelector("label");s&&(o.value||o.type=="select-one"&&o.selectedOptions&&o.selectedOptions.length&&o.selectedOptions[0].value==""&&o.selectedOptions[0].innerHTML)&&s.classList.add("hasval"),o.type.toLowerCase()!="checkbox"&&o.addEventListener("focus",function(){this.classList.remove("bft-validation-error");var l=this.parentNode.querySelector("label");l.classList.add("focused");var c=l.querySelector(".bft-validation-error-message");c&&c.parentNode.removeChild(c)}),o.type.toLowerCase()!="checkbox"&&o.addEventListener("blur",function(){e.input.blurHandler(this)})}},e.input.blurHandler=function(t){var n=t.parentNode.querySelector("label");n.classList.remove("focused"),t.value||t.type=="date"?n.classList.add("hasval"):n.classList.remove("hasval")},e.input.validate=function(t){var n=null;t.type&&t.type.toLowerCase()=="hidden"&&(n=t),n||(n=t.querySelector("input")),n||(n=t.querySelector("select"));var i=t.querySelector("label");if(n.classList.remove("bft-validation-error"),i){var r=i.querySelector(".bft-validation-error-message");r&&r.parentNode.removeChild(r)}!n.selectedOptions&&n.value&&(n.value=n.value.trim());var o=t.getAttribute("data-v-required"),s=t.getAttribute("data-v-password"),l=t.getAttribute("data-v-email"),c=t.getAttribute("data-v-emails");return o&&n.value==""?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+o+"</span>",n.classList.add("bft-validation-error"),!1):s&&!e.input.validatePassword(n.value)?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+s+"</span>",n.classList.add("bft-validation-error"),!1):l&&!e.input.isValidEmail(n.value)?(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+l+"</span>",n.classList.add("bft-validation-error"),!1):!(c&&!e.input.isValidEmails(n.value))||(i.innerHTML+='<span class="bft-validation-error-message">&nbsp;'+c+"</span>",n.classList.add("bft-validation-error"),!1)},e.input.validateAndGetData=function(t){for(var n=t.querySelectorAll("[data-bft-input]"),i=!0,r=0;r<n.length;r++){var o=n[r];e.input.validate(o)||(i=!1)}if(!i)return!1;var s=t.querySelectorAll("[data-binding]"),l={};for(r=0;r<s.length;r++){var c=s[r],d=c.getAttribute("data-binding");if(c.type.toLowerCase()=="checkbox")l[d]=c.checked;else if(c.selectedOptions&&c.hasAttribute("multiple")){var u=c.selectedOptions;l[d]=Array.from(u).map(({value:f})=>f)}else l[d]=c.value}return l},e.input.validatePassword=function(t){return t&&(t=t.trim()),!(t.length<5)&&!(t.length>18)&&t.indexOf(" ")==-1},e.input.isValidEmails=function(t){if(t)for(var n=t.split(","),i=0;i<n.length;i++){var r=n[i].trim();if(!e.input.isValidEmail(r))return!1}return!0},e.input.isValidEmail=function(t){return t&&(t=t.trim()),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},e.prototype.hideTreeMenu=function(t,n){if(this._tree_menu_temp){var i=this._tree_menu_temp;if(this.manager.oldNodes=this.nodes,this.nodes=i.nodes,this.manager.maxX=i.maxX,this.manager.maxY=i.maxY,this.manager.minX=i.minX,this.manager.minY=i.minY,this.manager.roots=i.roots,this.manager.nodes=i.nodes,this.manager.rootList=i.rootList,this.manager.visibleNodeIds=i.visibleNodeIds,this.manager.bordersByRootIdAndLevel=i.bordersByRootIdAndLevel,this.config.roots=i.config.roots,this.config.nodes=i.config.nodes,this._tree_menu_temp=null,t){var r={id:i.id,animFromClickedNode:!1};this._draw(!0,e.action.update,r,function(){n&&n()})}}},e.prototype.showTreeMenu=function(t){this.editUI.hide(),t==null&&console.error("Call addNode without id");var n=this.getNode(t);n||console.error("Cannot get node id: "+t);var i=this.getNode(n.fid),r=this.getNode(n.mid),o=null,s=null,l=[],c=[];i&&(o=this.get(i.id)),r&&(s=this.get(r.id));for(var d=0;d<n.pids.length;d++){var u=this.get(n.pids[d]);u&&l.push(u)}for(d=0;d<n.ftChildrenIds.length;d++)c.push(this.get(n.ftChildrenIds[d]));var f=this.get(t);this._tree_menu_temp={maxX:this.manager.maxX,maxY:this.manager.maxY,minX:this.manager.minX,minY:this.manager.minY,roots:this.manager.roots,nodes:this.manager.nodes,rootList:this.manager.rootList,visibleNodeIds:this.manager.visibleNodeIds,bordersByRootIdAndLevel:this.manager.bordersByRootIdAndLevel,id:t,config:{roots:this.config.roots,nodes:this.config.nodes}},this.config.nodes=[];var h=[];if(s)h.push(s);else{var p={id:"_ft_mother",templateName:"mother",_ft_method:"addParentNode",_ft_childId:t,_ft_type:"mid",_ft_data:{gender:"female"}};f.mid=p.id,o?(o.pids=[p.id],p.pids=[o.id],p._ft_data.pids=[o.id]):p.pids=["_ft_father"],h.push(p)}if(o)h.push(o);else{var g={id:"_ft_father",templateName:"father",_ft_method:"addParentNode",_ft_childId:t,_ft_type:"fid",_ft_data:{gender:"male"}};f.fid=g.id,s?(s.pids=[g.id],g.pids=[s.id],g._ft_data.pids=[s.id]):g.pids=["_ft_mother"],h.push(g)}for(d=0;d<l.length;d++)h.push(l[d]);f.pids||(f.pids=[]);var v={id:"_ft_partner",pids:[t],templateName:"partner",_ft_method:"addPartnerNode",_ft_data:{pids:[t]}};if(f.gender=="male"?(v.templateName="wife",v._ft_data.gender="female"):f.gender=="female"&&(v.templateName="husband",v._ft_data.gender="male"),f.pids.push(v.id),h.push(v),f.pids)for(d=0;d<f.pids.length;d++){if(h.push({id:"_ft_child_group_"+d,mid:t,fid:f.pids[d],tags:["children-group"]}),f.pids[d]=="_ft_partner"){var _={id:"_ft_son_"+d,stpid:"_ft_child_group_"+d,templateName:"son",_ft_method:"addChildAndPartnerNodes",_ft_childData:{mid:n.id,fid:v.id,gender:"male"},_ft_partnerData:{pids:[t]},_ft_id:t},w={id:"_ft_daughter_"+d,stpid:"_ft_child_group_"+d,templateName:"daughter",_ft_method:"addChildAndPartnerNodes",_ft_childData:{mid:n.id,fid:v.id,gender:"female"},_ft_partnerData:{pids:[t]},_ft_id:t};f.gender=="male"&&v._ft_data.gender=="female"?(_._ft_childData.mid=v.id,_._ft_childData.fid=f.id,_._ft_partnerData.gender=v._ft_data.gender,w._ft_childData.mid=v.id,w._ft_childData.fid=f.id,w._ft_partnerData.gender=v._ft_data.gender):f.gender=="female"&&v._ft_data.gender=="male"&&(_._ft_childData.mid=f.id,_._ft_childData.fid=v.id,_._ft_partnerData.gender=v._ft_data.gender,w._ft_childData.mid=f.id,w._ft_childData.fid=v.id,w._ft_partnerData.gender=v._ft_data.gender),h.push(_),h.push(w)}else h.push({id:"_ft_son_"+d,stpid:"_ft_child_group_"+d,templateName:"son",_ft_method:"addChildNode",_ft_data:{mid:t,fid:f.pids[d],gender:"male"}}),h.push({id:"_ft_daughter_"+d,stpid:"_ft_child_group_"+d,templateName:"daughter",_ft_method:"addChildNode",_ft_data:{mid:t,fid:f.pids[d],gender:"female"}});for(var m=0;m<c.length;m++)c[m].mid!=f.pids[d]&&c[m].fid!=f.pids[d]||(c[m].mid=void 0,c[m].fid=void 0,c[m].stpid="_ft_child_group_"+d,h.push(c[m]))}var x=[];for(m=0;m<c.length;m++)(c[m].fid==f.id&&e.isNEU(c[m].mid)||c[m].mid==f.id&&e.isNEU(c[m].fid))&&(c[m].fid==f.id?c[m].mid="_ft_partner_for_single_child":c[m].mid==f.id&&(c[m].fid="_ft_partner_for_single_child"),h.push(c[m]),x.push(c[m].id));if(x.length){var y={id:"_ft_partner_for_single_child",pids:[t],templateName:"partner",_ft_method:"addPartnerAndParentNodes",_ft_childIds:x,_ft_partnerData:{pids:[t]},_ft_id:t};f.gender=="male"?(y.templateName="wife",y._ft_partnerData.gender="female"):f.gender=="female"&&(y.templateName="husband",y._ft_partnerData.gender="male"),f.pids.push(y.id),h.push(y)}var b={nodes:h,node:f};e.events.publish("node-tree-menu-show",[this,b]),b.nodes.push(b.node),this.config.nodes=b.nodes,f=this.get(t);var C=this;e.isNEU(f.mid)?e.isNEU(f.fid)||(this.config.roots=[f.fid]):this.config.roots=[f.mid];var E={id:t,treeMenuMode:!0};this._draw(!1,e.action.update,E,function(){e._moveToBoundaryArea(C.getSvg(),C.getViewBox(),C.response.boundary)})},e.ui.css=function(){return'<style data-bft-styles>.bft-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.bft-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.bft-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.bft-button.lower{text-transform:unset}.bft-button.transparent{background-color:transparent}.bft-button:hover{background-color:#35afea}.bft-button.orange:hover{background-color:#f79632}.bft-button.yellow:hover{background-color:#ffd452}.bft-button:active{transform:matrix(.98,0,0,.98,0,0)}.bft-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.bft-dark .bft-button-icon:hover{background-color:#2d2d2d}.bft-light .bft-button-icon:hover{background-color:#ececec}.bft-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.bft-button:focus{outline:0}.bft-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.bft-light .bft-button.transparent{color:#039be5}.bft-light .bft-button.transparent:hover{color:#fff}.bft-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.bft-button-loading .bft-loading-dots div{margin:0 10px}.bft-link-bft-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.bft-link-bft-button{right:50px}}[data-bft-input-disabled] .bft-link-bft-button{display:none}[dir=rtl] .bft-link-bft-button{left:10px;right:unset}.bft-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.bft-img-button:hover{background-color:#f57c00}.bft-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.bft-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.bft-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.bft-dark [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-dark [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark,.bft-light [data-bft-input-disabled] .bft-checkbox-checkmark,.bft-light [data-bft-input-disabled].bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#aeaeae!important}[data-bft-input-disabled].bft-checkbox{cursor:default}[dir=rtl] .bft-checkbox-checkmark{right:0}[dir=rtl] .bft-checkbox{padding-left:unset;padding-right:35px}.bft-dark .bft-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.bft-light .bft-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.bft-dark .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#3c3c3c}.bft-light .bft-checkbox:hover input~.bft-checkbox-checkmark{background-color:#f8f9f9}.bft-dark .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-light .bft-checkbox input:checked~.bft-checkbox-checkmark{background-color:#039be5}.bft-checkbox-checkmark:after{content:"";position:absolute;display:none}.bft-checkbox input:checked~.bft-checkbox-checkmark:after{display:block}.bft-checkbox .bft-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.bft-filter{user-select:none}.bft-light .bft-filter{color:#757575}.bft-dark .bft-filter{color:#ccc}.bft-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.bft-filter-menu fieldset,.bft-filter>div,.filter-field-selected{border-radius:5px}.bft-filter-menu fieldset{overflow-y:auto;max-height:300px}.bft-filter>div.bft-filter-menu{padding:10px}.bft-light .bft-filter>div.bft-filter-menu,.bft-light .filter-field-selected{background-color:#f8f9f9}.bft-dark .bft-filter>div.bft-filter-menu,.bft-dark .filter-field-selected{background-color:#3c3c3c}.bft-light .bft-filter>div{background-color:#eee}.bft-dark .bft-filter>div{background-color:#333}.bft-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.bft-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.bft-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.bft-form .separator{margin:0 10px}@media screen and (max-width:1000px){.bft-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.bft-form .set{max-height:calc(100vh - 74px)}.bft-form-fieldset{max-width:unset!important}}.bft-light .bft-form .separator{border-bottom:1px solid #c7c7c7}.bft-dark .bft-form .separator{border-bottom:1px solid #5b5b5b}.bft-light .bft-form{background-color:#fff}.bft-dark .bft-form{background-color:#252526}.bft-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.bft-light .bft-form .bft-item.selected,.bft-light .bft-form .bft-item:hover{background-color:#0074e8;color:#fff}.bft-dark .bft-form .bft-item.selected,.bft-dark .bft-form .bft-item:hover{background-color:#094771;color:#fff}.bft-item.selected img,.bft-item:hover img{filter:invert(100%)}.bft-item.selected img{visibility:visible!important}.bft-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.bft-form-field{flex:1 0 21%;margin:3px;min-width:200px}.bft-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.bft-input{position:relative}.bft-input>input,.bft-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.bft-input select{height:50px;padding:20px 5px 4px 5px}[data-bft-input-disabled].bft-input>input,[data-bft-input-disabled].bft-input>select{border-color:transparent!important}.bft-light [data-bft-input-disabled]>input,.bft-light [data-bft-input-disabled]>select{background-color:#fff!important}.bft-dark [data-bft-input-disabled]>input,.bft-dark [data-bft-input-disabled]>select{background-color:#252526!important}[data-bft-input-disabled]>select{appearance:none;padding-left:8px}.bft-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.bft-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.bft-input>label.focused,.bft-input>label.hasval{top:-1px}.bft-input>input,.bft-input>select{outline:0;border-radius:5px}.bft-dark .bft-input>label.focused,.bft-light .bft-input>label.focused{color:#039be5}.bft-dark .bft-input>input,.bft-dark .bft-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.bft-light .bft-input>input,.bft-light .bft-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.bft-light .bft-input>input:focus,.bft-light .bft-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.bft-dark .bft-input>input:focus,.bft-dark .bft-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.bft-dark .bft-input>input.bft-validation-error,.bft-dark .bft-input>select.bft-validation-error,.bft-light .bft-input>input.bft-validation-error,.bft-light .bft-input>select.bft-validation-error{border-color:#ca2a2a}.bft-dark .bft-validation-error-message,.bft-light .bft-validation-error-message{color:#ca2a2a}.bft-input select.multiple{height:initial}.bft-link{color:#039be5;cursor:pointer;text-decoration:underline}.bft-link:hover{color:#f57c00}.bft-dark ::-webkit-scrollbar,.bft-light ::-webkit-scrollbar{width:15px;height:15px}.bft-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.bft-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.bft-dark ::-webkit-scrollbar-thumb{background:#424242}.bft-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.bft-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.bft-light ::-webkit-scrollbar-corner{background:#fff}.bft-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.bft-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.bft-light ::-webkit-scrollbar-thumb:hover{background:#929292}.bft-light ::-webkit-scrollbar-thumb:active{background:#666}.bft-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.bft-edit-form{width:100%}}.bft-dark .bft-edit-form{background-color:#252526}.bft-light .bft-edit-form{background-color:#fff}.bft-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .bft-edit-form-header{border-radius:unset}.bft-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.bft-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.bft-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.bft-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.bft-edit-form-fields-inner{margin:0 7px 20px 7px}.bft-family-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif;border-radius:10px}.bft-family-menu>div:hover img{filter:invert(100%)}.bft-family-menu [data-item]{text-align:start;padding:7px 10px}.bft-dark .bft-family-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.bft-dark .bft-family-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.bft-dark .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-light .bft-family-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.bft-light .bft-family-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.bft-light .bft-family-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.bft-family-menu [data-item] svg{vertical-align:middle}.bft-family-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.bft-family-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.bft-search{position:absolute}@media screen and (max-width:500px){.bft-search{width:calc(100% - 30px);left:15px}}.bft-search .bft-input{margin-bottom:0}.bft-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.bft-search-image-td{width:43px}.bft-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.bft-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.bft-search table tr:first-child td:first-child{border-top-left-radius:7px}.bft-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .bft-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.bft-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.bft-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .bft-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.bft-dark .bft-search table{background-color:#252526;color:#acacac}.bft-search [data-search-item-id]{cursor:pointer}.bft-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.bft-search [data-search-item-id]:hover .bft-link{color:#ffca28}.bft-search [data-search-item-id]:hover .bft-link:hover{color:#f57c00}.bft-dark .bft-search [data-search-item-id] td{border-top:1px solid #333}.bft-dark .bft-search [data-search-item-id]:hover,.bft-dark .bft-search [data-selected=yes]{background-color:#094771;color:#fff}.bft-light .bft-search table{background-color:#fff;color:#333}.bft-light .bft-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.bft-light .bft-search [data-search-item-id]:hover,.bft-light .bft-search [data-selected=yes]{background-color:#0074e8;color:#fff}.bft-search [data-search-item-id]:first-child td{border-top:unset}.bft-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.bft-drag-over rect{opacity:.5}.bft-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:bft-ripple 1s}@-moz-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes bft-ripple{to{opacity:0;transform:scale(2)}}@keyframes bft-ripple{to{opacity:0;transform:scale(2)}}.bft-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.bft-slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.bft-slider.round{border-radius:24px}.bft-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.bft-cursor-grab,svg.bft-cursor-grab text:hover{cursor:grab}svg.bft-cursor-nodrop,svg.bft-cursor-nodrop text:hover{cursor:no-drop}svg.bft-cursor-copy,svg.bft-cursor-copy text:hover{cursor:copy}svg.bft-cursor-move,svg.bft-cursor-move text:hover{cursor:move}#bft-close-btn:focus,#bft-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#bft-id-select:focus{outline:.5px solid #aeaeae}#bft-sampleDialog #title:hover{cursor:default;background:gray}.bft-light{background-color:#fff;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.bft-dark{background-color:#1e1e1e;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.bft-light .bft-fill{fill:#fff}.bft-dark .bft-fill{fill:#1e1e1e}.bft-dark input,.bft-dark select,.bft-light input,.bft-light select{font:16px Helvetica,"Segoe UI",Arial,sans-serif}.bft-dark h1,.bft-light h1{font-size:30px;line-height:1}.bft-edit-form{position:absolute;border-radius:10px}.export-service .bft-edit-form{border-radius:unset}.bft-dark .bft-edit-form{color:#acacac}.bft-light .bft-edit-form{color:#333}.bft-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.bft-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.bft-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.bft-img-button svg{position:relative;top:12px}.bft-light .bft-toolbar-container svg circle,.bft-light .bft-toolbar-container svg line,.bft-light .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg circle,.bft-dark .bft-toolbar-container svg line,.bft-dark .bft-toolbar-container svg path{stroke:#8c8c8c!important}.bft-dark .bft-toolbar-container svg rect{fill:#252526!important}.bft-dark .bft-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.bft-dark .bft-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.bft-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:"0";bottom:"-145px"}.bft-light .bft-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.bft-dark .bft-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.bft-dotted-connector path{stroke-dasharray:7}.bft-undo-redo{position:absolute;top:23px;left:23px}@media screen and (max-width:500px){.bft-undo-redo{position:absolute;top:83px;left:23px}}.bft-light .bft-undo-redo path{fill:#cacaca}.bft-dark .bft-undo-redo path{fill:#5b5b5b}.bft-light .bft-undo-redo .bft-ur-clickable path{fill:#9c9c9c}.bft-dark .bft-undo-redo .bft-ur-clickable path{fill:#8c8c8c}.bft-undo-redo .bft-ur-clickable rect{cursor:pointer}.bft-undo-redo>span{position:relative;display:inline-block;user-select:none}.bft-undo-redo .bft-undo-i{left:-6px;top:-6px}.bft-undo-redo .bft-redo-i{right:-6px;bottom:6px}.bft-undo-redo>span>span{color:#fff;position:absolute;display:inline-block;min-width:20px;min-height:20px;border-radius:50%;line-height:20px;text-align:center;padding:1px;user-select:none;cursor:pointer}.bft-light .bft-undo-redo>span>span{background-color:#9c9c9c}.bft-dark .bft-undo-redo>span>span{background-color:#8c8c8c}</style>'},e.events.on("render",function(t,n){if(t.recentRoots||(t.recentRoots=[]),t.config.roots)for(var i=0;i<t.config.roots.length;i++){var r=t.recentRoots.indexOf(t.config.roots[i]);r!=-1&&t.recentRoots.splice(r,1),t.recentRoots.unshift(t.config.roots[i])}}),e.events.on("show",function(t,n){if(t instanceof e.editUI&&t.obj._tree_menu_temp)return!1}),e.events.on("render-link",function(t,n){n.cnode.ppid!=null&&n.cnode.layout!=e.mixed&&(n.html+='<use xlink:href="#dot" x="'+n.p.xa+'" y="'+n.p.ya+'"/>')}),e.events.on("click",function(t,n){if(t instanceof e){var i=t._get(n.node.id);if(i._ft_method)return i._ft_method=="addParentNode"?t[i._ft_method](i._ft_childId,i._ft_type,i._ft_data,null,!0):i._ft_method=="addChildAndPartnerNodes"?t[i._ft_method](i._ft_id,i._ft_childData,i._ft_partnerData,null,!0):i._ft_method=="addPartnerAndParentNodes"?t[i._ft_method](i._ft_id,i._ft_childIds,i._ft_partnerData,null,!0):t[i._ft_method](i._ft_data,null,!0),!1;for(var r=n.event.target;r;){if(r.getAttribute&&(r.hasAttribute("data-ctrl-n-t-menu-id")||r.hasAttribute("data-ctrl-n-t-menu-c"))){var o=r.getAttribute("data-ctrl-n-t-menu-id");return e.isNEU(o)?t.hideTreeMenu(!0):t.showTreeMenu(o),n.event.stopPropagation(),n.event.preventDefault(),!1}r=r.parentNode}}}),e===void 0&&(e={}),e.prototype.onField=function(t){return this.on("field",function(n,i){return t.call(n,i)})},e.prototype.onInit=function(t){return this.on("init",function(n){return t.call(n)})},e.prototype.onRedraw=function(t){return this.on("redraw",function(n){return t.call(n)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(n,i,r){var o={oldData:i,newData:r};return t.call(n,o)})},e.prototype.onUpdated=function(t){return this.on("updated",function(n){return t.call(n)})},e.prototype.onRemoveNode=function(t){return this.on("remove",function(n,i,r){var o={id:i,newPidsAndStpidsForIds:r};return t.call(n,o)})},e.prototype.onAddNode=function(t){return this.on("add",function(n,i){var r={data:i};return t.call(n,r)})},e.prototype.onDrop=function(t){return this.on("drop",function(n,i,r,o,s){var l={dragId:i,dropId:r,dragNodeElement:o,event:s};return t.call(n,l)})},e.prototype.onDrag=function(t){return this.on("drag",function(n,i,r,o){var s={dragId:i,event:r,nodeIds:o};return t.call(n,s)})},e.prototype.onExpandCollpaseButtonClick=function(t){return this.on("expcollclick",function(n,i,r,o){var s={collapsing:i,id:r,ids:o};return t.call(n,s)})},e.prototype.onExportStart=function(t){return this.on("exportstart",function(n,i){return t.call(n,i)})},e.prototype.onExportEnd=function(t){return this.on("exportend",function(n,i){return t.call(n,i)})},e.prototype.onNodeClick=function(t){return this.on("click",function(n,i){return t.call(n,i)})},e.prototype.onNodeDoubleClick=function(t){return this.on("dbclick",function(n,i){var r={data:i};return t.call(n,r)})},e.prototype.onUpdateNode=function(t){return this.on("update",function(n,i){return t.call(n,i)})},e.prototype.onNodeTreeMenuShow=function(t){return this.on("node-tree-menu-show",function(n,i){return t.call(n,i)})},e.prototype.onRemoveNode=null,e.prototype.onAddNode=null,e.filterUI=function(){},e.filterUI.prototype.init=function(t){this.instance=t,this.element=null,this.filterBy=null,this._event_id=e._guid()},e.filterUI.prototype.addFilterTag=function(t){if(!this.instance.config.filterBy||e.isNEU(t))return!1;if(this.filterBy!==null||typeof this.instance.config.filterBy!="object"||Array.isArray(this.instance.config.filterBy)||(this.filterBy=JSON.parse(JSON.stringify(this.instance.config.filterBy))),this.filterBy!=null)for(var n in this.filterBy){var i=t[n];if(i!=null){var r=this.filterBy[n];if(r!=null){var o=r[i];if(o!=null&&o.checked===!1)return!0}}}return!1},e.filterUI.prototype.show=function(t){var n=this.element.querySelector('[data-filter-field="'+t+'"]');n&&n.click()},e.filterUI.prototype.hide=function(){var t=this.instance.element.querySelector("[data-filter-close]");t&&t.click()},e.filterUI.prototype.update=function(){if(this.instance.config.filterBy){var t={};if(this.instance.config.filterBy=="all")for(var n=e.manager.getAllFields(this.instance.config),i=0;i<n.length;i++){var r=n[i];r!="tags"&&r!="id"&&r!="pid"&&r!="ppid"&&r!="stpid"&&(t[r]={})}else if(Array.isArray(this.instance.config.filterBy))for(i=0;i<this.instance.config.filterBy.length;i++)t[this.instance.config.filterBy[i]]={};else if(typeof this.instance.config.filterBy=="object")for(var o in this.instance.config.filterBy)t[o]={};for(var s in t){var l=t[s];for(i=0;i<this.instance.config.nodes.length;i++){var c=this.instance.config.nodes[i][s];c!=null&&(l[c]||(l[c]={checked:!0,text:c}))}}if(this.filterBy!=null){for(var d in t)if(this.filterBy[d])for(var u in t[d])this.filterBy[d][u]&&(t[d][u]=this.filterBy[d][u])}if(e.FILTER_ALPHABETICALLY){var f=Object.keys(t).sort(),h=t;for(t={},i=0;i<f.length;i++)t[p=f[i]]=h[p];for(var s in t)for(l=t[s],t[s]={},f=Object.keys(l).sort(),i=0;i<f.length;i++){var p=f[i];t[s][p]=l[p]}}this.filterBy=t;var g=this;this.element=this.instance.element.querySelector("[data-filter]"),this.element&&this.element.parentNode.removeChild(this.element),this.element=document.createElement("div"),this.element.setAttribute("data-filter",""),this.element.style.position="absolute",this.element.setAttribute("class","bft-filter"),this.instance.config.undoRedoStorageName?(this.element.style.top=0,this.element.style.left="50%",this.element.style.transform="translate(-50%)"):(this.element.style.top=this.instance.config.padding+"px",this.element.style.left=this.instance.config.padding+"px");var v="";for(var d in this.filterBy){var _={name:d,html:`<div data-filter-field="${d}">${d}</div>`};e.events.publish("add-filter",[g,_]),v+=_.html}this.element.innerHTML=`<div>${v}</div>`,this.element.addEventListener("click",function(w){if(w.target.hasAttribute("data-filter-close")||w.target.hasAttribute("data-filter-field")){for(var m=w.target.getAttribute("data-filter-field"),x=g.instance.element.querySelectorAll("[data-filter-menu]"),y=0;y<x.length;y++)x[y].style.display="none";var b=g.instance.element.querySelectorAll(".filter-field-selected");for(y=0;y<b.length;y++)b[y].classList.remove("filter-field-selected");var C=g.instance.element.querySelector("[data-filter-close]");if(C&&C.parentNode.removeChild(C),w.target.hasAttribute("data-filter-close")||!w.target.hasAttribute("data-filter-field"))return;var E=g.instance.element.querySelector(`[data-filter-menu="${m}"]`);if(!E){var N={name:m,text:e.filterUI.all,value:m,checked:!0,html:`<div>
                        <input data-all type="checkbox" id="${m}" name="${m}" checked>
                        <label for="${m}">${e.filterUI.all}</label>
                    </div>`};e.events.publish("add-item",[g,N]);var L=N.html;for(var O in g.filterBy[m]){var X=g.filterBy[m][O],T=X.text;T==null&&(T=O),N={name:m,text:T,value:O,checked:X.checked,html:`<div>
                            <input  type="checkbox" id="${m}_${O}" name="${O}" ${X.checked?"checked":""}>
                            <label for="${m}_${O}">${T}</label>
                        </div>`},e.events.publish("add-item",[g,N]),L+=N.html}E=document.createElement("div");var $=e.filterUI.textFilterBy;E.innerHTML=`<fieldset>
                                                    <legend>${$} ${m}:</legend>
                                                    ${L}
                                                </fieldset>`,E.setAttribute("data-filter-menu",m),E.classList.add("bft-filter-menu"),w.target.parentNode.parentNode.appendChild(E);var G=E.querySelectorAll("input");for(y=0;y<G.length;y++)G[y].addEventListener("change",function(te){for(var K=te.target;K&&!K.hasAttribute("data-filter-menu");)K=K.parentNode;if(K){var H=K.getAttribute("data-filter-menu");if(te.target.hasAttribute("data-all")){for(var F=te.target.parentNode.parentNode.querySelectorAll("input"),W=0;W<F.length;W++)if(F[W]!=te.target)for(var ie in F[W].checked=te.target.checked,g.filterBy[H])g.filterBy[H][ie].checked=te.target.checked}else if(g.filterBy[H][this.name]!=null&&(g.filterBy[H][this.name].checked=this.checked),this.checked){for(var Z=g.instance.config.nodes,re=0;re<Z.length;re++)if(Z[re][H]==this.name){for(var ue=Z[re];ue;)if(e.isNEU(ue.stpid))ue=e.isNEU(ue.pid)?null:g.instance._get(ue.pid);else if((ue=g.instance._get(ue.stpid))[H]){var B=te.target.parentNode.parentNode.querySelector('[name="'+ue[H]+'"]');B?(B.checked=this.checked,g.filterBy[H][ue[H]].checked=this.checked):console.error('Cannot find element with selector: [name="'+ue[H]+'"]')}}}g.instance.draw()}})}E.style.display="block",w.target.classList.add("filter-field-selected"),(C=document.createElement("div")).classList.add("close"),C.innerHTML="x",C.setAttribute("data-filter-close",""),w.target.parentNode.appendChild(C),e.events.publish("show-items",[g,{name:m}])}}),this.instance.element.appendChild(this.element),e.events.publish("update",[this,{}])}},e.filterUI.prototype.on=function(t,n){return e.events.on(t,n,this._event_id),this},e.filterUI.textFilterBy="Filter by",e.filterUI.all="[All]",e===void 0&&(e={}),e.remote===void 0&&(e.remote={}),e.LIMIT_NODES=!0,e.remote._fromResDTO=function(t,n,i,r,o){var s=n[t.id];t.x=s.p[0],t.y=s.p[1],t.w=s.p[2],t.h=s.p[3],s.ln!=null&&(t.leftNeighbor=o[s.ln]),s.rn!=null&&(t.rightNeighbor=o[s.rn]);for(var l=0;l<t.stChildren.length;l++)e.remote._fromResDTO(t.stChildren[l],n,i,r,o);for(l=0;l<t.children.length;l++)e.remote._fromResDTO(t.children[l],n,i,r,o)},e.remote._toReqDTO=function(t,n){var i={p:[t.id,t.parent!=null?t.parent.id:null,t.stParent!=null?t.stParent.id:null,t.w,t.h]};t.children.length>0&&(i.c=e.remote._convertToIdArray(t.children)),t.stChildren.length>0&&(i.v=e.remote._convertToIdArray(t.stChildren)),t.layout!=null&&t.layout!=0&&(i.l=t.layout),t.isAssistant&&(i.a=1),t.isSplit&&(i.s=t.isSplit),t.isMirror&&(i.im=t.isMirror),t.padding&&(i.q=t.padding),t.lcn&&(i.k=t.lcn),t.stContainerNodes&&(i.b=e.remote._convertToIdArray(t.stContainerNodes)),t.isPartner&&(i.i=t.isPartner),t.hasPartners&&(i.g=t.hasPartners),t.partnerSeparation&&(i.e=t.partnerSeparation),n.push(i);for(var r=0;r<t.stChildren.length;r++)e.remote._toReqDTO(t.stChildren[r],n);for(r=0;r<t.children.length;r++)e.remote._toReqDTO(t.children[r],n)},e.remote._toReqLayoutConfigsDTO=function(t){var n={};for(var i in t){var r=t[i];n[i]||(n[i]=[]),n[i][0]=r.orientation,n[i][1]=r.levelSeparation,n[i][2]=r.mixedHierarchyNodesSeparation,n[i][3]=r.subtreeSeparation,n[i][4]=r.siblingSeparation,n[i][5]=r.layout,n[i][6]=r.columns,n[i][7]=r.collapse,n[i][8]=r.assistantSeparation,n[i][9]=r.partnerNodeSeparation}return n},e.remote._convertToIdArray=function(t){for(var n=[],i=0;i<t.length;i++)n.push(t[i].id);return n},e.remote._setPositions=function(t,n,i,r){for(var o=[],s=[],l=e.remote._toReqLayoutConfigsDTO(n),c=0;c<t.length;c++)s.push(t[c].id),e.remote._toReqDTO(t[c],o);var d={n:o,c:l,r:s,v:"8.14.00"};if(e.LIMIT_NODES||(d.l=!0),e.remote._fromReqDTO!=null)e.remote._fromReqDTO(d.n,d.r,d.c,function(f){for(var h=0;h<t.length;h++)e.remote._fromResDTO(t[h],f,0,t,r);i()});else{d=JSON.stringify(d);var u=e.localStorage.getItem(d);u&&(u=JSON.parse(u)),u&&!u.limit?e.remote._proceed(t,u,r,i):e.remote._findRegion(function(f){e._ajax(f,"post",d,"json",function(h){h.error?i(2):(e.remote._proceed(t,h,r,i),e.localStorage.setItem(d,JSON.stringify(h)))})})}},e.remote._proceed=function(t,n,i,r){if(typeof n=="string"&&(n=JSON.parse(n)),n.limit&&n.limit==1)r(n.limit);else{for(var o=0;o<t.length;o++)e.remote._fromResDTO(t[o],n,0,t,i);r()}},e.remote._findRegion=function(t){var n=e.localStorage.getItem(e.FUNC_URL_NAME);if(n)t(n);else{for(var i=["defunc2","cusfunc2","bsfunc2","acfunc2","kcfunc2","safunc2","wifunc2"],r=[],o=0;o<i.length;o++)r.push(new XMLHttpRequest);for(o=0;o<i.length;o++)(function(){var s="https://"+i[o]+e.SERVER_PREFIX,l=r[o];l.onreadystatechange=function(){if(this.readyState==4&&this.status==200){e.localStorage.setItem(e.FUNC_URL_NAME,s),t(s);for(var c=0;c<r.length;c++)r[c].abort()}},l.open("GET",s,!0),l.send()})()}}}(Xn)),Xn.exports}var pl=hl();const me=ul(pl),At=(a,e)=>{const t=a.__vccOpts||a;for(const[n,i]of e)t[n]=i;return t},gl={name:"family-tree",data(){return{nodes:[{id:1,pids:[3],gender:"male",photo:"https://cdn.balkan.app/shared/m60/2.jpg",name:"Zeph Daniels yang sangat panjang sekali",born:"1954-09-29"},{id:2,pids:[3],gender:"male",photo:"https://cdn.balkan.app/shared/m60/1.jpg",name:"Zeph Daniels yang sangat panjang sekali",born:"1952-10-10"},{id:3,pids:[1,2],gender:"female",photo:"https://cdn.balkan.app/shared/w60/1.jpg",name:"Laura Shepherd",born:"1943-01-13",email:"laura.shepherd@gmail.com",phone:"+44 845 5752 547",city:"Moscow",country:"ru"},{id:4,pids:[5],photo:"https://cdn.balkan.app/shared/m60/3.jpg",name:"Rowan Annable"},{id:5,pids:[4],gender:"female",photo:"https://cdn.balkan.app/shared/w60/3.jpg",name:"Lois Sowle"},{id:6,mid:2,fid:3,pids:[7],gender:"female",photo:"https://cdn.balkan.app/shared/w30/1.jpg",name:"Tyler Heath",born:"1975-11-12"},{id:7,pids:[6],mid:5,fid:4,gender:"male",photo:"https://cdn.balkan.app/shared/m30/3.jpg",name:"Samson Stokes",born:"1986-10-01"},{id:8,mid:7,fid:6,gender:"female",photo:"https://cdn.balkan.app/shared/w10/3.jpg",name:"Celeste Castillo",born:"2021-02-01"}]}},methods:{mytree:function(a,e){me.templates.sriniz=Object.assign({},me.templates.base);const t=380,n=95;me.templates.sriniz.size=[t,n],me.templates.sriniz.node=`<rect x="0" y="0" height="${n}" width="${t}" stroke-width="1" rx="15" ry="15"></rect>`,me.templates.sriniz.nodeMenuButton='<use data-ctrl-n-menu-id="{id}" x="350" y="70" xlink:href="#base_node_menu" fill="#ffffff"/>',me.templates.sriniz.defs=`
        <g transform="matrix(0.05,0,0,0.05,-13 ,-12)" id="heart">
          <path d="M448,256c0-106-86-192-192-192S64,150,64,256s86,192,192,192S448,362,448,256Z" style="fill:#fff;stroke:red;stroke-miterlimit:10;stroke-width:24px" fill="red"></path><path d="M256,360a16,16,0,0,1-9-2.78c-39.3-26.68-56.32-45-65.7-56.41-20-24.37-29.58-49.4-29.3-76.5.31-31.06,25.22-56.33,55.53-56.33,20.4,0,35,10.63,44.1,20.41a6,6,0,0,0,8.72,0c9.11-9.78,23.7-20.41,44.1-20.41,30.31,0,55.22,25.27,55.53,56.33.28,27.1-9.31,52.13-29.3,76.5-9.38,11.44-26.4,29.73-65.7,56.41A16,16,0,0,1,256,360Z" fill="red"></path>
        </g>
        <g id="sriniz_male_up">
          <circle cx="15" cy="15" r="10" fill="#fff" stroke="#fff" stroke-width="1"></circle>
          ${me.icon.ft(15,15,"#0070a6",7.5,7.5)}
        </g>

        <g id="sriniz_female_up">
          <circle cx="15" cy="15" r="10" fill="#fff" stroke="#fff" stroke-width="1"></circle>
          ${me.icon.ft(15,15,"#bd00ad",7.5,7.5)}
        </g>`;const i='<text data-width="200" style="font-size: 20px; font-weight: bold;" fill="#ffffff" x="130" y="30">{val}</text>',r='<text data-width="180" style="font-size: 12px; font-weight: normal;" fill="#ffffff" x="130" y="50">Lahir: {val}</text>',o='<text data-width="180" style="font-size: 12px; font-weight: normal;" fill="#ffffff" x="130" y="70">Alamat: {val}</text>';me.templates.sriniz_male=Object.assign({},me.templates.sriniz),me.templates.sriniz_male.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#0070a6" stroke="#aeaeae" rx="15" ry="15"></rect>',me.templates.sriniz_male.field_0=i,me.templates.sriniz_male.field_1=r,me.templates.sriniz_male.field_2=o,me.templates.sriniz_female=Object.assign({},me.templates.sriniz),me.templates.sriniz_female.node='<rect x="0" y="0" height="{h}" width="{w}" stroke-width="1" fill="#bd00ad" stroke="#aeaeae" rx="15" ry="15"></rect>',me.templates.sriniz_female.field_0=i,me.templates.sriniz_female.field_1=r,me.templates.sriniz_female.field_2=o;const s='<circle cx="97" cy="-16" r="10" fill="#0070a6" stroke="#fff" stroke-width="1"><title>Expand</title></circle><line x1="90" y1="-16" x2="104" y2="-16" stroke-width="1" stroke="#fff"></line><line x1="97" y1="-23" x2="97" y2="-9" stroke-width="1" stroke="#fff"></line>',l='<circle cx="97" cy="-16" r="10" fill="#bd00ad" stroke="#fff" stroke-width="1"></circle><line x1="90" y1="-16" x2="104" y2="-16" stroke-width="1" stroke="#fff"></line><line x1="97" y1="-23" x2="97" y2="-9" stroke-width="1" stroke="#fff"></line>';me.templates.sriniz_male.plus=s,me.templates.sriniz_female.plus=l;const c='<clipPath id="ulaImg"><rect  height="75" width="75" x="45" y="10" stroke-width="1" fill="#bd00ad" stroke="#aeaeae" rx="15" ry="15"></rect></clipPath><image x="45" y="10" preserveAspectRatio="xMidYMid slice" clip-path="url(#ulaImg)" xlink:href="{val}" width="75" height="75"></image>';me.templates.sriniz_male.img_0=c,me.templates.sriniz_female.img_0=c,me.templates.sriniz_male.up='<use x="350" y="0" xlink:href="#sriniz_male_up"></use>',me.templates.sriniz_female.up='<use x="350" y="0" xlink:href="#sriniz_female_up"></use>',me.templates.sriniz.pointer='<g data-pointer="pointer" transform="matrix(0,0,0,0,80,80)">><g transform="matrix(0.3,0,0,0.3,-17,-17)"><polygon fill="#0070a6" points="53.004,173.004 53.004,66.996 0,120" /><polygon fill="#0070a6" points="186.996,66.996 186.996,173.004 240,120" /><polygon fill="#bd00ad" points="66.996,53.004 173.004,53.004 120,0" /><polygon fill="#bd00ad" points="120,240 173.004,186.996 66.996,186.996" /><circle fill="red" cx="120" cy="120" r="30" /></g></g>',this.family=new me(a,{nodes:e,mouseScrool:me.none,scaleInitial:this.getOptions().scaleInitial,mode:"dark",template:"sriniz",nodeMenu:{edit:{text:"Ubah"},details:{text:"Lihat Selengkapnya"}},toolbar:{fullScreen:!0,zoom:!0,fit:!0,expandAll:!0},scaleMax:1.5,nodeTreeMenu:!1,nodeBinding:{field_0:"name",field_1:"born",field_2:"city",img_0:"photo"},editForm:{generateElementsFromFields:!1,titleBinding:"name",photoBinding:"photo",addMoreBtn:"",addMore:"",addMoreFieldName:"",saveAndCloseBtn:"Simpan",cancelBtn:"Tutup",elements:[{type:"textbox",label:"Nama Lengkap",binding:"name"},{type:"select",options:[{value:"male",text:"Pria"},{value:"female",text:"Wanita"}],label:"Jenis Kelamin",binding:"gender"},[{type:"date",label:"Tanggal Lahir",binding:"born"},{type:"date",label:"Meninggal (opsional)",binding:"die"}],[{type:"textbox",label:"Instagram",binding:"email"},{type:"textbox",label:"WA",binding:"phone"}],{type:"textbox",label:"Alamat",binding:"city"},{type:"textbox",label:"Foto",binding:"photo",btn:"Upload"}]}}),this.family.on("render-link",function(d,u){u.cnode.ppid!=null&&(u.html+='<use data-ctrl-ec-id="'+u.node.id+'" xlink:href="#heart" x="'+u.p.xa+'" y="'+u.p.ya+'"/>'),u.cnode.isPartner&&u.node.partnerSeparation==30&&(u.html+='<use data-ctrl-ec-id="'+u.node.id+'" xlink:href="#heart" x="'+u.p.xb+'" y="'+u.p.yb+'"/>')}),this.family.on("field",function(d,u){if(u.name=="born"){let f=new Date(u.value);u.value=f.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}if(u.name=="die"){let f=new Date(u.value);u.value=f.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}})},getOptions:function(){var e=new URLSearchParams(window.location.search).get("fit"),t=!0,n=1;return e=="yes"&&(t=!1,n=me.match.boundary),{enableSearch:t,scaleInitial:n}}},mounted(){this.mytree(this.$refs.tree,this.nodes)}},ml={id:"tree",ref:"tree"};function vl(a,e,t,n,i,r){return qe(),dt("div",ml,null,512)}const bl=At(gl,[["render",vl]]),yl={__name:"App",setup(a){return(e,t)=>(qe(),ai(bl))}},xl="modulepreload",_l=function(a){return"/"+a},lr={},wl=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=_l(l),l in lr)return;lr[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":xl,c||(u.as="script"),u.crossOrigin="",u.href=l,s&&u.setAttribute("nonce",s),document.head.appendChild(u),c)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&r(s.reason);return e().catch(r)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Lt=typeof document<"u";function Mo(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function Sl(a){return a.__esModule||a[Symbol.toStringTag]==="Module"||a.default&&Mo(a.default)}const ye=Object.assign;function Wn(a,e){const t={};for(const n in e){const i=e[n];t[n]=Je(i)?i.map(a):a(i)}return t}const Qt=()=>{},Je=Array.isArray,Oo=/#/g,kl=/&/g,Cl=/\//g,Il=/=/g,Al=/\?/g,Ro=/\+/g,Nl=/%5B/g,El=/%5D/g,Po=/%5E/g,Ll=/%60/g,Uo=/%7B/g,Ml=/%7C/g,To=/%7D/g,Ol=/%20/g;function Mi(a){return encodeURI(""+a).replace(Ml,"|").replace(Nl,"[").replace(El,"]")}function Rl(a){return Mi(a).replace(Uo,"{").replace(To,"}").replace(Po,"^")}function di(a){return Mi(a).replace(Ro,"%2B").replace(Ol,"+").replace(Oo,"%23").replace(kl,"%26").replace(Ll,"`").replace(Uo,"{").replace(To,"}").replace(Po,"^")}function Pl(a){return di(a).replace(Il,"%3D")}function Ul(a){return Mi(a).replace(Oo,"%23").replace(Al,"%3F")}function Tl(a){return a==null?"":Ul(a).replace(Cl,"%2F")}function ln(a){try{return decodeURIComponent(""+a)}catch{}return""+a}const Bl=/\/$/,zl=a=>a.replace(Bl,"");function Gn(a,e,t="/"){let n,i={},r="",o="";const s=e.indexOf("#");let l=e.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(n=e.slice(0,l),r=e.slice(l+1,s>-1?s:e.length),i=a(r)),s>-1&&(n=n||e.slice(0,s),o=e.slice(s,e.length)),n=jl(n??e,t),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:ln(o)}}function Hl(a,e){const t=e.query?a(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function dr(a,e){return!e||!a.toLowerCase().startsWith(e.toLowerCase())?a:a.slice(e.length)||"/"}function $l(a,e,t){const n=e.matched.length-1,i=t.matched.length-1;return n>-1&&n===i&&zt(e.matched[n],t.matched[i])&&Bo(e.params,t.params)&&a(e.query)===a(t.query)&&e.hash===t.hash}function zt(a,e){return(a.aliasOf||a)===(e.aliasOf||e)}function Bo(a,e){if(Object.keys(a).length!==Object.keys(e).length)return!1;for(const t in a)if(!Dl(a[t],e[t]))return!1;return!0}function Dl(a,e){return Je(a)?cr(a,e):Je(e)?cr(e,a):a===e}function cr(a,e){return Je(e)?a.length===e.length&&a.every((t,n)=>t===e[n]):a.length===1&&a[0]===e}function jl(a,e){if(a.startsWith("/"))return a;if(!a)return e;const t=e.split("/"),n=a.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=t.length-1,o,s;for(o=0;o<n.length;o++)if(s=n[o],s!==".")if(s==="..")r>1&&r--;else break;return t.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const ct={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var dn;(function(a){a.pop="pop",a.push="push"})(dn||(dn={}));var en;(function(a){a.back="back",a.forward="forward",a.unknown=""})(en||(en={}));function Fl(a){if(!a)if(Lt){const e=document.querySelector("base");a=e&&e.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),zl(a)}const Vl=/^[^#]+#/;function ql(a,e){return a.replace(Vl,"#")+e}function Yl(a,e){const t=document.documentElement.getBoundingClientRect(),n=a.getBoundingClientRect();return{behavior:e.behavior,left:n.left-t.left-(e.left||0),top:n.top-t.top-(e.top||0)}}const Pn=()=>({left:window.scrollX,top:window.scrollY});function Xl(a){let e;if("el"in a){const t=a.el,n=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?n?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=Yl(i,a)}else e=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function fr(a,e){return(history.state?history.state.position-e:-1)+a}const ci=new Map;function Wl(a,e){ci.set(a,e)}function Gl(a){const e=ci.get(a);return ci.delete(a),e}let Kl=()=>location.protocol+"//"+location.host;function zo(a,e){const{pathname:t,search:n,hash:i}=e,r=a.indexOf("#");if(r>-1){let s=i.includes(a.slice(r))?a.slice(r).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),dr(l,"")}return dr(t,a)+n+i}function Jl(a,e,t,n){let i=[],r=[],o=null;const s=({state:f})=>{const h=zo(a,location),p=t.value,g=e.value;let v=0;if(f){if(t.value=h,e.value=f,o&&o===p){o=null;return}v=g?f.position-g.position:0}else n(h);i.forEach(_=>{_(t.value,p,{delta:v,type:dn.pop,direction:v?v>0?en.forward:en.back:en.unknown})})};function l(){o=t.value}function c(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(h),h}function d(){const{history:f}=window;f.state&&f.replaceState(ye({},f.state,{scroll:Pn()}),"")}function u(){for(const f of r)f();r=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function ur(a,e,t,n=!1,i=!1){return{back:a,current:e,forward:t,replaced:n,position:window.history.length,scroll:i?Pn():null}}function Zl(a){const{history:e,location:t}=window,n={value:zo(a,t)},i={value:e.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,d){const u=a.indexOf("#"),f=u>-1?(t.host&&document.querySelector("base")?a:a.slice(u))+l:Kl()+a+l;try{e[d?"replaceState":"pushState"](c,"",f),i.value=c}catch(h){console.error(h),t[d?"replace":"assign"](f)}}function o(l,c){const d=ye({},e.state,ur(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,d,!0),n.value=l}function s(l,c){const d=ye({},i.value,e.state,{forward:l,scroll:Pn()});r(d.current,d,!0);const u=ye({},ur(n.value,l,null),{position:d.position+1},c);r(l,u,!1),n.value=l}return{location:n,state:i,push:s,replace:o}}function Ql(a){a=Fl(a);const e=Zl(a),t=Jl(a,e.state,e.location,e.replace);function n(r,o=!0){o||t.pauseListeners(),history.go(r)}const i=ye({location:"",base:a,go:n,createHref:ql.bind(null,a)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function ed(a){return typeof a=="string"||a&&typeof a=="object"}function Ho(a){return typeof a=="string"||typeof a=="symbol"}const $o=Symbol("");var hr;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(hr||(hr={}));function Ht(a,e){return ye(new Error,{type:a,[$o]:!0},e)}function rt(a,e){return a instanceof Error&&$o in a&&(e==null||!!(a.type&e))}const pr="[^/]+?",td={sensitive:!1,strict:!1,start:!0,end:!0},nd=/[.+*?^${}()[\]/\\]/g;function id(a,e){const t=ye({},td,e),n=[];let i=t.start?"^":"";const r=[];for(const c of a){const d=c.length?[]:[90];t.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const f=c[u];let h=40+(t.sensitive?.25:0);if(f.type===0)u||(i+="/"),i+=f.value.replace(nd,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:g,optional:v,regexp:_}=f;r.push({name:p,repeatable:g,optional:v});const w=_||pr;if(w!==pr){h+=10;try{new RegExp(`(${w})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+x.message)}}let m=g?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;u||(m=v&&c.length<2?`(?:/${m})`:"/"+m),v&&(m+="?"),i+=m,h+=20,v&&(h+=-8),g&&(h+=-20),w===".*"&&(h+=-50)}d.push(h)}n.push(d)}if(t.strict&&t.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function s(c){const d=c.match(o),u={};if(!d)return null;for(let f=1;f<d.length;f++){const h=d[f]||"",p=r[f-1];u[p.name]=h&&p.repeatable?h.split("/"):h}return u}function l(c){let d="",u=!1;for(const f of a){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const h of f)if(h.type===0)d+=h.value;else if(h.type===1){const{value:p,repeatable:g,optional:v}=h,_=p in c?c[p]:"";if(Je(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=Je(_)?_.join("/"):_;if(!w)if(v)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);d+=w}}return d||"/"}return{re:o,score:n,keys:r,parse:s,stringify:l}}function rd(a,e){let t=0;for(;t<a.length&&t<e.length;){const n=e[t]-a[t];if(n)return n;t++}return a.length<e.length?a.length===1&&a[0]===80?-1:1:a.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Do(a,e){let t=0;const n=a.score,i=e.score;for(;t<n.length&&t<i.length;){const r=rd(n[t],i[t]);if(r)return r;t++}if(Math.abs(i.length-n.length)===1){if(gr(n))return 1;if(gr(i))return-1}return i.length-n.length}function gr(a){const e=a[a.length-1];return a.length>0&&e[e.length-1]<0}const od={type:0,value:""},ad=/[a-zA-Z0-9_]/;function sd(a){if(!a)return[[]];if(a==="/")return[[od]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function e(h){throw new Error(`ERR (${t})/"${c}": ${h}`)}let t=0,n=t;const i=[];let r;function o(){r&&i.push(r),r=[]}let s=0,l,c="",d="";function u(){c&&(t===0?r.push({type:0,value:c}):t===1||t===2||t===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;s<a.length;){if(l=a[s++],l==="\\"&&t!==2){n=t,t=4;continue}switch(t){case 0:l==="/"?(c&&u(),o()):l===":"?(u(),t=1):f();break;case 4:f(),t=n;break;case 1:l==="("?t=2:ad.test(l)?f():(u(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:t=3:d+=l;break;case 3:u(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,d="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),i}function ld(a,e,t){const n=id(sd(a.path),t),i=ye(n,{record:a,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function dd(a,e){const t=[],n=new Map;e=yr({strict:!1,end:!0,sensitive:!1},e);function i(u){return n.get(u)}function r(u,f,h){const p=!h,g=vr(u);g.aliasOf=h&&h.record;const v=yr(e,u),_=[g];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const y of x)_.push(vr(ye({},g,{components:h?h.record.components:g.components,path:y,aliasOf:h?h.record:g})))}let w,m;for(const x of _){const{path:y}=x;if(f&&y[0]!=="/"){const b=f.record.path,C=b[b.length-1]==="/"?"":"/";x.path=f.record.path+(y&&C+y)}if(w=ld(x,f,v),h?h.alias.push(w):(m=m||w,m!==w&&m.alias.push(w),p&&u.name&&!br(w)&&o(u.name)),jo(w)&&l(w),g.children){const b=g.children;for(let C=0;C<b.length;C++)r(b[C],w,h&&h.children[C])}h=h||w}return m?()=>{o(m)}:Qt}function o(u){if(Ho(u)){const f=n.get(u);f&&(n.delete(u),t.splice(t.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=t.indexOf(u);f>-1&&(t.splice(f,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function s(){return t}function l(u){const f=ud(u,t);t.splice(f,0,u),u.record.name&&!br(u)&&n.set(u.record.name,u)}function c(u,f){let h,p={},g,v;if("name"in u&&u.name){if(h=n.get(u.name),!h)throw Ht(1,{location:u});v=h.record.name,p=ye(mr(f.params,h.keys.filter(m=>!m.optional).concat(h.parent?h.parent.keys.filter(m=>m.optional):[]).map(m=>m.name)),u.params&&mr(u.params,h.keys.map(m=>m.name))),g=h.stringify(p)}else if(u.path!=null)g=u.path,h=t.find(m=>m.re.test(g)),h&&(p=h.parse(g),v=h.record.name);else{if(h=f.name?n.get(f.name):t.find(m=>m.re.test(f.path)),!h)throw Ht(1,{location:u,currentLocation:f});v=h.record.name,p=ye({},f.params,u.params),g=h.stringify(p)}const _=[];let w=h;for(;w;)_.unshift(w.record),w=w.parent;return{name:v,path:g,params:p,matched:_,meta:fd(_)}}a.forEach(u=>r(u));function d(){t.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:s,getRecordMatcher:i}}function mr(a,e){const t={};for(const n of e)n in a&&(t[n]=a[n]);return t}function vr(a){const e={path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:a.aliasOf,beforeEnter:a.beforeEnter,props:cd(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||null:a.component&&{default:a.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function cd(a){const e={},t=a.props||!1;if("component"in a)e.default=t;else for(const n in a.components)e[n]=typeof t=="object"?t[n]:t;return e}function br(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function fd(a){return a.reduce((e,t)=>ye(e,t.meta),{})}function yr(a,e){const t={};for(const n in a)t[n]=n in e?e[n]:a[n];return t}function ud(a,e){let t=0,n=e.length;for(;t!==n;){const r=t+n>>1;Do(a,e[r])<0?n=r:t=r+1}const i=hd(a);return i&&(n=e.lastIndexOf(i,n-1)),n}function hd(a){let e=a;for(;e=e.parent;)if(jo(e)&&Do(a,e)===0)return e}function jo({record:a}){return!!(a.name||a.components&&Object.keys(a.components).length||a.redirect)}function pd(a){const e={};if(a===""||a==="?")return e;const n=(a[0]==="?"?a.slice(1):a).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(Ro," "),o=r.indexOf("="),s=ln(o<0?r:r.slice(0,o)),l=o<0?null:ln(r.slice(o+1));if(s in e){let c=e[s];Je(c)||(c=e[s]=[c]),c.push(l)}else e[s]=l}return e}function xr(a){let e="";for(let t in a){const n=a[t];if(t=Pl(t),n==null){n!==void 0&&(e+=(e.length?"&":"")+t);continue}(Je(n)?n.map(r=>r&&di(r)):[n&&di(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+t,r!=null&&(e+="="+r))})}return e}function gd(a){const e={};for(const t in a){const n=a[t];n!==void 0&&(e[t]=Je(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const md=Symbol(""),_r=Symbol(""),Oi=Symbol(""),Fo=Symbol(""),fi=Symbol("");function Ft(){let a=[];function e(n){return a.push(n),()=>{const i=a.indexOf(n);i>-1&&a.splice(i,1)}}function t(){a=[]}return{add:e,list:()=>a.slice(),reset:t}}function ht(a,e,t,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const c=f=>{f===!1?l(Ht(4,{from:t,to:e})):f instanceof Error?l(f):ed(f)?l(Ht(2,{from:e,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},d=r(()=>a.call(n&&n.instances[i],e,t,c));let u=Promise.resolve(d);a.length<3&&(u=u.then(c)),u.catch(f=>l(f))})}function Kn(a,e,t,n,i=r=>r()){const r=[];for(const o of a)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(Mo(l)){const d=(l.__vccOpts||l)[e];d&&r.push(ht(d,t,n,o,s,i))}else{let c=l();r.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const u=Sl(d)?d.default:d;o.mods[s]=d,o.components[s]=u;const h=(u.__vccOpts||u)[e];return h&&ht(h,t,n,o,s,i)()}))}}return r}function wr(a){const e=st(Oi),t=st(Fo),n=We(()=>{const l=Ot(a.to);return e.resolve(l)}),i=We(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],u=t.matched;if(!d||!u.length)return-1;const f=u.findIndex(zt.bind(null,d));if(f>-1)return f;const h=Sr(l[c-2]);return c>1&&Sr(d)===h&&u[u.length-1].path!==h?u.findIndex(zt.bind(null,l[c-2])):f}),r=We(()=>i.value>-1&&_d(t.params,n.value.params)),o=We(()=>i.value>-1&&i.value===t.matched.length-1&&Bo(t.params,n.value.params));function s(l={}){if(xd(l)){const c=e[Ot(a.replace)?"replace":"push"](Ot(a.to)).catch(Qt);return a.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:We(()=>n.value.href),isActive:r,isExactActive:o,navigate:s}}function vd(a){return a.length===1?a[0]:a}const bd=eo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wr,setup(a,{slots:e}){const t=En(wr(a)),{options:n}=st(Oi),i=We(()=>({[kr(a.activeClass,n.linkActiveClass,"router-link-active")]:t.isActive,[kr(a.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const r=e.default&&vd(e.default(t));return a.custom?r:Eo("a",{"aria-current":t.isExactActive?a.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},r)}}}),yd=bd;function xd(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const e=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return a.preventDefault&&a.preventDefault(),!0}}function _d(a,e){for(const t in e){const n=e[t],i=a[t];if(typeof n=="string"){if(n!==i)return!1}else if(!Je(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function Sr(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const kr=(a,e,t)=>a??e??t,wd=eo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(a,{attrs:e,slots:t}){const n=st(fi),i=We(()=>a.route||n.value),r=st(_r,0),o=We(()=>{let c=Ot(r);const{matched:d}=i.value;let u;for(;(u=d[c])&&!u.components;)c++;return c}),s=We(()=>i.value.matched[o.value]);gn(_r,We(()=>o.value+1)),gn(md,s),gn(fi,i);const l=Na();return mn(()=>[l.value,s.value,a.name],([c,d,u],[f,h,p])=>{d&&(d.instances[u]=c,h&&h!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),c&&d&&(!h||!zt(d,h)||!f)&&(d.enterCallbacks[u]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,d=a.name,u=s.value,f=u&&u.components[d];if(!f)return Cr(t.default,{Component:f,route:c});const h=u.props[d],p=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=Eo(f,ye({},p,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(u.instances[d]=null)},ref:l}));return Cr(t.default,{Component:v,route:c})||v}}});function Cr(a,e){if(!a)return null;const t=a(e);return t.length===1?t[0]:t}const Sd=wd;function kd(a){const e=dd(a.routes,a),t=a.parseQuery||pd,n=a.stringifyQuery||xr,i=a.history,r=Ft(),o=Ft(),s=Ft(),l=Ea(ct);let c=ct;Lt&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Wn.bind(null,A=>""+A),u=Wn.bind(null,Tl),f=Wn.bind(null,ln);function h(A,V){let j,Q;return Ho(A)?(j=e.getRecordMatcher(A),Q=V):Q=A,e.addRoute(Q,j)}function p(A){const V=e.getRecordMatcher(A);V&&e.removeRoute(V)}function g(){return e.getRoutes().map(A=>A.record)}function v(A){return!!e.getRecordMatcher(A)}function _(A,V){if(V=ye({},V||l.value),typeof A=="string"){const I=Gn(t,A,V.path),M=e.resolve({path:I.path},V),U=i.createHref(I.fullPath);return ye(I,M,{params:f(M.params),hash:ln(I.hash),redirectedFrom:void 0,href:U})}let j;if(A.path!=null)j=ye({},A,{path:Gn(t,A.path,V.path).path});else{const I=ye({},A.params);for(const M in I)I[M]==null&&delete I[M];j=ye({},A,{params:u(I)}),V.params=u(V.params)}const Q=e.resolve(j,V),fe=A.hash||"";Q.params=d(f(Q.params));const S=Hl(n,ye({},A,{hash:Rl(fe),path:Q.path})),k=i.createHref(S);return ye({fullPath:S,hash:fe,query:n===xr?gd(A.query):A.query||{}},Q,{redirectedFrom:void 0,href:k})}function w(A){return typeof A=="string"?Gn(t,A,l.value.path):ye({},A)}function m(A,V){if(c!==A)return Ht(8,{from:V,to:A})}function x(A){return C(A)}function y(A){return x(ye(w(A),{replace:!0}))}function b(A){const V=A.matched[A.matched.length-1];if(V&&V.redirect){const{redirect:j}=V;let Q=typeof j=="function"?j(A):j;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=w(Q):{path:Q},Q.params={}),ye({query:A.query,hash:A.hash,params:Q.path!=null?{}:A.params},Q)}}function C(A,V){const j=c=_(A),Q=l.value,fe=A.state,S=A.force,k=A.replace===!0,I=b(j);if(I)return C(ye(w(I),{state:typeof I=="object"?ye({},fe,I.state):fe,force:S,replace:k}),V||j);const M=j;M.redirectedFrom=V;let U;return!S&&$l(n,Q,j)&&(U=Ht(16,{to:M,from:Q}),ie(Q,Q,!0,!1)),(U?Promise.resolve(U):L(M,Q)).catch(P=>rt(P)?rt(P,2)?P:W(P):H(P,M,Q)).then(P=>{if(P){if(rt(P,2))return C(ye({replace:k},w(P.to),{state:typeof P.to=="object"?ye({},fe,P.to.state):fe,force:S}),V||M)}else P=X(M,Q,!0,k,fe);return O(M,Q,P),P})}function E(A,V){const j=m(A,V);return j?Promise.reject(j):Promise.resolve()}function N(A){const V=ue.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(A):A()}function L(A,V){let j;const[Q,fe,S]=Cd(A,V);j=Kn(Q.reverse(),"beforeRouteLeave",A,V);for(const I of Q)I.leaveGuards.forEach(M=>{j.push(ht(M,A,V))});const k=E.bind(null,A,V);return j.push(k),oe(j).then(()=>{j=[];for(const I of r.list())j.push(ht(I,A,V));return j.push(k),oe(j)}).then(()=>{j=Kn(fe,"beforeRouteUpdate",A,V);for(const I of fe)I.updateGuards.forEach(M=>{j.push(ht(M,A,V))});return j.push(k),oe(j)}).then(()=>{j=[];for(const I of S)if(I.beforeEnter)if(Je(I.beforeEnter))for(const M of I.beforeEnter)j.push(ht(M,A,V));else j.push(ht(I.beforeEnter,A,V));return j.push(k),oe(j)}).then(()=>(A.matched.forEach(I=>I.enterCallbacks={}),j=Kn(S,"beforeRouteEnter",A,V,N),j.push(k),oe(j))).then(()=>{j=[];for(const I of o.list())j.push(ht(I,A,V));return j.push(k),oe(j)}).catch(I=>rt(I,8)?I:Promise.reject(I))}function O(A,V,j){s.list().forEach(Q=>N(()=>Q(A,V,j)))}function X(A,V,j,Q,fe){const S=m(A,V);if(S)return S;const k=V===ct,I=Lt?history.state:{};j&&(Q||k?i.replace(A.fullPath,ye({scroll:k&&I&&I.scroll},fe)):i.push(A.fullPath,fe)),l.value=A,ie(A,V,j,k),W()}let T;function $(){T||(T=i.listen((A,V,j)=>{if(!B.listening)return;const Q=_(A),fe=b(Q);if(fe){C(ye(fe,{replace:!0,force:!0}),Q).catch(Qt);return}c=Q;const S=l.value;Lt&&Wl(fr(S.fullPath,j.delta),Pn()),L(Q,S).catch(k=>rt(k,12)?k:rt(k,2)?(C(ye(w(k.to),{force:!0}),Q).then(I=>{rt(I,20)&&!j.delta&&j.type===dn.pop&&i.go(-1,!1)}).catch(Qt),Promise.reject()):(j.delta&&i.go(-j.delta,!1),H(k,Q,S))).then(k=>{k=k||X(Q,S,!1),k&&(j.delta&&!rt(k,8)?i.go(-j.delta,!1):j.type===dn.pop&&rt(k,20)&&i.go(-1,!1)),O(Q,S,k)}).catch(Qt)}))}let G=Ft(),te=Ft(),K;function H(A,V,j){W(A);const Q=te.list();return Q.length?Q.forEach(fe=>fe(A,V,j)):console.error(A),Promise.reject(A)}function F(){return K&&l.value!==ct?Promise.resolve():new Promise((A,V)=>{G.add([A,V])})}function W(A){return K||(K=!A,$(),G.list().forEach(([V,j])=>A?j(A):V()),G.reset()),A}function ie(A,V,j,Q){const{scrollBehavior:fe}=a;if(!Lt||!fe)return Promise.resolve();const S=!j&&Gl(fr(A.fullPath,0))||(Q||!j)&&history.state&&history.state.scroll||null;return Gr().then(()=>fe(A,V,S)).then(k=>k&&Xl(k)).catch(k=>H(k,A,V))}const Z=A=>i.go(A);let re;const ue=new Set,B={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:g,resolve:_,options:a,push:x,replace:y,go:Z,back:()=>Z(-1),forward:()=>Z(1),beforeEach:r.add,beforeResolve:o.add,afterEach:s.add,onError:te.add,isReady:F,install(A){const V=this;A.component("RouterLink",yd),A.component("RouterView",Sd),A.config.globalProperties.$router=V,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Ot(l)}),Lt&&!re&&l.value===ct&&(re=!0,x(i.location).catch(fe=>{}));const j={};for(const fe in ct)Object.defineProperty(j,fe,{get:()=>l.value[fe],enumerable:!0});A.provide(Oi,V),A.provide(Fo,Vr(j)),A.provide(fi,l);const Q=A.unmount;ue.add(A),A.unmount=function(){ue.delete(A),ue.size<1&&(c=ct,T&&T(),T=null,l.value=ct,re=!1,K=!1),Q()}}};function oe(A){return A.reduce((V,j)=>V.then(()=>N(j)),Promise.resolve())}return B}function Cd(a,e){const t=[],n=[],i=[],r=Math.max(e.matched.length,a.matched.length);for(let o=0;o<r;o++){const s=e.matched[o];s&&(a.matched.find(c=>zt(c,s))?n.push(s):t.push(s));const l=a.matched[o];l&&(e.matched.find(c=>zt(c,l))||i.push(l))}return[t,n,i]}const Id={},Ad={class:"item"},Nd={class:"details"};function Ed(a,e){return qe(),dt("div",Ad,[be("i",null,[Dn(a.$slots,"icon",{},void 0)]),be("div",Nd,[be("h3",null,[Dn(a.$slots,"heading",{},void 0)]),Dn(a.$slots,"default",{},void 0)])])}const Vt=At(Id,[["render",Ed],["__scopeId","data-v-40a5c0e5"]]),Ld={},Md={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"};function Od(a,e){return qe(),dt("svg",Md,e[0]||(e[0]=[be("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1)]))}const Rd=At(Ld,[["render",Od]]),Pd={},Ud={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function Td(a,e){return qe(),dt("svg",Ud,e[0]||(e[0]=[be("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1)]))}const Bd=At(Pd,[["render",Td]]),zd={},Hd={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"};function $d(a,e){return qe(),dt("svg",Hd,e[0]||(e[0]=[be("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1)]))}const Dd=At(zd,[["render",$d]]),jd={},Fd={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function Vd(a,e){return qe(),dt("svg",Fd,e[0]||(e[0]=[be("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1)]))}const qd=At(jd,[["render",Vd]]),Yd={},Xd={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function Wd(a,e){return qe(),dt("svg",Xd,e[0]||(e[0]=[be("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1)]))}const Gd=At(Yd,[["render",Wd]]),Kd={__name:"TheWelcome",setup(a){const e=()=>fetch("/__open-in-editor?file=README.md");return(t,n)=>(qe(),dt(Fe,null,[Ce(Vt,null,{icon:Me(()=>[Ce(Rd)]),heading:Me(()=>n[0]||(n[0]=[ve("Documentation")])),default:Me(()=>[n[1]||(n[1]=ve(" Vue’s ")),n[2]||(n[2]=be("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1)),n[3]||(n[3]=ve(" provides you with all information you need to get started. "))]),_:1}),Ce(Vt,null,{icon:Me(()=>[Ce(Bd)]),heading:Me(()=>n[4]||(n[4]=[ve("Tooling")])),default:Me(()=>[n[6]||(n[6]=ve(" This project is served and bundled with ")),n[7]||(n[7]=be("a",{href:"https://vite.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1)),n[8]||(n[8]=ve(". The recommended IDE setup is ")),n[9]||(n[9]=be("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1)),n[10]||(n[10]=ve(" + ")),n[11]||(n[11]=be("a",{href:"https://github.com/vuejs/language-tools",target:"_blank",rel:"noopener"},"Vue - Official",-1)),n[12]||(n[12]=ve(". If you need to test your components and web pages, check out ")),n[13]||(n[13]=be("a",{href:"https://vitest.dev/",target:"_blank",rel:"noopener"},"Vitest",-1)),n[14]||(n[14]=ve(" and ")),n[15]||(n[15]=be("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1)),n[16]||(n[16]=ve(" / ")),n[17]||(n[17]=be("a",{href:"https://playwright.dev/",target:"_blank",rel:"noopener"},"Playwright",-1)),n[18]||(n[18]=ve(". ")),n[19]||(n[19]=be("br",null,null,-1)),n[20]||(n[20]=ve(" More instructions are available in ")),be("a",{href:"javascript:void(0)",onClick:e},n[5]||(n[5]=[be("code",null,"README.md",-1)])),n[21]||(n[21]=ve(". "))]),_:1}),Ce(Vt,null,{icon:Me(()=>[Ce(Dd)]),heading:Me(()=>n[22]||(n[22]=[ve("Ecosystem")])),default:Me(()=>[n[23]||(n[23]=ve(" Get official tools and libraries for your project: ")),n[24]||(n[24]=be("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1)),n[25]||(n[25]=ve(", ")),n[26]||(n[26]=be("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1)),n[27]||(n[27]=ve(", ")),n[28]||(n[28]=be("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1)),n[29]||(n[29]=ve(", and ")),n[30]||(n[30]=be("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1)),n[31]||(n[31]=ve(". If you need more resources, we suggest paying ")),n[32]||(n[32]=be("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1)),n[33]||(n[33]=ve(" a visit. "))]),_:1}),Ce(Vt,null,{icon:Me(()=>[Ce(qd)]),heading:Me(()=>n[34]||(n[34]=[ve("Community")])),default:Me(()=>[n[35]||(n[35]=ve(" Got stuck? Ask your question on ")),n[36]||(n[36]=be("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1)),n[37]||(n[37]=ve(" (our official Discord server), or ")),n[38]||(n[38]=be("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1)),n[39]||(n[39]=ve(". You should also follow the official ")),n[40]||(n[40]=be("a",{href:"https://bsky.app/profile/vuejs.org",target:"_blank",rel:"noopener"},"@vuejs.org",-1)),n[41]||(n[41]=ve(" Bluesky account or the ")),n[42]||(n[42]=be("a",{href:"https://x.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1)),n[43]||(n[43]=ve(" X account for latest news in the Vue world. "))]),_:1}),Ce(Vt,null,{icon:Me(()=>[Ce(Gd)]),heading:Me(()=>n[44]||(n[44]=[ve("Support Vue")])),default:Me(()=>[n[45]||(n[45]=ve(" As an independent project, Vue relies on community backing for its sustainability. You can help us by ")),n[46]||(n[46]=be("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1)),n[47]||(n[47]=ve(". "))]),_:1})],64))}},Jd={__name:"HomeView",setup(a){return(e,t)=>(qe(),dt("main",null,[Ce(Kd)]))}},Zd=kd({history:Ql("/"),routes:[{path:"/",name:"home",component:Jd},{path:"/about",name:"about",component:()=>wl(()=>import("./AboutView-sNRfuB36.js"),__vite__mapDeps([0,1]))}]}),Vo=dl(yl);Vo.use(Zd);Vo.mount("#app");export{At as _,be as a,dt as c,qe as o};
